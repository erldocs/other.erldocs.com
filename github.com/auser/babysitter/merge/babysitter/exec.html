<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>exec (babysitter) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>exec</h1>
<h2 class="modsummary">OS shell command starter.</h2>
<div class="description">
<p>OS shell command starter.
        It communicates with a C++ port process <code>exec-port</code> responsible
        for starting, killing, listing, terminating, and notifying of
        state changes.  The port program serves as a middle-man between
        the OS and the virtual machine to carry out OS-specific low-level
        process control.  The Erlang/C++ protocol is described in the
        <code>exec.cpp</code> file.  The <code>exec-port</code>
        When <code>exec-port</code> is started with a root suid bit set, it
        requires to be provided with the <code>{user, User}</code> option so that it
        will not run as root.  Before changing the effective <code>User</code>,
        it sets the kernel capabilities so that it's able to start
        processes as other users and adjust process priorities.
        At exit the port program makes its best effort to perform
        clean shutdown of all child OS processes.
        Every started OS process is linked to a spawned light-weight
        Erlang process returned by the run/2, run_link/2 command.
        The application ensures that termination of spawned OsPid
        leads to termination of the associated Erlang Pid, and vice
        versa.
  </p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-cmd_options">cmd_options() = [Option]</h3></div>
    <div class="type"><h3 id="type-exec_options">exec_options() = [Option]</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="start_link/1">start_link(Options::options()) -&gt; {ok, Pid::pid()} | {error, Reason}</h3>


<div class="description">

<p>Supervised start an external program manager.</p>
</div></div>
<div class="function">
<h3 id="start/1">start(Options) -&gt; term()
</h3>


<div class="description">

<p>Start of an external program manager without supervision.</p>
</div></div>
<div class="function">
<h3 id="run/1">run(Exe::string(), Options::cmd_options()) -&gt; Result</h3>

<ul class="type">
<li><code>Result = {ok, Pid::pid(), OsPid::integer()} | {error, Reason}</code></li></ul>
<div class="description">

<p>Start an external program.</p>
</div></div>
<div class="function">
<h3 id="run_link/2">run_link(Exe, Options) -&gt; term()
</h3>


<div class="description">

<p>Start an external program and link to the OsPid. If OsPid exits,
       the calling process will be killed or if it's trapping exits,
       it'll get {'EXIT', OsPid, Status} message.  If the calling process
       dies the OsPid will be killed.</p>
</div></div>
<div class="function">
<h3 id="which_children/0">which_children() -&gt; [OsPid::integer()]</h3>


<div class="description">

<p>Get a list of children managed by port program.</p>
</div></div>
<div class="function">
<h3 id="kill/2">kill(Pid, Signal::integer()) -&gt; ok | {error, Reason}</h3>

<ul class="type">
<li><code>Pid = pid() | OsPid</code></li><li><code>OsPid = integer()</code></li></ul>
<div class="description">

<p>Send a <code>Signal</code> to a child <code>Pid</code> or <code>OsPid</code>.</p>
</div></div>
<div class="function">
<h3 id="stop/1">stop(Pid) -&gt; ok | {error, Reason}</h3>

<ul class="type">
<li><code>Pid = pid() | OsPid</code></li><li><code>OsPid = integer()</code></li></ul>
<div class="description">

<p>Terminate a managed <code>Pid</code> or <code>OsPid</code> process.</p>
</div></div>
<div class="function">
<h3 id="run_action/1">run_action(Tuple) -&gt; ok | {error, Reason}</h3>

<ul class="type">
<li><code>Tuple = tuple()</code></li></ul>
<div class="description">

<p>Run an unspecified action on the port</p>
</div></div>
<div class="function">
<h3 id="ospid/1">ospid(Pid::pid()) -&gt; ok | {error, Reason}</h3>

<ul class="type">
<li><code>Pid = pid() | OsPid</code></li><li><code>OsPid = integer()</code></li></ul>
<div class="description">

<p>Terminate a managed <code>Pid</code> or <code>OsPid</code> process.</p>
</div></div>
<div class="function">
<h3 id="status/1">status(Status::integer()) -&gt; {status, ExitStatus::integer()} | {signal, Signal::integer(), Core::boolean()}</h3>


<div class="description">

<p>Decode the program's exit_status.</p>
</div></div>
<div class="function">
<h3 id="default/0">default() -&gt; Default::exec_options()</h3>


<div class="description">

<p>Provide default value of a given option.</p>
</div></div>
<div class="function">
<h3 id="default/1">default(Option) -&gt; term()
</h3>


<div class="description">
 </div></div></div>

<authors>

<aname>Serge Aleynikov</aname>
<email>saleyn@gmail.com</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
