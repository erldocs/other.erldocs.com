<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>gen_activity (rosen) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>gen_activity</h1>
<h2 class="modsummary">This behaviour provides an abstraction for object activities.</h2>
<div class="description">
<p>This behaviour provides an abstraction for object activities.
       A gen_activity allows an object "to do" something during the
       simulation, and alla activities can be performed in parallel.
       For example, if the robot has an helic which is a compound
       Object3d(), the right way to make the helic rotating is adding
       an activity "rotate_helic" which uses the gen_activity behaviour
       and takes care of helic rotation at each step.
       Each activity is passed the current state of the object it is
       applied to, so that it is possible to modify objects properties
       (position, colors, etc...) as a result of the activity. <br />
       The callback module should provide those functions:<br />
       </p><list>
       <item><p>init/2</p></item>
       <item><p>step/5</p></item>
       <item><p>get_property/3</p></item>
       <item><p>set_property/4</p></item>
       </list><p>
       which are used, respectively, to perform a step of the activity and
       to get/set activity properties. <br />
       <br />
       Some other modules of ROSEN, for example <i>kinematics</i>,
       <i>simple_path</i> and <i>diff_drive</i> are       
implemented as activities, since the movement of an object       
is, actually, one of the main activities of an object in a 3d sim.</p>
 
 </div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="start_link/4">start_link(Module, Params, ObjectPid, Object) -&gt; Result</h3>

<ul class="type">
<li><code>Module = atom()</code></li><li><code>Params = [term()]</code></li><li><code>ObjectPid = pid()</code></li><li><code>Object = object3d()</code></li><li><code>Result = {ok, Pid} | {error, Reason} | undefined</code></li></ul>
<div class="description">

<p>create an activity for an object.
       Module is the name of the module where callbacks are implemented.
       Params is the list of params to be passed to the </p><pre class="sh_erlang">Module:init</pre><p>
       function <code>ObjectPid</code> is the pid of the Object3d to which
       this activity applies, while <code>Object</code> must be the complete
       description of the object3d.<br />
       This function is not called directly, you may use
       </p><pre class="sh_erlang">object3d:add_activity</pre><p> to add an activity to a given       
object.</p>
 
 
</div></div>
<div class="function">
<h3 id="start_link/5">start_link(Name, Module, Params, ObjectPid, Object) -&gt; Result</h3>

<ul class="type">
<li><code>Name = atom()</code></li><li><code>Module = atom()</code></li><li><code>Params = [term()]</code></li><li><code>ObjectPid = pid()</code></li><li><code>Object = object3d()</code></li><li><code>Result = {ok, Pid} | {error, Reason} | undefined</code></li></ul>
<div class="description">

<p>create an activity for an object, registering it with local name Name.
       Name = the name of the activity
       Module is the name of the module where callbacks are implemented.
       Params is the list of params to be passed to the </p><pre class="sh_erlang">Module:init</pre><p>
       function <code>ObjectPid</code> is the pid of the Object3d to which
       this activity applies, while <code>Object</code> must be the complete
       description of the object3d.<br />
       This function is not called directly, you may use
       </p><pre class="sh_erlang">object3d:add_activity</pre><p> to add an activity to a given
       object.
 </p>
</div></div>
<div class="function">
<h3 id="step/2">step(Pid, ObjectState) -&gt; Reply</h3>

<ul class="type">
<li><code>Pid = pid()</code></li><li><code>ObjectState = object3d()</code></li><li><code>Reply = term()</code></li></ul>
<div class="description">

<p>Perform a step of an activity. The step acts on the ObjectState of       
the object whose pid is Pid.       
Reply is a term returned by the activity. Note that activities are       
performed on a step-by-step base: whenever an object3d() is updated,       
all its activities perform a step.</p>
 
 
</div></div>
<div class="function">
<h3 id="get_property/2">get_property(Pid, PropName) -&gt; Result</h3>

<ul class="type">
<li><code>Pid = pid()</code></li><li><code>PropName = term()</code></li><li><code>Result = {value, {PropName, PropValue}} | {error, noprop} | CustomRes</code></li><li><code>PropValue = term()</code></li><li><code>CustomRes = term()</code></li></ul>
<div class="description">

<p>Get the property PropName of the activity at pid Pid. The result
       should be {error, noprop} if the property does ot exist, and should
       be {value, {PropName, PropVal}} if the property exists. Also a
       custom CustomRes term can be returned.
 </p>
</div></div>
<div class="function">
<h3 id="set_property/3">set_property(Pid, PropName, PropertyValue) -&gt; Result</h3>

<ul class="type">
<li><code>Pid = pid()</code></li><li><code>PropName = term()</code></li><li><code>PropValue = term()</code></li><li><code>Result = ok | {error, noprop}</code></li><li><code>PropVal = term()</code></li></ul>
<div class="description">

<p>Set the property PropName of the activity at pid Pid assigning it to
       value PropValue. If the property esists, it is set to the new value
       and the result is {ok}. Otherwise, the callback function should return
       {error, noprop}
 </p>
</div></div>
<div class="function">
<h3 id="module_state/1">module_state(Pid) -&gt; Result</h3>

<ul class="type">
<li><code>Pid = pid()</code></li><li><code>Result = term()</code></li></ul>
<div class="description">

<p>Returns the state of the specific module associated to
       this gen_activity.
 </p>
</div></div>
<div class="function">
<h3 id="stop/1">stop(Pid) -&gt; ok</h3>

<ul class="type">
<li><code>Pid = pid()</code></li></ul>
<div class="description">

<p>Immediately stop the activity with pid Pid, calling the
       <code>terminate/2</code> callback function, which
       should return ok.
 </p>
</div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
