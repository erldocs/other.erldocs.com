<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>couchbeam (couchbeam) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>couchbeam</h1>
<h2 class="modsummary"/>
<div class="description">
</div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-attachment_content">attachment_content() = string() | binary() | fun_arity_0() | {fun_arity_1(), initial_state()}</h3></div>
    <div class="type"><h3 id="type-attachment_fun">attachment_fun() = fun_arity_0() | {fun_arity_1(), initial_state()}</h3></div>
    <div class="type"><h3 id="type-design_name">design_name() = string()</h3></div>
    <div class="type"><h3 id="type-headers">headers() = [tuple()]</h3></div>
    <div class="type"><h3 id="type-iodata">iodata() = iolist() | binary()</h3></div>
    <div class="type"><h3 id="type-iolist">iolist() = [char() | binary() | iolist()]</h3></div>
    <div class="type"><h3 id="type-json_array">json_array() = [json_term()]</h3></div>
    <div class="type"><h3 id="type-json_number">json_number() = integer() | float()</h3></div>
    <div class="type"><h3 id="type-json_object">json_object() = {struct, [{json_string(), json_term()}]}</h3></div>
    <div class="type"><h3 id="type-json_string">json_string() = atom | binary()</h3></div>
    <div class="type"><h3 id="type-json_term">json_term() = json_string() | json_number() | json_array() | json_object()</h3></div>
    <div class="type"><h3 id="type-key_val">key_val() = lis() | binary()</h3></div>
    <div class="type"><h3 id="type-node">node() = {NodeName::atom() | string(), Hostname::string(), Port::integer()}</h3></div>
    <div class="type"><h3 id="type-node_info">node_info() = {Host::string(), Port::int()}</h3></div>
    <div class="type"><h3 id="type-property">property() = json_obj() | tuple()</h3></div>
    <div class="type"><h3 id="type-rows">rows() = {Id::binary(), Key::term(), Row::proplist()}</h3></div>
    <div class="type"><h3 id="type-view_fun">view_fun() = fun_arity_0() | {fun_arity_1(), initial_state()}</h3></div>
    <div class="type"><h3 id="type-view_name">view_name() = string()</h3></div>
    <div class="type"><h3 id="type-view_params">view_params() = proplist()</h3></div>
    <div class="type"><h3 id="type-view_result">view_result() = {TotalRows::integer(), Offset::interger(), Rows::rows()}</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="start/0">start() -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="stop/0">stop() -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="start/2">start(Type, StartArgs) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="stop/1">stop(Reason) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="sup_start_link/0">sup_start_link() -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="open_connection/1">open_connection(X1::node()) -&gt; ok</h3>


<div class="description">

<p>When you use couchbeam as an application (OTP mode) you could setup the
  connection and open a gen_server that will be supervised. It allow you
  for now to set once the CouchDB node and reuse settings. In a future version it will
  be possible to setup loadbalancing and such things.</p>
</div></div>
<div class="function">
<h3 id="json_encode/1">json_encode(V::json_term()) -&gt; iolist()</h3>


<div class="description">

<p>Encode to json</p>
</div></div>
<div class="function">
<h3 id="json_decode/1">json_decode(V::iolist()) -&gt; json_term()</h3>


<div class="description">

<p>decode from json string</p>
</div></div>
<div class="function">
<h3 id="server_info/1">server_info(NodeName) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="uuids/0">uuids() -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="uuids/1">uuids(Count) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="uuids/2">uuids(NodeName, Count) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="next_uuid/0">next_uuid() -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="next_uuid/1">next_uuid(NodeName) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="all_dbs/1">all_dbs(NodenName::atom() | node_info()) -&gt; list()</h3>


<div class="description">

<p>fetch list of all dbs</p>
</div></div>
<div class="function">
<h3 id="db_info/1">db_info(NodeName::atom() | node_info(), DbName::string()) -&gt; list()</h3>


<div class="description">

<p>fetch information of Database</p>
</div></div>
<div class="function">
<h3 id="create_db/1">create_db(NodeName::atom() | node_info(), DbName::string()) -&gt; ok</h3>


<div class="description">

<p>create a database with DbName</p>
</div></div>
<div class="function">
<h3 id="delete_db/1">delete_db(NodeName::atom() | node_info(), DbName::string()) -&gt; ok</h3>


<div class="description">

<p>delete a database with dbname</p>
</div></div>
<div class="function">
<h3 id="is_db/1">is_db(NodeName::atom() | node_info(), DbName::string()) -&gt; true | false</h3>


<div class="description">

<p>If database exist in the node returns true</p>
</div></div>
<div class="function">
<h3 id="open_doc/1">open_doc(NodeName::atom() | node_info(), DbName::string(), DocId::string()) -&gt; json_object()</h3>


<div class="description">

<p>open a doc with DocID</p>
</div></div>
<div class="function">
<h3 id="open_doc/1-1">open_doc(NodeName::atom() | node_info(), DbName::string(), DocId::string(), Rev::string()) -&gt; json_object()</h3>


<div class="description">

<p>open a doc with DocId for specific revision</p>
</div></div>
<div class="function">
<h3 id="save_doc/1">save_doc(NodeName::atom() | node_info(), DbName::string(), Doc::json_object()) -&gt; json_object()</h3>


<div class="description">

<p>save a doc. If Id don't exist it will be created,
  If _id and _rev are in Doc object, document will be updated</p>
</div></div>
<div class="function">
<h3 id="save_doc/1-1">save_doc(NodeName::atom() | node_info(), DbName::string(), Doc::json_object(), DocId::string) -&gt; json_object()</h3>


<div class="description">

<p>save a do with DocId.</p>
</div></div>
<div class="function">
<h3 id="save_docs/1">save_docs(NodeName::atom() | node_info(), DbName::string(), Docs::json_array()) -&gt; json_object()</h3>


<div class="description">

<p>bulk update</p>
</div></div>
<div class="function">
<h3 id="save_docs/1-1">save_docs(NodeName::atom() | node_info(), DbName::string(), Docs::json_array(), Opts::lists() (see module opts)) -&gt; json_object()</h3>


<div class="description">

<p>bulk update with options, currently support only all_or_nothing.</p>
</div></div>
<div class="function">
<h3 id="delete_doc/1">delete_doc(NodeName::atom() | node_info(), DbName::string(), Doc::json_object()) -&gt; json_object()</h3>


<div class="description">

<p>delete a document</p>
</div></div>
<div class="function">
<h3 id="all_docs/1">all_docs(NodeName::atom() | node_info(), DbName::string(), Params::list()) -&gt; json_object()</h3>


<div class="description">

<p>This method has the same behavior as a view. Return all docs</p>
</div></div>
<div class="function">
<h3 id="all_docs_by_seq/1">all_docs_by_seq(NodeName::atom() | node_info(), DbName::string(), Params::list()) -&gt; json_object()</h3>


<div class="description">

<p>This method has the same behavior as a view.
  Return an updated list of all documents.</p>
</div></div>
<div class="function">
<h3 id="query_view/1">query_view(NodeName::atom() | node_info(), DbName::string(), DName::design_name(), ViewName::view_name()) -&gt; json_object()</h3>


<div class="description">

<p>query a view and return all results</p>
</div></div>
<div class="function">
<h3 id="query_view/1-1">query_view(NodeName::atom() | node_info(), DbName::string(), DName::design_name(), ViewName::view_name(), Params::view_params()) -&gt; json_object()</h3>


<div class="description">

<p>query a view and return results depending on params</p>
</div></div>
<div class="function">
<h3 id="query_view/1-2">query_view(NodeName::atom() | node_info(), DbName::string(), DName::design_name(), ViewName::view_name(), Params::view_params(), Fun::view_fun()) -&gt; json_object()</h3>


<div class="description">

<p>query a view and return results depending on params, fun could be specfied
  to pare the incoming view. See parse_incoming_view in examples.
 </p>
</div></div>
<div class="function">
<h3 id="parse_view/1">parse_view(Other::json_object()) -&gt; view_result()</h3>


<div class="description">

<p>Return a list of document ids for a given view.</p>
</div></div>
<div class="function">
<h3 id="fetch_attachment/1">fetch_attachment(NodeName::atom() | node_info(), DbName::string(), DocId::string(), AName::string()) -&gt; iolist()</h3>


<div class="description">

<p>fetch attachment</p>
</div></div>
<div class="function">
<h3 id="fetch_attachment/1-1">fetch_attachment(NodeName::atom() | node_info(), DbName::string(), DocId::string(), AName::string(), Fun::attachment_fun()) -&gt; iolist()</h3>


<div class="description">

<p>fetch attachment</p>
</div></div>
<div class="function">
<h3 id="delete_attachment/1">delete_attachment(NodeName::atom() | node_info(), DbName::string(), Doc::json_obj(), AName::string()) -&gt; json_obj()</h3>


<div class="description">

<p>delete attachment</p>
</div></div>
<div class="function">
<h3 id="put_attachment/1">put_attachment(NodeName::atom() | node_info(), DbName::string(), Doc::json_obj(), Content::attachment_content(), AName::string(), Length::string()) -&gt; json_obj()</h3>


<div class="description">

<p>put attachment attachment, It will try to guess mimetype</p>
</div></div>
<div class="function">
<h3 id="put_attachment/1-1">put_attachment(NodeName::atom() | node_info(), DbName::string(), Doc::json_obj(), Content::attachment_content(), AName::string(), Length::string(), ContentType::string()) -&gt; json_obj()</h3>


<div class="description">

<p>put attachment attachment with ContentType fixed.</p>
</div></div>
<div class="function">
<h3 id="extend/1">extend(Key::binary(), Value::json_term(), JsonObj::json_obj()) -&gt; json_obj()</h3>


<div class="description">

<p>extend a jsonobject by key, value</p>
</div></div>
<div class="function">
<h3 id="extend/1-1">extend(Prop::property(), JsonObj::json_obj()) -&gt; json_obj()</h3>


<div class="description">

<p>extend a jsonobject by a property or list of property</p>
</div></div>
<div class="function">
<h3 id="get_value/1">get_value(Key::key_val(), JsonObj::json_obj()) -&gt; term()</h3>


<div class="description">

<p>get value from a json obje
  function from erlang_couchdb</p>
</div></div>
<div class="function">
<h3 id="do_reply/1">do_reply(Resp::term()) -&gt; term()</h3>


<div class="description">

<p>make transformation on final http response</p>
</div></div>
<div class="function">
<h3 id="make_request/1">make_request(NodeName::atom() | node_info(), Method::string(), Path::string(), Headers::headers()) -&gt; term()</h3>


<div class="description">

<p>function used to create and send request.</p>
</div></div>
<div class="function">
<h3 id="make_request/5">make_request(NodeName, Method, Path, Headers, Params) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="make_request/6">make_request(Node, Method, Path, Body, Headers, Params) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="make_request/7">make_request(Node, Method, Path, Body, Headers, Params, Fun) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="init/1">init(X1) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="handle_call/3">handle_call(X1, From, Couchbeam_srv) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="terminate/2">terminate(Reason, State) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="handle_cast/2">handle_cast(Msg, Server) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="code_change/3">code_change(OldVsn, State, Extra) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="handle_info/2">handle_info(Info, Server) -&gt; term()
</h3>


<div class="description">
 </div></div></div>

<authors>

<aname>Benoît Chesneau</aname>
<email>benoitc@e-engura.org</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
