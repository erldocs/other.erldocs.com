<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>cferl_container (cferl) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>cferl_container</h1>
<h2 class="modsummary">Management of a container's storage objects.</h2>
<div class="description">
<p>Management of a container's storage objects.</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-cf_container_cdn_config">cf_container_cdn_config() = record()</h3></div>
    <div class="type"><h3 id="type-cf_object_details">cf_object_details() = record()</h3></div>
    <div class="type"><h3 id="type-cf_object_query_args">cf_object_query_args() = record()</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="name/2">name(Cf_container::#cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}) -&gt; binary()</h3>


<div class="description">

<p>Name of the current container.</p>
</div></div>
<div class="function">
<h3 id="bytes/2">bytes(Cf_container::#cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}) -&gt; integer()</h3>


<div class="description">

<p>Size in bytes of the current container.</p>
</div></div>
<div class="function">
<h3 id="count/2">count(Cf_container::#cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}) -&gt; integer()</h3>


<div class="description">

<p>Number of objects in the current container.</p>
</div></div>
<div class="function">
<h3 id="is_empty/2">is_empty(Cf_container::#cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}) -&gt; true | false</h3>


<div class="description">

<p>Determine if the current container is empty.</p>
</div></div>
<div class="function">
<h3 id="is_public/2">is_public(Cf_container::#cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}) -&gt; true | false</h3>


<div class="description">

<p>Determine if the current container is public (CDN-enabled).</p>
</div></div>
<div class="function">
<h3 id="cdn_url/2">cdn_url(Cf_container::#cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}) -&gt; binary()</h3>


<div class="description">

<p>CDN of the container URL, if it is public.</p>
</div></div>
<div class="function">
<h3 id="cdn_ttl/2">cdn_ttl(Cf_container::#cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}) -&gt; integer()</h3>


<div class="description">

<p>TTL (in seconds) of the container, if it is public.</p>
</div></div>
<div class="function">
<h3 id="log_retention/2">log_retention(Cf_container::#cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}) -&gt; true | false</h3>


<div class="description">

<p>Determine if log retention is enabled on this container (which must be public).</p>
</div></div>
<div class="function">
<h3 id="make_public/1">make_public(Cf_connection::#cf_connection{version=undefined | string(), auth_token=undefined | string(), storage_url=undefined | string(), cdn_management_url=undefined | string()}, Cf_container::#cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}) -&gt; ok | cferl_error() (see module cferl_lib)</h3>


<div class="description">

<p>Make the current container publicly accessible on CDN, using the default configuration (ttl of 1 day and no ACL).</p>
</div></div>
<div class="function">
<h3 id="make_public/1-1">make_public(Cf_connection::#cf_connection{version=undefined | string(), auth_token=undefined | string(), storage_url=undefined | string(), cdn_management_url=undefined | string()}, Cf_container::#cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}, Cf_container_cdn_config::#cf_container_cdn_config{}) -&gt; ok | cferl_error() (see module cferl_lib)</h3>


<div class="description">

<p>Make the current container publicly accessible on CDN, using the provided configuration.
    ttl is in seconds.
    user_agent_acl and referrer_acl are Perl-compatible regular expression used to limit access to this container.</p>
</div></div>
<div class="function">
<h3 id="make_private/1">make_private(Cf_connection::#cf_connection{version=undefined | string(), auth_token=undefined | string(), storage_url=undefined | string(), cdn_management_url=undefined | string()}, Cf_container::#cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}) -&gt; ok | cferl_error() (see module cferl_lib)</h3>


<div class="description">

<p>Make the current container private.
    If it was previously public, it will remain accessible on the CDN until its TTL is reached.</p>
</div></div>
<div class="function">
<h3 id="set_log_retention/1">set_log_retention(Cf_connection::#cf_connection{version=undefined | string(), auth_token=undefined | string(), storage_url=undefined | string(), cdn_management_url=undefined | string()}, Cf_container::#cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}, X3::true | false) -&gt; ok | cferl_error() (see module cferl_lib)</h3>


<div class="description">

<p>Activate or deactivate log retention for current container.</p>
</div></div>
<div class="function">
<h3 id="refresh/1">refresh(Cf_connection::#cf_connection{version=undefined | string(), auth_token=undefined | string(), storage_url=undefined | string(), cdn_management_url=undefined | string()}, Cf_container::#cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}) -&gt; {ok, #cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}} | cferl_error() (see module cferl_lib)</h3>


<div class="description">

<p>Refresh the current container reference.</p>
</div></div>
<div class="function">
<h3 id="delete/1">delete(Cf_connection::#cf_connection{version=undefined | string(), auth_token=undefined | string(), storage_url=undefined | string(), cdn_management_url=undefined | string()}, Cf_container::#cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}) -&gt; ok | {error, not_empty} | cferl_error() (see module cferl_lib)</h3>


<div class="description">

<p>Delete the current container (which must be empty).</p>
</div></div>
<div class="function">
<h3 id="get_objects_names/1">get_objects_names(Cf_connection::#cf_connection{version=undefined | string(), auth_token=undefined | string(), storage_url=undefined | string(), cdn_management_url=undefined | string()}, Cf_container::#cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}) -&gt; {ok, [binary()]} | cferl_error() (see module cferl_lib)</h3>


<div class="description">

<p>Retrieve all the object names in the current container (within the limits imposed by Cloud Files server).</p>
</div></div>
<div class="function">
<h3 id="get_objects_names/1-1">get_objects_names(Cf_connection::#cf_connection{version=undefined | string(), auth_token=undefined | string(), storage_url=undefined | string(), cdn_management_url=undefined | string()}, Cf_container::#cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}, Cf_object_query_args::#cf_object_query_args{}) -&gt; {ok, [binary()]} | cferl_error() (see module cferl_lib)</h3>


<div class="description">

<p>Retrieve the object names in the current container, filtered by the provided query arguments.
    If you supply the optional limit, marker, prefix or path arguments, the call will return the number of objects specified in limit,
    starting at the object index specified in marker, selecting objects whose names start with prefix or search within the pseudo-filesystem
    path.</p>
</div></div>
<div class="function">
<h3 id="get_objects_details/1">get_objects_details(Cf_connection::#cf_connection{version=undefined | string(), auth_token=undefined | string(), storage_url=undefined | string(), cdn_management_url=undefined | string()}, Cf_container::#cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}) -&gt; {ok, [#cf_object_details{}]} | cferl_error() (see module cferl_lib)</h3>


<div class="description">

<p>Retrieve details for all the objects in the current container (within the limits imposed by Cloud Files server).</p>
</div></div>
<div class="function">
<h3 id="get_objects_details/1-1">get_objects_details(Cf_connection::#cf_connection{version=undefined | string(), auth_token=undefined | string(), storage_url=undefined | string(), cdn_management_url=undefined | string()}, Cf_container::#cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}, Cf_object_query_args::#cf_object_query_args{}) -&gt; {ok, [#cf_object_details{}]} | cferl_error() (see module cferl_lib)</h3>


<div class="description">

<p>Retrieve the object details in the current container, filtered by the provided query arguments.
    If you supply the optional limit, marker, prefix or path arguments, the call will return the number of objects specified in limit,
    starting at the object index specified in marker, selecting objects whose names start with prefix or search within the pseudo-filesystem
    path.</p>
</div></div>
<div class="function">
<h3 id="object_exists/1">object_exists(Cf_connection::#cf_connection{version=undefined | string(), auth_token=undefined | string(), storage_url=undefined | string(), cdn_management_url=undefined | string()}, Cf_container::#cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}, ObjectName::binary()) -&gt; true | false</h3>


<div class="description">

<p>Test the existence of an object in the current container.</p>
</div></div>
<div class="function">
<h3 id="get_object/1">get_object(Cf_connection::#cf_connection{version=undefined | string(), auth_token=undefined | string(), storage_url=undefined | string(), cdn_management_url=undefined | string()}, Cf_container::#cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}, Name::binary()) -&gt; {ok, #cf_object{container=undefined | #cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}, object_details=undefined | #cf_object_details{}, object_path=undefined | string(), http_headers=undefined | [{string(), string()}]}} | cferl_error() (see module cferl_lib)</h3>


<div class="description">

<p>Get a reference to an existing storage object.</p>
</div></div>
<div class="function">
<h3 id="create_object/1">create_object(Cf_connection::#cf_connection{version=undefined | string(), auth_token=undefined | string(), storage_url=undefined | string(), cdn_management_url=undefined | string()}, Cf_container::#cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}, Name::binary()) -&gt; {ok, #cf_object{container=undefined | #cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}, object_details=undefined | #cf_object_details{}, object_path=undefined | string(), http_headers=undefined | [{string(), string()}]}} | cferl_error() (see module cferl_lib)</h3>


<div class="description">

<p>Create a reference to a new storage object.
    Nothing is actually created until data gets written in the object.
    If an object with the provided name already exists, a reference to this object is returned.</p>
</div></div>
<div class="function">
<h3 id="delete_object/1">delete_object(Cf_connection::#cf_connection{version=undefined | string(), auth_token=undefined | string(), storage_url=undefined | string(), cdn_management_url=undefined | string()}, Cf_container::#cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}, Name::binary()) -&gt; ok | cferl_error() (see module cferl_lib)</h3>


<div class="description">

<p>Delete an existing storage object.</p>
</div></div>
<div class="function">
<h3 id="ensure_dir/1">ensure_dir(Cf_connection::#cf_connection{version=undefined | string(), auth_token=undefined | string(), storage_url=undefined | string(), cdn_management_url=undefined | string()}, Cf_container::#cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}, ObjectPath::binary()) -&gt; ok</h3>


<div class="description">

<p>Ensure that all the directories exist in an object path.
    Passing &lt;&lt;"photos/plants/fern.jpg"&gt;&gt;, will ensure that the &lt;&lt;"photos"&gt;&gt; and &lt;&lt;"photos/plants"&gt;&gt; directories exist.</p>
</div></div>
<div class="function">
<h3 id="new/2">new(Cf_container_details::#cf_container_details{}, Path::string(), CdnDetails::[{atom(), term()}]) -&gt; #cf_container{container_details=undefined | #cf_container_details{}, container_path=undefined | string(), cdn_details=undefined | [{atom(), term()}]}</h3>


<div class="description">
 </div></div></div>

<authors>

<aname>David Dossot</aname>
<email>david@dossot.net</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
