<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>mysql (erlang-mysql-driver) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>mysql</h1>
<h2 class="modsummary"/>
<div class="description">
</div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-mysql_result">mysql_result() = term()</h3></div>
    <div class="type"><h3 id="type-query_result">query_result() = {data, mysql_result()} | {updated, mysql_result()} | {error, mysql_result()}</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="log/4">log(Module, Line, Level, FormatFun) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="start_link/1">start_link(PoolId::atom(), Host::string(), Username::string(), Password::string(), Database::string()) -&gt; {ok, Pid} | ignore | {error, Err}</h3>


<div class="description">

<p>Starts the MySQL client gen_server process.</p>
 
  <p>The Port and LogFun parameters are optional.
 </p>
</div></div>
<div class="function">
<h3 id="start_link/1-1">start_link(PoolId::atom(), Host::string(), Port::integer(), Username::string(), Password::string(), Database::string()) -&gt; {ok, Pid} | ignore | {error, Err}</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="start_link/1-2">start_link(PoolId::atom(), Host::string(), Port::integer(), Username::string(), Password::string(), Database::string(), LogFun::undefined | function()) -&gt; {ok, Pid} | ignore | {error, Err}</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="start_link/8">start_link(PoolId, Host, Port, User, Password, Database, LogFun, Encoding) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="start/5">start(PoolId, Host, User, Password, Database) -&gt; term()
</h3>


<div class="description">

<p>These functions are similar to their start_link counterparts,
  but they call gen_server:start() instead of gen_server:start_link()</p>
</div></div>
<div class="function">
<h3 id="start/6">start(PoolId, Host, Port, User, Password, Database) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="start/7">start(PoolId, Host, Port, User, Password, Database, LogFun) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="start/8">start(PoolId, Host, Port, User, Password, Database, LogFun, Encoding) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="connect/8">connect(PoolId, Host, Port, User, Password, Database, Encoding, Reconnect) -&gt; term()
</h3>


<div class="description">
<p>Equivalent to <a href="#connect/9" class="seealso">connect(PoolId, Host, Port, User, Password, Database,
	Encoding, Reconnect, true)</a>.</p>
</div></div>
<div class="function">
<h3 id="connect/1">connect(PoolId::atom(), Host::string(), Port::integer() | undefined, User::string(), Password::string(), Database::string(), Encoding::string(), Reconnect::bool(), LinkConnection::bool()) -&gt; {ok, ConnPid} | {error, Reason}</h3>


<div class="description">

<p>Starts a MySQL connection and, if successful, add it to the
    connection pool in the dispatcher.
 </p>
</div></div>
<div class="function">
<h3 id="fetch/1">fetch(Query::iolist()) -&gt; query_result()</h3>


<div class="description">

<p>Fetch a query inside a transaction.
 </p>
</div></div>
<div class="function">
<h3 id="fetch/1-1">fetch(PoolId::atom(), Query::iolist()) -&gt; query_result()</h3>


<div class="description">

<p>Send a query to a connection from the connection pool and wait
    for the result. If this function is called inside a transaction,
    the PoolId parameter is ignored.
 </p>
</div></div>
<div class="function">
<h3 id="fetch/1-2">fetch(PoolId::atom(), Query::iolist(), Timeout::integer()) -&gt; query_result()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="prepare/1">prepare(Name::atom(), Query::iolist()) -&gt; ok</h3>


<div class="description">

<p>Register a prepared statement with the dispatcher. This call does not
    prepare the statement in any connections. The statement is prepared
    lazily in each connection when it is told to execute the statement.
    If the Name parameter matches the name of a statement that has
    already been registered, the version of the statement is incremented
    and all connections that have already prepared the statement will
    prepare it again with the newest version.
 </p>
</div></div>
<div class="function">
<h3 id="unprepare/1">unprepare(Name::atom()) -&gt; ok</h3>


<div class="description">

<p>Unregister a statement that has previously been register with
    the dispatcher. All calls to execute() with the given statement
    will fail once the statement is unprepared. If the statement hasn't
    been prepared, nothing happens.
 </p>
</div></div>
<div class="function">
<h3 id="get_prepared/1">get_prepared(Name::atom()) -&gt; {ok, latest} | {ok, Statement::binary()} | {error, Err}</h3>


<div class="description">

<p>Get the prepared statement with the given name.</p>
 
   <p>This function is called from mysql_conn when the connection is   
told to execute a prepared statement it has not yet prepared, or   
when it is told to execute a statement inside a transaction and   
it's not sure that it has the latest version of the statement.</p>
 
   <p>If the latest version of the prepared statement matches the Version
   parameter, the return value is {ok, latest}. This saves the cost
   of sending the query when the connection already has the latest version.
 </p>
</div></div>
<div class="function">
<h3 id="get_prepared/1-1">get_prepared(Name::atom(), Version::integer()) -&gt; {ok, latest} | {ok, Statement::binary()} | {error, Err}</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="execute/1">execute(Name::atom) -&gt; mysql_result()</h3>


<div class="description">

<p>Execute a query inside a transaction.
 </p>
</div></div>
<div class="function">
<h3 id="execute/2">execute(Name::atom, Params::[term()]) -&gt; mysql_result()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="execute/3">execute(PoolId, Name, Timeout) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="execute/4">execute(PoolId, Name, Params, Timeout) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="transaction/1">transaction(PoolId::atom(), Fun::function()) -&gt; {atomic, Result} | {aborted, {Reason, {rollback_result, Result}}}</h3>


<div class="description">

<p>Execute a transaction in a connection belonging to the connection pool.  
Fun is a function containing a sequence of calls to fetch() and/or  
execute().  
If an error occurs, or if the function does any of the following:</p>
 
  <p>- throw(error)  
- throw({error, Err})  
- return error  
- return {error, Err}  
- exit(Reason)</p>
 
  <p>the transaction is automatically rolled back.
 </p>
</div></div>
<div class="function">
<h3 id="transaction/3">transaction(PoolId, Fun, Timeout) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_result_field_info/1">get_result_field_info(MySQLRes::mysql_result()) -&gt; [{Table, Field, Length, Name}]</h3>


<div class="description">

<p>Extract the FieldInfo from MySQL Result on data received.
 </p>
</div></div>
<div class="function">
<h3 id="get_result_rows/1">get_result_rows(MySQLRes::mysql_result()) -&gt; [Row::list()]</h3>


<div class="description">

<p>Extract the Rows from MySQL Result on data received
 </p>
</div></div>
<div class="function">
<h3 id="get_result_affected_rows/1">get_result_affected_rows(MySQLRes::mysql_result()) -&gt; AffectedRows::integer()</h3>


<div class="description">

<p>Extract the Rows from MySQL Result on update
 </p>
</div></div>
<div class="function">
<h3 id="get_result_reason/1">get_result_reason(MySQLRes::mysql_result()) -&gt; Reason::string()</h3>


<div class="description">

<p>Extract the error Reason from MySQL Result on error
 </p>
</div></div>
<div class="function">
<h3 id="connect/7">connect(PoolId, Host, X3, User, Password, Database, Reconnect) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="init/1">init(X1) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="handle_call/3">handle_call(X1, From, State) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="handle_cast/2">handle_cast(X1, State) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="handle_info/2">handle_info(X1, State) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="terminate/2">terminate(Reason, State) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="code_change/3">code_change(OldVsn, State, Extra) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="encode/1">encode(Val::term()) -&gt; string() | binary() | {error, Error}</h3>


<div class="description">

<p>Encode a value so that it can be included safely in a MySQL query.
 </p>
</div></div>
<div class="function">
<h3 id="encode/1-1">encode(Val::term(), AsBinary::bool()) -&gt; string() | binary() | {error, Error}</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="asciz_binary/1">asciz_binary(Data::binary(), Acc::list()) -&gt; {NewList::list(), Rest::binary()}</h3>


<div class="description">

<p>Find the first zero-byte in Data and add everything before it
    to Acc, as a string.
 </p>
</div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
