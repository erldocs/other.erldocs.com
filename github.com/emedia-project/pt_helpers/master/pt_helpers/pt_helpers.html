<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>pt_helpers (pt_helpers) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>pt_helpers</h1>
<h2 class="modsummary"/>
<div class="description">
</div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-ast">ast() = tuple() | [<a href="#type-ast" class="seealso">ast()</a>]</h3></div>
    <div class="type"><h3 id="type-pt_ast">pt_ast() = #pt_ast{}</h3></div>
    <div class="type"><h3 id="type-pt_fun">pt_fun() = #pt_fun{}</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="module_name/1">module_name(Pt_ast::pt_ast()) -&gt; string()</h3>


<div class="description">

<p>
  Return the name of the module</p>
</div></div>
<div class="function">
<h3 id="build_case/1">build_case(Exp::ast(), Clauses::ast()) -&gt; ast()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="build_if/1">build_if(Clauses::ast()) -&gt; ast()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="build_clause/1">build_clause(Vars::ast(), Body::ast()) -&gt; ast()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="build_clause/1-1">build_clause(Vars::ast(), Guards::ast(), Body::ast()) -&gt; ast()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="build_guard/1">build_guard(Ast::ast()) -&gt; ast()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="build_and_guard/1">build_and_guard(Ast1::ast(), Ast2::ast()) -&gt; ast()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="build_or_guard/1">build_or_guard(Ast1::ast(), Ast2::ast()) -&gt; ast()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="parse/1">parse(AST::string(), Options::list()) -&gt; pt_ast()</h3>


<div class="description">

<p>  
Parse the given AST and return</p>
 
  <p>Example:
  </p><pre class="sh_erlang">
  parse_transform(AST, Option) -&gt;
    PT_AST = pt_helpers:parse(AST, Options),
    % Do something with PT_AST
    pt_helpers:generate(PT_AST).
  </pre>
</div></div>
<div class="function">
<h3 id="generate/1">generate(Pt_ast::pt_ast()) -&gt; ast()</h3>


<div class="description">

<p>  
Generate the AST</p>
 
  <p>Example:
  </p><pre class="sh_erlang">
  parse_transform(AST, Option) -&gt;
    PT_AST = pt_helpers:parse(AST, Option),
    % Do something with PT_AST
    pt_helpers:generate(PT_AST).
  </pre>
</div></div>
<div class="function">
<h3 id="transform/1">transform(Fun::function(), AST::string(), Options::list()) -&gt; ast()</h3>


<div class="description">

<p>  
Transform using the given fun</p>
 
  <p>Example:
  </p><pre class="sh_erlang">
  parse_transform(AST, Option) -&gt;
    pt_helpers:transform(fun do_the_job/1, AST, Option).
 
  do_the_job(PT_AST) -&gt;
    % Do something with PT_AST
    PT_ASTn.
  </pre>
</div></div>
<div class="function">
<h3 id="find_function/1">find_function(Pt_ast::pt_ast(), Name::atom(), Arity::integer()) -&gt; {ok, pt_fun()} | {error, not_found}</h3>


<div class="description">

<p>
  Find the function with name <code>Name</code> and arity <code>Arity</code> in the parsed AST</p>
 
  <p>Example:
  </p><pre class="sh_erlang">
  parse_transform(AST, _Option) -&gt;
    PT_AST = pt_helpers:parse(AST),
    PT_FUN = pt_helpers:find_function(PT_AST, my_function, 2).
    % Do something with PT_FUN
    pt_helpers(PT_AST).
  </pre>
</div></div>
<div class="function">
<h3 id="add_function/1">add_function(PT_AST::pt_ast(), Visibility::export | not_export, Name::atom(), Clauses::tuple() | list()) -&gt; pt_ast()</h3>


<div class="description">

<p>  
Add a function to the AST</p>
 
  <p>Example:
  </p><pre class="sh_erlang">
  A = pt_helpers:build_var('A'),
  B = pt_helpers:build_var('B'),
  AIsNumber = pt_helpers:build_call(is_number, A),
  BIsNumber = pt_helpers:build_call(is_number, B),
  Guards = pt_helpers:build_and_guard(AIsNumber, BIsNumber),
  Body = pt_helpers:build_op('*', A, B),
  Clauses = pt_helpers:build_clause([A, B], Guards, Body),
  PT_AST1 = pt_helpers:add_function(PT_AST, export, my_function, Clauses)
  % =&gt; my_function(A, B) when is_number(A), is_number(B) -&gt; A * B
  </pre>
</div></div>
<div class="function">
<h3 id="add_export/1">add_export(PT_AST::pt_ast(), Name::atom(), Arity::integer()) -&gt; pt_ast()</h3>


<div class="description">

<p>  
Declare a new function to export in the AST</p>
 
  <p>Example:
  </p><pre class="sh_erlang">
  % export function/2
  pt_helpers:add_export(function, 2).
  </pre>
</div></div>
<div class="function">
<h3 id="add_record/1">add_record(PT_AST::pt_ast(), Name::atom(), Attributes::list()) -&gt; pt_ast()</h3>


<div class="description">

<p>  
Declare a new record to export in the AST</p>
 
  <p>Example:
  </p><pre class="sh_erlang">
  pt_helpers:add_record(record_name, [{field1, integer}, {field2, []}, field3]).
  </pre>
</div></div>
<div class="function">
<h3 id="index/1">index(Pt_ast::pt_ast(), I::integer()) -&gt; ast()</h3>


<div class="description">

<p>
  Return AST at index</p>
</div></div>
<div class="function">
<h3 id="build_atom/1">build_atom(A::atom()) -&gt; ast()</h3>


<div class="description">

<p>
  ASTify an atom</p>
</div></div>
<div class="function">
<h3 id="build_integer/1">build_integer(I::integer()) -&gt; ast()</h3>


<div class="description">

<p>
  ASTify an integer</p>
</div></div>
<div class="function">
<h3 id="build_float/1">build_float(F::float()) -&gt; ast()</h3>


<div class="description">

<p>
  ASTify a float</p>
</div></div>
<div class="function">
<h3 id="build_string/1">build_string(S::string()) -&gt; ast()</h3>


<div class="description">

<p>
  ASTify a string</p>
</div></div>
<div class="function">
<h3 id="build_list/1">build_list(L::list()) -&gt; ast()</h3>


<div class="description">

<p>
   ASTify a list</p>
</div></div>
<div class="function">
<h3 id="build_tuple/1">build_tuple(T::tuple()) -&gt; ast()</h3>


<div class="description">

<p>
  ASTify a tuple</p>
</div></div>
<div class="function">
<h3 id="build_bin/1">build_bin(S) -&gt; term()
</h3>


<div class="description">

<p>
  ASTify a bin</p>
</div></div>
<div class="function">
<h3 id="build_boolean/1">build_boolean(B) -&gt; term()
</h3>


<div class="description">

<p>
  ASTify a boolean</p>
</div></div>
<div class="function">
<h3 id="build_value/1">build_value(X) -&gt; term()
</h3>


<div class="description">

<p>
   ASTify the given value</p>
</div></div>
<div class="function">
<h3 id="build_record/1">build_record(Name) -&gt; term()
</h3>


<div class="description">

<p>  
ASTify a record</p>
 
  <p>Example:
  </p><pre class="sh_erlang">
  pt_helpers:build_record(rec) % =&gt; #rec{}
  </pre>
</div></div>
<div class="function">
<h3 id="build_record/2">build_record(Name, Fields) -&gt; term()
</h3>


<div class="description">

<p>  
ASTify a record</p>
 
  <p>Example:
  </p><pre class="sh_erlang">
  F1 = pt_helpers:build_record_field(field1, pt_helpers:build_value(12)),
  F2 = pt_helpers:build_record_field(field2, pt_helpers:build_var('X'),
  pt_helpers:build_record(rec, [F1, F2]) % =&gt; #rec{field1 = 12, field2 = X}
  </pre>
</div></div>
<div class="function">
<h3 id="build_record/3">build_record(Record, Name, Fields) -&gt; term()
</h3>


<div class="description">

<p>  
ASTify a record</p>
 
  <p>Example:
  </p><pre class="sh_erlang">
  F1 = pt_helpers:build_record_field(field1, pt_helpers:build_value(12)),
  F2 = pt_helpers:build_record_field(field2, pt_helpers:build_var('X'),
  pt_helpers:build_record('R', rec, [F1, F2]) % =&gt; R#rec{field1 = 12, field2 = X}
  </pre>
</div></div>
<div class="function">
<h3 id="build_var/1">build_var(A::atom()) -&gt; ast()</h3>


<div class="description">

<p>
  ASTify a variable</p>
</div></div>
<div class="function">
<h3 id="build_op/1">build_op(Op::atom(), A::ast(), B::ast()) -&gt; ast()</h3>


<div class="description">

<p>
  ASTify an operator</p>
</div></div>
<div class="function">
<h3 id="build_match/1">build_match(A::ast(), B::ast()) -&gt; ast()</h3>


<div class="description">

<p>
  ASTify a match (=)</p>
</div></div>
<div class="function">
<h3 id="build_call/1">build_call(Module::atom() | ast(), Function::atom() | ast(), Parameters::ast()) -&gt; ast()</h3>


<div class="description">

<p>  
ASTify a function call</p>
 
  <p>Example:
  </p><pre class="sh_erlang">
  A = build_atom(atom),
  B = build_var('Var'),
  build_call(module, function, [A, B]) % == module:function(atom, Var)
  </pre>
</div></div>
<div class="function">
<h3 id="build_call/1-1">build_call(Function::atom(), Parameters::ast()) -&gt; ast()</h3>


<div class="description">

<p>  
ASTify a function call</p>
 
  <p>Example:
  </p><pre class="sh_erlang">
  A = build_atom(atom),
  B = build_var('Var'),
  build_call(function, [A, B]) % == function(atom, Var)
  </pre>
</div></div>
<div class="function">
<h3 id="build_get_record_field/1">build_get_record_field(RecordVar::atom() | ast(), RecordName::atom(), Field::atom()) -&gt; ast()</h3>


<div class="description">

<p>  
ASTify a record_field</p>
 
  <p>Example:
  </p><pre class="sh_erlang">
  build_get_record_field('R', record, field) % == R#record.field
  </pre>
</div></div>
<div class="function">
<h3 id="build_get_record_field/1-1">build_get_record_field(RecordName::atom(), Field::atom()) -&gt; ast()</h3>


<div class="description">

<p>  
ASTify a record_field</p>
 
  <p>Example:
  </p><pre class="sh_erlang">
  build_get_record_field(record, field) % == record.field
  </pre>
</div></div>
<div class="function">
<h3 id="build_record_field/1">build_record_field(Field::atom(), Value::ast()) -&gt; ast()</h3>


<div class="description">

<p>  
ASTify a record_field</p>
 
  <p>Example:
  </p><pre class="sh_erlang">
  build_record_field(record, field) % == {record = field}
  </pre>
</div></div>
<div class="function">
<h3 id="build_fun/1">build_fun(Clauses) -&gt; term()
</h3>


<div class="description">

<p>
  ASTify a fun</p>
</div></div>
<div class="function">
<h3 id="is_ast/1">is_ast(Type::atom(), AST::ast() | [ast()]) -&gt; true | false</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="is_ast/1-1">is_ast(AST::ast() | [ast()]) -&gt; true | false</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_ast_type/1">get_ast_type(E::ast()) -&gt; {ok, atom()} | {error, wrong_ast}</h3>


<div class="description">

<p>
  Return the type of the given AST</p>
</div></div>
<div class="function">
<h3 id="fields/1">fields(Pt_ast::ast()) -&gt; list()</h3>


<div class="description">

<p>
  Return the list of all availables fields</p>
</div></div>
<div class="function">
<h3 id="directive/1">directive(Pt_ast::ast(), Name::atom()) -&gt; list()</h3>


<div class="description">

<p>
  Return the value for a directive Name</p>
</div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
