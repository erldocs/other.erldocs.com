<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>ez_weather_handler (erl-web-zookeeper) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>ez_weather_handler</h1>
<h2 class="modsummary">This is the Cowboy callback module for city weather information.</h2>
<div class="description">
<p>This is the Cowboy callback module for city weather information.       
ez_weather_handler supports all weather related requests       
including:           
1. Creating/updating weather information,           
2. Getting weather information for a specific city           
3. Getting URIs for all cities with weather information.              
These URIs can each be used to get the weather data              
for the specified city.</p>
 
       <p>Note that most string variables, are represented as binaries.       
Much, but not all, of the string manipulation done in this module       
requires conversion to/from binary.</p>
 
  <p>===================================================================</p></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="init/3">init(Transport, Req, Opts) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="rest_init/2">rest_init(Req, Opts) -&gt; term()
</h3>


<div class="description">

<p>Creates the initial state to be used during the handling of a request.
  For now, this capability isn't leveraged. It's left here as an example of
  how this might be accomplished when/if it's eventually needed.
 </p>
</div></div>
<div class="function">
<h3 id="allowed_methods/2">allowed_methods(Req, State) -&gt; term()
</h3>


<div class="description">

<p>As the name implies, this function tells Cowboy what HTTP methods are supported.
  Cowboy will return an HTTP status of 405, Method not allowed for any attempts to use
  other HTTP methods.
 </p>
</div></div>
<div class="function">
<h3 id="content_types_provided/2">content_types_provided(Req, State) -&gt; term()
</h3>


<div class="description">

<p>Indicates to Cowboy which content types are accepted in GET requests and the internal
  functions to be called for each defined content type. Note that all of the referenced
  functions must be exported from the module.
 </p>
</div></div>
<div class="function">
<h3 id="content_types_accepted/2">content_types_accepted(Req, State) -&gt; term()
</h3>


<div class="description">

<p>Indicates to Cowboy which content types are accepted in POST requests and the internal
  function(s) to be called for each defined content type. In this instance, the only acceptable
  type is application/json. Note that all of the referenced functions must be exported from
  the module.
 </p>
</div></div>
<div class="function">
<h3 id="to_html_weather/2">to_html_weather(Req, State) -&gt; term()
</h3>


<div class="description">

<p>Handles HTML GET requests for city weather. It handles both the weather/cities and  
weather/city/??? resource routes. It uses the :resource and [:city] route bindings  
declared in ez_app.erl where the resource routes are defined.</p>
 
 
</div></div>
<div class="function">
<h3 id="to_json_weather/2">to_json_weather(Req, State) -&gt; term()
</h3>


<div class="description">

<p>Handles JSON GET requests for city weather. It handles both the weather/cities and  
weather/city/??? resource routes. It uses the :resource and [:city] route bindings  
declared in ez_app.erl where the resource routes are defined.</p>
 
 
</div></div>
<div class="function">
<h3 id="to_text_weather/2">to_text_weather(Req, State) -&gt; term()
</h3>


<div class="description">

<p>Handles text/plain GET requests for city weather.</p>
 
 
</div></div>
<div class="function">
<h3 id="from_json_weather_update/2">from_json_weather_update(Req, State) -&gt; term()
</h3>


<div class="description">

<p>Handles JSON POST requests to create or update weather conditions for the specified city.
 </p>
</div></div>
<div class="function">
<h3 id="terminate/3">terminate(Reason, Req, State) -&gt; term()
</h3>


<div class="description">
 </div></div></div>

<authors>

<aname>youngkin</aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
