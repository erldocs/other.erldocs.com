<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>xriak_kv_wm_raw (xriak) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>xriak_kv_wm_raw</h1>
<h2 class="modsummary">Riak Extension to KV resources managing buckets and objects.</h2>
<div class="description">
<p>Riak Extension to KV resources managing buckets and objects.
        The main purpose of this module is to implement alternative
        of storing objects in Riak. The idea is to store internally
        as Erlang terms BUT allowing translation of this values onto
        client form given in "content-type" and "accept" headers (the
        first is for putting objects and the latter is for retrieving).</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-translator_list">translator_list() = [{string(), atom()}]</h3></div>
    <div class="type"><h3 id="type-wm_reqdata">wm_reqdata() = #wm_reqdata{}</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="ping/2">ping(ReqData, State) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="content_types_accepted/1">content_types_accepted(RD::wm_reqdata(), Ctx0::any()) -&gt; {translator_list(), wm_reqdata(), any()}</h3>


<div class="description">

<p>Chooses an translator of Erlang term according to "Content-Type"
       header. If no such translator can be found the return value
       of <code>riak_kv_wm_raw:content_types_accepted/2</code> is returned.</p>
</div></div>
<div class="function">
<h3 id="content_types_provided/1">content_types_provided(RD::wm_reqdata(), Ctx0::any()) -&gt; {translator_list(), wm_reqdata(), any()}</h3>


<div class="description">

<p>Chooses an translator of Erlang term according to "Accept"
       header. If no such translator can be found the return value
       of <code>riak_kv_wm_raw:content_types_provided/2</code> is returned.</p>
</div></div>
<div class="function">
<h3 id="process_post/1">process_post(RD::wm_reqdata(), Ctx0::any()) -&gt; {boolean, wm_reqdata(), any()}</h3>


<div class="description">

<p>Processes a post translating the body to an Erlang term
       according to "Content-Type" header. If no such translator can
       be found the <code>riak_kv_wm_raw:process_post/2</code> is applied.</p>
</div></div>
<div class="function">
<h3 id="translate_to_external_format/1">translate_to_external_format(RD::wm_reqdata(), Ctx::any()) -&gt; {binary(), any(), any()}</h3>


<div class="description">

<p>Translates an Erlang expression into a JSON string.</p>
</div></div>
<div class="function">
<h3 id="translate_to_erlang_term/1">translate_to_erlang_term(RD::wm_reqdata(), Ctx::any()) -&gt; {boolean(), wm_reqdata(), any()}</h3>


<div class="description">

<p>Translates from external format into an Erlang expression.
       Unfortunately, being a part of <code>webmachine</code> state machine
       flow it MUST change the request state internal bodu value. To do
       so it uses process dictionary according to the source code of
       webmachine's <code>wrq</code> and <code>webmachine_request</code> modules. So far, I do
       not know other delicate workaround.</p>
</div></div></div>

<authors>

<aname>Damian T. Dobroczy\\'nski</aname>
<email>qoocku@gmail.com</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
