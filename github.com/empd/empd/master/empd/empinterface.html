<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>empinterface (empd) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>empinterface</h1>
<h2 class="modsummary">
   Library to generalize the EMP Interface API so that Interfaces can focus
   on the protocol they are supporting rather than the API issues.</h2>
<div class="description">
<p>
   Library to generalize the EMP Interface API so that Interfaces can focus
   on the protocol they are supporting rather than the API issues. It also
   wraps the ejson module so the protocol is abstracted away from interface
   code.</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-event_packet">event_packet() = {binary(), binary(), binary()}</h3></div>
    <div class="type"><h3 id="type-json_valid_value">json_valid_value() = null<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| boolean()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| integer()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| float()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| {[{binary(), <a href="#type-json_valid_value" class="seealso">json_valid_value()</a>}]}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<a href="#type-json_valid_value" class="seealso">json_valid_value()</a>]</h3></div>
    <div class="type"><h3 id="type-msgtarget">msgtarget() = null | binary()</h3></div>
    <div class="type"><h3 id="type-urgency">urgency() = [0..9]</h3></div>
    <div class="type"><h3 id="type-utilret">utilret() = shutdown<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| {util,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auth_success,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UserName :: list(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SessionId :: binary()}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| {error, invalid_session}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| {error, Reason :: binary()}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| {ok, Return :: <a href="#type-json_valid_value" class="seealso">json_valid_value()</a>}</h3></div>
    <div class="type"><h3 id="type-value">value() = <a href="#type-json_valid_value" class="seealso">json_valid_value()</a></h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="encode_event/1">encode_event(Event::event_packet()) -&gt; binary()</h3>


<div class="description">

<p>
   Encodes an event packet, that you recieved from gman, for sending to the
   client over the wire.</p>
</div></div>
<div class="function">
<h3 id="encode_error/1">encode_error(Urgency::urgency(), Target::msgtarget(), Value::value()) -&gt; binary()</h3>


<div class="description">

<p>Encode an error message for sending to the client.</p>
</div></div>
<div class="function">
<h3 id="encode_reply/1">encode_reply(Urgency::urgency(), Target::msgtarget(), Value::value()) -&gt; binary()</h3>


<div class="description">

<p>Encode a command or query reply for sending to the client.</p>
</div></div>
<div class="function">
<h3 id="encode_cast/1">encode_cast(Urgency::urgency(), Target::msgtarget(), Value::value()) -&gt; binary()</h3>


<div class="description">

<p>Encode a system cast for sending to the client.</p>
</div></div>
<div class="function">
<h3 id="encode_update/1">encode_update(Urgency::urgency(), Target::msgtarget(), Value::value()) -&gt; binary()</h3>


<div class="description">

<p>Encode a update message for sending to the client.</p>
</div></div>
<div class="function">
<h3 id="handle_async/1">handle_async(Data::binary(), InterfacePid::pid(), Session::binary()) -&gt; ok | {error, no_async_logins}</h3>


<div class="description">

<p>
   Decodes and then handles the message asyncronously given the session
   id and which interface to send the reply back to. If it errors back
   this means the message you tried to handle was a login message (which
   isn't allowed to be run in async mode).</p>
</div></div>
<div class="function">
<h3 id="handle_sync/1">handle_sync(Data::binary(), Session::binary()) -&gt; utilret()</h3>


<div class="description">

<p>
   Decodes and then handles the message syncronously given the session id.
   Any errors you recieve back are safe to encode and send straight back
   to the client.</p>
</div></div></div>
<div class="section"><h4>See also</h4><p><a href="gman.html" class="seealso"><em>Message Governer</em>
 </a></p></div>
<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
