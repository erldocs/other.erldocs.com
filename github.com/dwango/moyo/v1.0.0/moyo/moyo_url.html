<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>moyo_url (moyo) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>moyo_url</h1>
<h2 class="modsummary">URL関連の処理を集めたユーティリティモジュール.</h2>
<div class="description">
<p>URL関連の処理を集めたユーティリティモジュール.</p></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="urlencode_base64/2">urlencode_base64(PlainText, Options) -&gt; EncodedText</h3>

<ul class="type">
<li><code>PlainText = binary()</code></li><li><code>EncodedText = binary()</code></li><li><code>Options = [Option]</code></li><li><code>Option = no_padding</code></li></ul>
<div class="description">

<p>バイナリをbase64url形式にエンコードする.</p>
 
  <p>base64url形式とは、通常のbase64エンコードの結果文字列の"+"および"/"を、それぞれ"-"および"_"に置き換えたもの。<br />
  (この処理によって、base64エンコード結果をURL内に安全に含めることができるようになる)<br /></p>
 
  <p>base64urlの詳細は <url href="http://tools.ietf.org/html/rfc4648#section-5">http://tools.ietf.org/html/rfc4648#section-5</url> を参照のこと.</p>
 
  <p>オプションで<code>no_padding</code>が指定された&nbsp;合は、base64エンコード結果の文字列から末尾のパディング文字("=")が除外される.</p>
 
  <pre class="sh_erlang">  &gt; urlencode_base64(&lt;&lt;"this is a pen"&gt;&gt;, []).
  &lt;&lt;"dGhpcyBpcyBhIHBlbg=="&gt;&gt;
 
  &gt; urlencode_base64(&lt;&lt;"this is a pen"&gt;&gt;, [no_padding]).
  &lt;&lt;"dGhpcyBpcyBhIHBlbg"&gt;&gt;</pre>
</div></div>
<div class="function">
<h3 id="urlencode_base64/1">urlencode_base64(PlainText) -&gt; term()
</h3>


<div class="description">
<p>Equivalent to <a href="#urlencode_base64/2" class="seealso">urlencode_base64(PlainText, [])</a>.</p>
</div></div>
<div class="function">
<h3 id="urldecode_base64/1">urldecode_base64(EncodedText) -&gt; PlainText</h3>

<ul class="type">
<li><code>EncodedText = binary()</code></li><li><code>PlainText = binary()</code></li></ul>
<div class="description">

<p>base64url形式でエンコードされたバイナリをデコードする.</p>
 
  <p>base64url形式については <a href="#urlencode_base64/2" class="seealso">urlencode_base64/2</a> のドキュメントを参照のこと。<br />
  <code>EncodedText</code>の末尾にパディング文字("=")が不足している&nbsp;合は、デコード時に自動で補われる。</p>
</div></div>
<div class="function">
<h3 id="urlencode_rfc3986/1">urlencode_rfc3986(PlainText::binary()) -&gt; EncodedText::binary()</h3>


<div class="description">

<p>テキストを RFC3986 にもとづいてエンコードする.</p>
 
  <p>[a-zA-Z0-9_.~-]を除く全ての文字は<code>%XX</code>形式の文字列で置換される. <br />
  RFC3986: <url href="http://www.faqs.org/rfcs/rfc3986.html">http://www.faqs.org/rfcs/rfc3986.html</url></p>
</div></div>
<div class="function">
<h3 id="urldecode_rfc3986/1">urldecode_rfc3986(EncodedText::binary()) -&gt; PlainText::binary()</h3>


<div class="description">

<p>RFC3986形式でエンコードされているバイナリをデコードする.</p>
 
  <p>なお、RFC3986に正式に準&nbsp;していないバイナリが渡された&nbsp;合でも、デコードに支障がないようであれば、特にエラーとはならない.<br />
  (ex. "|"のように本来パーセントエスケープされるべき文字が生のまま含まれていても、エラーとはならない)<br /></p>
 
  <p>RFC3986に関しては<a href="urlencode_rfc3986.html" class="seealso">urlencode_rfc3986</a>を参照のこと.</p>
</div></div>
<div class="function">
<h3 id="parse_query/1">parse_query(QueryString::binary()) -&gt; [{Key::binary(), Value::binary()}]</h3>


<div class="description">

<p>URLのクエリストリング部をパースして、対応する連想リストを取得する</p>
 
  <p>基本的には、標準の<a href="httpd.html#parse_query/1" class="seealso">httpd:parse_query/1</a>と同じ動作を取るが、
  戻り値の連想リストのキー及び値の型が文字列からバイナリに変わっている。<br />  
また、標準の関数は入力サイズが大きくなると極端に処理速度が遅くなるために、標準関数の使用は推奨されない。</p>
 
  <p>クエリストリング内の各パラメータのキーおよび値に含まれる'+'は半角スペースに展開され、  
'%xx'は対応するコードの文字に展開される。</p>
 
  <p>また、キーに対応する値が存在しない&nbsp;合は、空文字(バイナリ)が値として使用される。
  </p><pre class="sh_erlang">  &gt; parse_query(&lt;&lt;"a&b=10"&gt;&gt;).
  [{&lt;&lt;"a"&gt;&gt;, &lt;&lt;""&gt;&gt;}, {&lt;&lt;"b"&gt;&gt;, &lt;&lt;"10"&gt;&gt;}]
 
  なお、入力として"%a=b"のように不正なパーセントエンコーディング文字が渡された&nbsp;合の挙動は未定義。&lt;br /&gt;
  (何らかの解釈でデコードされた結果が返るかもしれないし、エラーとなるかもしれない)</pre>
</div></div>
<div class="function">
<h3 id="build_qs/1">build_qs(AssocList::assoc_list() (see module moyo_assoc)) -&gt; binary()</h3>


<div class="description">

<p>連想リストからHTTPのクエリ文字列を生成する.</p>
 
  <p>URLエンコード処理には<a href="#urlencode_rfc3986/1" class="seealso">urlencode_rfc3986/1</a>が使用される. <br />
  連想リストの要&nbsp;のキーおよび値が文字列ではない&nbsp;合は<a href="moyo_string.html#to_string/1" class="seealso">moyo_string:to_string/1</a>を使って文字列に変換される.</p>
</div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
