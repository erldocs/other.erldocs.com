<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>jsonrec_encode (jsonrec) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>jsonrec_encode</h1>
<h2 class="modsummary">
   JSON "encode" code generator.</h2>
<div class="description">
<p>
   JSON "encode" code generator</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-encode_option">encode_option() = <a href="#type-name_handler" class="seealso">name_handler()</a> | <a href="#type-encoder" class="seealso">encoder()</a> | <a href="#type-surrogate" class="seealso">surrogate()</a></h3></div>
    <div class="type"><h3 id="type-encode_options">encode_options() = [<a href="#type-encode_option" class="seealso">encode_option()</a>]</h3></div>
    <div class="type"><h3 id="type-encoder">encoder() = {encoder, <a href="#type-encoder_def" class="seealso">encoder_def()</a>}</h3></div>
    <div class="type"><h3 id="type-encoder_def">encoder_def() = <a href="jsonrec_code.html#type-coder_handler_def" class="seealso">jsonrec_code:coder_handler_def()</a><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<a href="#type-encoder_def" class="seealso">encoder_def()</a>]</h3></div>
    <div class="type"><h3 id="type-name_handler">name_handler() = {name_handler, <a href="#type-name_handler_def" class="seealso">name_handler_def()</a>}</h3></div>
    <div class="type"><h3 id="type-name_handler_def">name_handler_def() = <a href="jsonrec_code.html#type-name_handler_def" class="seealso">jsonrec_code:name_handler_def()</a><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<a href="#type-name_handler_def" class="seealso">name_handler_def()</a>]</h3></div>
    <div class="type"><h3 id="type-surrogate">surrogate() = {surrogate_type, <a href="#type-surrogate_def" class="seealso">surrogate_def()</a>}</h3></div>
    <div class="type"><h3 id="type-surrogate_def">surrogate_def() = <a href="jsonrec_code.html#type-surrogate_def" class="seealso">jsonrec_code:surrogate_def()</a><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<a href="#type-surrogate_def" class="seealso">surrogate_def()</a>]</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="encode_gen/4">encode_gen(Arg, Type, Info, Options) -&gt; quote(FunBody) (see module meta)</h3>

<ul class="type">
<li><code>Arg = quote(Var::any()) (see module meta)</code></li><li><code>Type = quote(Type::any()) (see module meta)</code></li><li><code>Info = quote(info() (see module meta)) (see module meta)</code></li><li><code>Options = quote(encode_options()) (see module meta)</code></li><li><code>FunBody = any()</code></li></ul>
<div class="description">

<p>  
Generates JSON "encode" function body for JSON serialization  
using type annotation.</p>
 
  <p>Note: This is <code>meta</code> function and normally it should not be used directly.
  Use <code>?encode_gen/2</code> and <code>?encode_gen/3</code> macros instead.
  </p><list>
  <item><p><code>Arg</code> is <code>meta:quote()</code> reference to generated function input parameter</p></item>
  <item><p><code>Type</code> is <code>meta:quote()</code> of the type being JSON encoded</p></item>
  <item><p><code>Info</code> is <code>meta:info()</code> structure returned by <a href="meta.html#reify/0" class="seealso">meta:reify/0</a></p></item>
  <item><p><code>Options</code> is <code>meta:quote()</code> of a list of options <code>encode_options()</code></p></item>
  </list>
 
  <p>Typical usage:
  </p><pre class="sh_erlang">     encode(#my_record{} = Rec) -&gt;
       ?encode_gen(#my_record{}, Rec).</pre><p>
  Upon compilation this code will generate the code which outputs
  JSON in the form of binary <code>iolist()</code> from passed <code>#my_record{}</code></p>
</div></div>
<div class="function">
<h3 id="encode_gen_encoder/4">encode_gen_encoder(Arg, Type, Info, Options) -&gt; quote(FunBody) (see module meta)</h3>

<ul class="type">
<li><code>Arg = quote(#var{}) (see module meta)</code></li><li><code>Type = quote({type, _Ln3, atom(), [any()]}) (see module meta)</code></li><li><code>Info = quote(info() (see module meta)) (see module meta)</code></li><li><code>Options = quote(encode_options()) (see module meta)</code></li><li><code>FunBody = any()</code></li></ul>
<div class="description">

<p>  
Generates JSON encoder using type annotation.</p>
 
  <p>Similar to <a href="#encode_gen/3" class="seealso">encode_gen/3</a> but <code>-encode` attributes are ignored
  for top-level type `Type</code> (2nd argument of the function).
  All nested types are treated identically to <a href="#encode_gen/3" class="seealso">encode_gen/3</a> behaviour
  The resulting function is typically used in <code>encoder_fun_ref()</code></p>
 
  <p>Note: This is <code>meta</code> function and normally it should not be used directly.
  Use <code>?encode_gen_encoder/2</code> and <code>?encode_gen_encode/3</code> macros instead.</p>
 
  <list>
  <item><p><code>Arg</code> is <code>meta:quote()</code> reference to generated function input parameter</p></item>
  <item><p><code>Type</code> is <code>meta:quote()</code> of the type being JSON encoded</p></item>
  <item><p><code>Info</code> is <code>meta:info()</code> structure returned by <a href="meta.html#reify/0" class="seealso">meta:reify/0</a></p></item>
  <item><p><code>Options</code> is <code>meta:quote()</code> of a list of options <code>encode_options()</code></p></item>
  </list>
</div></div>
<div class="function">
<h3 id="integer_to_json/1">integer_to_json(I) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="float_to_json/1">float_to_json(F) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="binary_to_json/1">binary_to_json(B) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="string_to_json/1">string_to_json(Str) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="boolean_to_json/1">boolean_to_json(X1) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="atom_to_json/1">atom_to_json(A) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="format_error/1">format_error(X1::any()) -&gt; iolist()</h3>


<div class="description">
 </div></div></div>

<authors>

<aname>Eduard Sergeev</aname>
<email>eduard.sergeev@gmail.com</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
