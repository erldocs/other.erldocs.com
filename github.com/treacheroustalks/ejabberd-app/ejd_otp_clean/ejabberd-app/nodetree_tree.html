<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>nodetree_tree (ejabberd-app) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>nodetree_tree</h1>
<h2 class="modsummary">The module nodetree_tree is the default PubSub node tree plugin.</h2>
<div class="description">
<p>The module <em>nodetree_tree</em> is the default PubSub node tree plugin.
   </p><p>It is used as a default for all unknown PubSub node type.  It can serve
   as a developer basis and reference to build its own custom pubsub node tree
   types.</p>
   <p>PubSub node tree plugins are using the <a href="gen_nodetree.html" class="seealso">gen_nodetree</a> behaviour.</p>
   <p><em>The API isn't stabilized yet</em>. The pubsub plugin
   development is still a work in progress. However, the system is already
   useable and useful as is. Please, send us comments, feedback and
   improvements.</p></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="init/3">init(Host, ServerHost, Options) -&gt; ok</h3>

<ul class="type">
<li><code>Host = string()</code></li><li><code>ServerHost = string()</code></li><li><code>Options = [{atom(), term()}]</code></li></ul>
<div class="description">

<p>Called during pubsub modules initialisation. Any pubsub plugin must
  implement this function. It can return anything.</p>
  <p>This function is mainly used to trigger the setup task necessary for the
  plugin. It can be used for example by the developer to create the specific
  module database schema if it does not exists yet.</p>
</div></div>
<div class="function">
<h3 id="terminate/2">terminate(Host, ServerHost) -&gt; ok</h3>

<ul class="type">
<li><code>Host = string()</code></li><li><code>ServerHost = string()</code></li></ul>
<div class="description">
 </div></div>
<div class="function">
<h3 id="options/0">options() -&gt; Options</h3>

<ul class="type">
<li><code>Options = [nodeOption() (see module mod_pubsub)]</code></li></ul>
<div class="description">

<p>Returns the default pubsub node tree options.</p>
</div></div>
<div class="function">
<h3 id="set_node/1">set_node(Node) -&gt; ok | {error, Reason}</h3>

<ul class="type">
<li><code>Node = pubsubNode() (see module mod_pubsub)</code></li><li><code>Reason = stanzaError() (see module mod_pubsub)</code></li></ul>
<div class="description">
 </div></div>
<div class="function">
<h3 id="get_node/3">get_node(Host, Node, From) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_node/2">get_node(Host, NodeId) -&gt; Node | {error, Reason}</h3>

<ul class="type">
<li><code>Host = host() (see module mod_pubsub)</code></li><li><code>NodeId = nodeId() (see module mod_pubsub)</code></li><li><code>Node = pubsubNode() (see module mod_pubsub)</code></li><li><code>Reason = stanzaError() (see module mod_pubsub)</code></li></ul>
<div class="description">
 </div></div>
<div class="function">
<h3 id="get_node/1">get_node(NodeId) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_nodes/2">get_nodes(Host, From) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_nodes/1">get_nodes(Host) -&gt; Nodes | {error, Reason}</h3>

<ul class="type">
<li><code>Host = host() (see module mod_pubsub)</code></li><li><code>Nodes = [pubsubNode() (see module mod_pubsub)]</code></li><li><code>Reason = {aborted, atom()}</code></li></ul>
<div class="description">
 </div></div>
<div class="function">
<h3 id="get_parentnodes/3">get_parentnodes(Host, NodeId::Node, From) -&gt; []</h3>

<ul class="type">
<li><code>Host = host() (see module mod_pubsub)</code></li><li><code>NodeId = nodeId() (see module mod_pubsub)</code></li><li><code>From = jid() (see module mod_pubsub)</code></li></ul>
<div class="description">

<p>Default node tree does not handle parents, return empty list.</p>
</div></div>
<div class="function">
<h3 id="get_parentnodes_tree/3">get_parentnodes_tree(Host, NodeId, From) -&gt; [{Depth, Node}] | []</h3>

<ul class="type">
<li><code>Host = host() (see module mod_pubsub)</code></li><li><code>NodeId = nodeId() (see module mod_pubsub)</code></li><li><code>From = jid() (see module mod_pubsub)</code></li><li><code>Depth = integer()</code></li><li><code>Node = pubsubNode() (see module mod_pubsub)</code></li></ul>
<div class="description">

<p>Default node tree does not handle parents, return a list
  containing just this node.</p>
</div></div>
<div class="function">
<h3 id="get_subnodes/3">get_subnodes(Host, NodeId, From) -&gt; Nodes</h3>

<ul class="type">
<li><code>Host = host() (see module mod_pubsub)</code></li><li><code>NodeId = nodeId() (see module mod_pubsub)</code></li><li><code>From = jid() (see module mod_pubsub)</code></li><li><code>Nodes = [pubsubNode() (see module mod_pubsub)]</code></li></ul>
<div class="description">
 </div></div>
<div class="function">
<h3 id="get_subnodes_tree/3">get_subnodes_tree(Host, Node, From) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="create_node/6">create_node(Host, NodeId, Type, Owner, Options, Parents) -&gt; {ok, NodeIdx} | {error, Reason}</h3>

<ul class="type">
<li><code>Host = host() (see module mod_pubsub)</code></li><li><code>NodeId = nodeId() (see module mod_pubsub)</code></li><li><code>Type = nodeType() (see module mod_pubsub)</code></li><li><code>Owner = jid() (see module mod_pubsub)</code></li><li><code>Options = [nodeOption() (see module mod_pubsub)]</code></li><li><code>Parents = [] | [nodeId() (see module mod_pubsub)]</code></li><li><code>NodeIdx = nodeIdx() (see module mod_pubsub)</code></li><li><code>Reason = stanzaError() (see module mod_pubsub)</code></li></ul>
<div class="description">
 </div></div>
<div class="function">
<h3 id="delete_node/2">delete_node(Host, NodeId) -&gt; Removed</h3>

<ul class="type">
<li><code>Host = host() (see module mod_pubsub)</code></li><li><code>NodeId = nodeId() (see module mod_pubsub)</code></li><li><code>Removed = [pubsubNode() (see module mod_pubsub)]</code></li></ul>
<div class="description">
 </div></div></div>

<authors>

<aname>Christophe Romain</aname>
<email>christophe.romain@process-one.net</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
