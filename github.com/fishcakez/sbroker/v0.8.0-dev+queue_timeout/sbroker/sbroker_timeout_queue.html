<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>sbroker_timeout_queue (sbroker) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>sbroker_timeout_queue</h1>
<h2 class="modsummary">Implements a head or tail drop queue with a timeout queue management  
algorithm, where items are dropped once their sojourn time is greater than or  
equal to a timeout value.</h2>
<div class="description">
<p>Implements a head or tail drop queue with a timeout queue management  
algorithm, where items are dropped once their sojourn time is greater than or  
equal to a timeout value.</p>
 
  <p><code>sbroker_timeout_queue</code> can be used as an <code>sbroker_queue</code> module in
  <code>sbroker</code>. Its argument is of the form:
  </p><pre class="sh_erlang">  {out | out_r, Timeout :: timeout(), drop | drop_r,
  Max :: non_neg_integer() | infinity}.</pre><p>
  The first element is <code>out</code> for a FIFO queue and <code>out_r</code> for a LIFO queue. The
  second element is the timeout value, i.e. the minimum sojourn time at which
  items are dropped from the queue. The third element determines whether to
  drop from head (<code>drop</code>) or drop from the tail (<code>drop_r</code>) when the queue is
  above the maximum size (fourth element).</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-internal_queue">internal_queue() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="queue.html#type-queue" class="seealso">queue:queue</a>({integer(), {pid(), any()}, any(), reference()})</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="config_change/6">config_change(Arg::{Out, Timeout, Drop, Max}, Time, State) -&gt; {NState, TimeoutNext}</h3>

<ul class="type">
<li><code>Out = out | out_r</code></li><li><code>Timeout = timeout()</code></li><li><code>Drop = drop | drop_r</code></li><li><code>Max = non_neg_integer() | infinity</code></li><li><code>Time = integer()</code></li><li><code>State = #state{out=undefined | out | out_r, timeout=undefined | pos_integer(), drop=undefined | drop | drop_r, max=undefined | non_neg_integer() | infinity, timeout_next=undefined | integer() | infinity, len=non_neg_integer(), queue=internal_queue()}</code></li><li><code>NState = #state{out=undefined | out | out_r, timeout=undefined | pos_integer(), drop=undefined | drop | drop_r, max=undefined | non_neg_integer() | infinity, timeout_next=undefined | integer() | infinity, len=non_neg_integer(), queue=internal_queue()}</code></li><li><code>TimeoutNext = integer() | infinity</code></li></ul>
<div class="description">
 </div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
