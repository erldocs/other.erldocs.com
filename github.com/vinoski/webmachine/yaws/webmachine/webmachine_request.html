<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>webmachine_request (webmachine) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>webmachine_request</h1>
<h2 class="modsummary">Webmachine HTTP Request Abstraction.</h2>
<div class="description">
<p>Webmachine HTTP Request Abstraction. The functions in this module  
can be invoked using either parameterized module syntax or regular  
invocation syntax. Since the Ericsson OTP team is removing the  
parameterized module syntax in version R16, we encourage you to write  
your applications using regular function syntax.</p>
 
  <p>To use parameterized module syntax, you create an instance and then  
invoke functions on that instance, like this:</p>
 
  <pre class="sh_erlang">
    Req = webmachine_request:new(ReqState),
    Result = Req:some_fun(Args),
  </pre>
 
  <p>where <code>ReqState</code> is an instance of a <code>#wm_reqstate</code> record. The runtime
  then ensures the <code>ReqState</code> variable is implicitly passed to each
  function invoked through the <code>Req</code> instance.</p>
 
  <p>To call functions using regular syntax, simply explicitly pass the
  <code>ReqState</code> variable yourself; note there's no need to call
  <code>webmachine_request:new/1</code> to perform regular invocations.</p></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="new/1">new(Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="trim_state/1">trim_state(ReqState) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_peer/1">get_peer(Req) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_sock/1">get_sock(Req) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="call/2">call(Arg, Req) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_header_value/2">get_header_value(K, ReqState) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="send_response/2">send_response(Code, Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="make_code/1">make_code(Code) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_reqdata/1">get_reqdata(Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="set_reqdata/2">set_reqdata(RD, Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="socket/1">socket(Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="method/1">method(Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="version/1">version(Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="disp_path/1">disp_path(Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="path/1">path(Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="raw_path/1">raw_path(Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="req_headers/1">req_headers(Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="headers/1">headers(Req) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="req_body/2">req_body(MaxRevBody, Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="stream_req_body/2">stream_req_body(MaxHunk, Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="resp_headers/1">resp_headers(Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="out_headers/1">out_headers(Req) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_out_header/2">get_out_header(HeaderName, Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="has_out_header/2">has_out_header(HeaderName, Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="has_response_body/1">has_response_body(Req) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="response_code/1">response_code(Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="set_response_code/2">set_response_code(Code, Req) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="peer/1">peer(Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="range/1">range(Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="parse_cookie/1">parse_cookie(Req) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_cookie_value/2">get_cookie_value(Key, Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="parse_qs/1">parse_qs(Req) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_qs_value/2">get_qs_value(Key, Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_qs_value/3">get_qs_value(Key, Default, Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="set_resp_body/2">set_resp_body(Body, Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="response_body/1">response_body(Req) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_req_header/2">get_req_header(K, Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="add_response_header/3">add_response_header(K, V, Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="add_response_headers/2">add_response_headers(Hdrs, Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="remove_response_header/2">remove_response_header(K, Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="merge_response_headers/2">merge_response_headers(Hdrs, Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="append_to_response_body/2">append_to_response_body(Data, Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="do_redirect/1">do_redirect(Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="resp_redirect/1">resp_redirect(Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_metadata/2">get_metadata(Key, Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="set_metadata/3">set_metadata(Key, Value, Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_path_info/1">get_path_info(Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_path_info/2">get_path_info(Key, Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_path_tokens/1">get_path_tokens(Req) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_app_root/1">get_app_root(Req) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="load_dispatch_data/7">load_dispatch_data(Bindings, HostTokens, Port, PathTokens, AppRoot, DispPath, Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="log_data/1">log_data(Wm_reqstate) -&gt; term()
</h3>


<div class="description">
 </div></div></div>

<authors>

<aname>Justin Sheehy</aname>
<email>justin@basho.com</email>
<aname>Andy Gross</aname>
<email>andy@basho.com</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
