<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>oc_folsom (opscoderl_folsom) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>oc_folsom</h1>
<h2 class="modsummary">Helper module for instrumenting code with folsom metrics.</h2>
<div class="description">
<p>Helper module for instrumenting code with folsom metrics.</p>
 
  <p>This module provides convenience functions for standardizing the naming of metric labels
  for use with folsom. All metric labels are binaries. Since the purpose of this module is
  to concatenate things into a label, using binaries requires less work. The function
  convert to binary using <code>iolist_to_binary</code>. If we used atoms, there would be an  
additional step to translate back to an atom. Binaries are also GC'd, unlike atoms, which  
would be a benefit for the unlikely case of dynamic metrics that come and go.</p>
 
  <p>We assume that the folsom application is started as a top-level application within an OTP
  release.
 </p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-atom_or_bin">atom_or_bin() = atom() | binary()</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="app_label/1">app_label(App::atom_or_bin(), Name::atom_or_bin()) -&gt; binary()</h3>


<div class="description">

<p>Generate a label for an application-level metric. The returned name will be prefixed
  with "app.".</p>
</div></div>
<div class="function">
<h3 id="mf_label/1">mf_label(Mod::atom(), Fun::atom()) -&gt; binary()</h3>


<div class="description">

<p>Generate a folsom metric label for module <code>Mod</code> and function name <code>Fun</code>. The
  returned label will be prefixed with "function.".</p>
</div></div>
<div class="function">
<h3 id="time/1">time(Metric::binary(), Fun::() -&gt; any()) -&gt; any()</h3>


<div class="description">

<p>Capturing duration and rate metrics for the execution of function <code>Fun</code>. Two metrics
  will be recorded, <code>&lt;&lt;Metric/binary, ".rate"&gt;&gt;</code> (meter) and <code>&lt;&lt;Metric/binary,
  ".duration"&gt;&gt;</code> (histogram). The run time of <code>Fun</code> is captured using <code>timer:tc</code>.</p>
</div></div></div>

<authors>

<aname>Seth Chisamore</aname>
<email>schisamo@opscode.com</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
