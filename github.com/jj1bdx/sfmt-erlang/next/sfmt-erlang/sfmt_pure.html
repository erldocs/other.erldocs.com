<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>sfmt_pure (sfmt-erlang) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>sfmt_pure</h1>
<h2 class="modsummary">SIMD-oriented Fast Mersenne Twister (SFMT) in pure Erlang.</h2>
<div class="description">
<p>SIMD-oriented Fast Mersenne Twister (SFMT) in pure Erlang.
  The recursion algorithm for <code>gen_rand_all</code> and <code>gen_rand_list32</code> are
  explained as follows:
  </p><pre class="sh_erlang">  a[]: output array (of S w128() elements)
  i[]: internal state (of N w128() elements)
  (For gen_rand_all, S =:= N)
  (For gen_rand_list32, S &gt;= N)
  r(a, b, c, d): do_recursion/4 function (of 4 w128() arguments)
  (The indexes are in C notation ([0 ... J-1] for J elements))
 
  a[0] = r(i[0], i[POS1],   i[N-2], i[N-1]);
  a[1] = r(i[1], i[POS1+1], i[N-1], a[0]);
  a[2] = r(i[2], i[POS1+2], a[0],   a[1]);
  ...
  a[(N-POS1)-1] = r(i[(N-POS1)-1], i[N-1], a[(N-POS1)-3], a[(N-POS1)-2]);
  a[(N-POS1)]   = r(i[(N-POS1)],   a[0],   a[(N-POS1)-2], a[(N-POS1)-1]);
  a[(N-POS1)+1] = r(i[(N-POS1)+1], a[1],   a[(N-POS1)-1], a[(N-POS1)]);
  ...
  a[N-1] = r(i[N-1], a[POS1-1], a[N-3], a[N-2]);
  % assignments from here only applicable to gen_rand_list32
  a[N]   = r(a[0],   a[POS1],   a[N-2], a[N-1]);
  a[N+1] = r(a[1],   a[POS1+1], a[N-1], a[N]);
  ...
  a[X]   = r(a[X-N], a[X-(N-POS1)], a[X-1], a[X-2]);
  ...
  a[S-1] = r(a[(S-N)-1], a[S-(N-POS1)-1], a[S-2], a[S-3]);</pre><p>
 
  </p><p>Use the last N <code>w128()</code> elements of <code>a[]</code> for the new internal state <code>ni[]</code>,  
i.e.,</p>
 
  <pre class="sh_erlang">  ni[0] = a[S-N], ni[1] = a[S-N+1], ... ni[N-1] = a[S-1].</pre><p>
  To avoid appending two lists,
  <code>a</code> and <code>b</code> of <code>r(a, b, c, d)</code> form ring buffers,
  e.g., <code>Int</code> and <code>AccInt</code>, <code>IntP</code> and <code>AccIntP</code>,
   of <code>gen_rand_recursion/8</code>.
  This makes the algorithm simpler and faster.</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-intstate">intstate() = [integer()]</h3></div>
    <div class="type"><h3 id="type-ran_sfmt">ran_sfmt() = {[integer()], <a href="#type-intstate" class="seealso">intstate()</a>}</h3></div>
    <div class="type"><h3 id="type-w128">w128()</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="gen_rand_all/1">gen_rand_all(Int::intstate()) -&gt; intstate()</h3>


<div class="description">

<p>filling the internal state array with SFMT PRNG</p>
</div></div>
<div class="function">
<h3 id="gen_rand_list32/1">gen_rand_list32(Size::integer(), Int::intstate()) -&gt; {[integer()], intstate()}</h3>


<div class="description">

<p>generating the 32-bit integer list of PRNG,
       where length of the list is Size
       with the updated internal state</p>
</div></div>
<div class="function">
<h3 id="get_idstring/0">get_idstring() -&gt; string()</h3>


<div class="description">

<p>returns SFMT identification string</p>
</div></div>
<div class="function">
<h3 id="get_min_array_size32/0">get_min_array_size32() -&gt; integer()</h3>


<div class="description">

<p>returns array size of internal state</p>
</div></div>
<div class="function">
<h3 id="init_gen_rand/1">init_gen_rand(Seed::integer()) -&gt; intstate()</h3>


<div class="description">

<p>generates an internal state from an integer seed</p>
</div></div>
<div class="function">
<h3 id="init_by_list32/1">init_by_list32(Key::[integer()]) -&gt; intstate()</h3>


<div class="description">

<p>generates an internal state from a list of 32-bit integers</p>
</div></div>
<div class="function">
<h3 id="gen_rand32/1">gen_rand32(L::intstate()) -&gt; {integer(), ran_sfmt()}</h3>


<div class="description">

<p>generates a 32-bit random number from the given ran_sfmt()</p>
</div></div>
<div class="function">
<h3 id="seed0/0">seed0() -&gt; ran_sfmt()</h3>


<div class="description">

<p>Returns the default internal state</p>
</div></div>
<div class="function">
<h3 id="seed/0">seed() -&gt; ran_sfmt()</h3>


<div class="description">

<p>Initialize the process dictionary with seed0/0,
       and return seed0/0 value.</p>
</div></div>
<div class="function">
<h3 id="seed/1">seed(N::integer() | [integer()] | {integer(), integer(), integer()}) -&gt; ran_sfmt()</h3>


<div class="description">

<p>Puts the seed computed from the given integer
       as a single-element list by init_by_list32/1
       and puts the internal state into the process dictionary
       and initializes the random number list with the internal state
       and returns the old internal state</p>
</div></div>
<div class="function">
<h3 id="seed/1-1">seed(A1::integer(), A2::integer(), A3::integer()) -&gt; ran_sfmt()</h3>


<div class="description">

<p>Puts the seed computed from given three integers
       and puts the internal state into the process dictionary
       and initializes the random number list with the internal state
       and returns the old internal state</p>
</div></div>
<div class="function">
<h3 id="uniform/0">uniform() -&gt; float()</h3>


<div class="description">

<p>Returns a uniformly-distributed float random number X
       where <code>(X &gt;= 0.0)</code> and <code>(X =&lt; 1.0)</code>
       and updates the internal state in the process dictionary</p>
</div></div>
<div class="function">
<h3 id="uniform/1">uniform(N::integer()) -&gt; integer()</h3>


<div class="description">

<p>Returns a uniformly-distributed integer random number X
       where <code>(X &gt;= 1)</code> and <code>(X =&lt; N)</code>
       and updates the internal state in the process dictionary</p>
</div></div>
<div class="function">
<h3 id="uniform_s/1">uniform_s(RS::ran_sfmt()) -&gt; {float(), ran_sfmt()}</h3>


<div class="description">

<p>With a given state,
       Returns a uniformly-distributed float random number X
       where <code>(X &gt;= 0.0)</code> and <code>(X =&lt; 1.0)</code>
       and a new state</p>
</div></div>
<div class="function">
<h3 id="uniform_s/1-1">uniform_s(N::integer(), RS::ran_sfmt()) -&gt; {integer(), ran_sfmt()}</h3>


<div class="description">
 </div></div></div>

<authors>

<aname>Kenji Rikitake</aname>
<email>kenji.rikitake@acm.org</email>
<aname>Mutsuo Saito</aname>
<email> </email>
<aname>Makoto Matsumoto</aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
