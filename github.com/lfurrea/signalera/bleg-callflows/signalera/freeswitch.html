<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>freeswitch (signalera) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>freeswitch</h1>
<h2 class="modsummary">A module for interfacing with FreeSWITCH using mod_erlang_event.</h2>
<div class="description">
<p>A module for interfacing with FreeSWITCH using mod_erlang_event.</p></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="get_event_header/2">get_event_header(Headers, Needle) -&gt; term()
</h3>


<div class="description">

<p>Return the value for a specific header in an event or <code>{error,notfound}</code>.</p>
</div></div>
<div class="function">
<h3 id="get_event_name/1">get_event_name(Event) -&gt; term()
</h3>


<div class="description">

<p>Return the name of the event.</p>
</div></div>
<div class="function">
<h3 id="get_event_body/1">get_event_body(Event) -&gt; term()
</h3>


<div class="description">

<p>Return the body of the event or <code>{error, notfound}</code> if no event body.</p>
</div></div>
<div class="function">
<h3 id="send/2">send(Node, Term) -&gt; term()
</h3>


<div class="description">

<p>Send a raw term to FreeSWITCH. Returns the reply or <code>timeout</code> on a
  timeout.</p>
</div></div>
<div class="function">
<h3 id="fetch_reply/3">fetch_reply(Node, FetchID, Reply) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="api/3">api(Node, Cmd, Args) -&gt; term()
</h3>


<div class="description">

<p>Make a blocking API call to FreeSWITCH. The result of the API call is
  returned or <code>timeout</code> if FreeSWITCH fails to respond.</p>
</div></div>
<div class="function">
<h3 id="api/2">api(Node, Cmd) -&gt; term()
</h3>


<div class="description">

<p>Same as @link{api/3} except there's no additional arguments.</p>
</div></div>
<div class="function">
<h3 id="bgapi/1">bgapi(Node::atom(), Cmd::atom(), Args::string()) -&gt; {ok, string()} | {error, any()} | timeout</h3>


<div class="description">

<p>Make a backgrounded API call to FreeSWITCH. The asynchronous reply is
  sent to calling process after it is received. This function
  returns the result of the initial bgapi call or <code>timeout</code> if FreeSWITCH fails
  to respond.</p>
</div></div>
<div class="function">
<h3 id="bgapi/1-1">bgapi(Node::atom(), Cmd::atom(), Args::string(), Fun::function()) -&gt; ok | {error, any()} | timeout</h3>


<div class="description">

<p>Make a backgrounded API call to FreeSWITCH. The asynchronous reply is
  passed as the argument to <code>Fun</code> after it is received. This function
  returns the result of the initial bgapi call or <code>timeout</code> if FreeSWITCH fails
  to respond.</p>
</div></div>
<div class="function">
<h3 id="event/2">event(Node, Events) -&gt; term()
</h3>


<div class="description">

<p>Request to receive any events in the list <code>List</code>.</p>
</div></div>
<div class="function">
<h3 id="session_event/2">session_event(Node, Events) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="nixevent/2">nixevent(Node, Events) -&gt; term()
</h3>


<div class="description">

<p>Stop receiving any events in the list <code>Events</code> from <code>Node</code>.</p>
</div></div>
<div class="function">
<h3 id="session_nixevent/2">session_nixevent(Node, Events) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="noevents/1">noevents(Node) -&gt; term()
</h3>


<div class="description">

<p>Stop receiving any events from <code>Node</code>.</p>
</div></div>
<div class="function">
<h3 id="session_noevents/1">session_noevents(Node) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="close/1">close(Node) -&gt; term()
</h3>


<div class="description">

<p>Close the connection to <code>Node</code>.</p>
</div></div>
<div class="function">
<h3 id="sendevent/3">sendevent(Node, EventName, Headers) -&gt; term()
</h3>


<div class="description">

<p>Send an event to FreeSWITCH. <code>EventName</code> is the name of the event and
  <code>Headers</code> is a list of <code>{Key, Value}</code> string tuples. See the mod_event_socket
  documentation for more information.</p>
</div></div>
<div class="function">
<h3 id="sendevent_custom/3">sendevent_custom(Node, SubClassName, Headers) -&gt; term()
</h3>


<div class="description">

<p>Send a CUSTOM event to FreeSWITCH. <code>SubClassName</code> is the name of the event
  subclass and <code>Headers</code> is a list of <code>{Key, Value}</code> string tuples. See the
  mod_event_socket documentation for more information.</p>
</div></div>
<div class="function">
<h3 id="sendmsg/3">sendmsg(Node, UUID, Headers) -&gt; term()
</h3>


<div class="description">

<p>Send a message to the call identified by <code>UUID</code>. <code>Headers</code> is a list of
  <code>{Key, Value}</code> string tuples.</p>
</div></div>
<div class="function">
<h3 id="getpid/1">getpid(Node) -&gt; term()
</h3>


<div class="description">

<p>Get the fake pid of the FreeSWITCH node at <code>Node</code>. This can be helpful
  for linking to the process. Returns <code>{ok, Pid}</code> or <code>timeout</code>.</p>
</div></div>
<div class="function">
<h3 id="handlecall/3">handlecall(Node, UUID, Process) -&gt; term()
</h3>


<div class="description">

<p>Request that FreeSWITCH send any events pertaining to call <code>UUID</code> to
  <code>Process</code> where process is a registered process name.</p>
</div></div>
<div class="function">
<h3 id="handlecall/2">handlecall(Node, UUID) -&gt; term()
</h3>


<div class="description">

<p>Request that FreeSWITCH send any events pertaining to call <code>UUID</code> to
  the calling process.</p>
</div></div>
<div class="function">
<h3 id="start_log_handler/4">start_log_handler(Node, Module, Function, State) -&gt; term()
</h3>


<div class="description">

<p>Spawn <code>Module</code>:<code>Function</code> as a log handler. The process will receive
  messages of the form <code>{log, [{level, LogLevel}, {text_channel, TextChannel}, {file, FileName}, {func, FunctionName}, {line, LineNumber}, {data, LogMessage}]}</code>
  or <code>{nodedown, Node}</code> if the FreesSWITCH node at <code>Node</code> exits.</p>
 
  <p>The function specified by <code>Module</code>:<code>Function</code> should be tail recursive and is  
passed one argument; the name of the FreeSWITCH node.</p>
 
  <p>Subsequent calls to this function for the same node replaces the  
previous event handler with the newly spawned one.</p>
 
  <p>This function returns either <code>{ok, Pid}</code> where <code>Pid</code> is the pid of the newly
  spawned process, <code>{error, Reason}</code> or the atom <code>timeout</code> if FreeSWITCH did
  not respond.</p>
</div></div>
<div class="function">
<h3 id="start_event_handler/4">start_event_handler(Node, Module, Function, State) -&gt; term()
</h3>


<div class="description">

<p>Spawn Module:Function as an event handler. The process will receive
  messages of the form <code>{event, [UniqueID, {Key, Value}, {...}]}</code> where
  <code>UniqueID</code> is either a FreeSWITCH call ID or <code>undefined</code> or
  <code>{nodedown, Node}</code> if the FreeSWITCH node at <code>Node</code> exits.</p>
 
  <p>The function specified by <code>Module</code>:<code>Function</code> should be tail recursive and is  
passed one argument; the name of the FreeSWITCH node.</p>
 
  <p>Subsequent calls to this function for the same node replaces the  
previous event handler with the newly spawned one.</p>
 
  <p>This function returns either <code>{ok, Pid}</code> where <code>Pid</code> is the pid of the newly
  spawned process, <code>{error, Reason}</code> or the atom <code>timeout</code> if FreeSWITCH did
  not respond.</p>
</div></div>
<div class="function">
<h3 id="start_fetch_handler/5">start_fetch_handler(Node, Section, Module, Function, State) -&gt; term()
</h3>


<div class="description">

<p>Spawn Module:Function as an XML config fetch handler for configs of type
  <code>Section</code>. See the FreeSWITCH documentation for mod_xml_rpc for more
  information on sections. The process will receive messages of the form
  <code>{fetch, Section, Tag, Key, Value, ID, Data}</code> or <code>{nodedown, Node}</code> if the
  FreeSWITCH node at <code>Node</code> exits.</p>
 
  <p>The function specified by <code>Module</code>:<code>Function</code> should be tail recursive and is
  passed one argument; the name of the FreeSWITCH node. The function should
  send tuples back to FreeSWITCH of the form <code>{fetch_reply, ID, XML}</code> where
 <code>ID</code> is the ID received in the request tuple and  <code>XML</code> is XML in string or  
binary form of the form noted in the mod_xml_rpc documentation.</p>
 
  <p>Subsequent calls to this function for the same node and section will yield  
undefined behaviour.</p>
 
  <p>This function returns either <code>{ok, Pid}</code> where <code>Pid</code> is the pid of the newly
  spawned process, <code>{error, Reason}</code> or the atom <code>timeout</code> if FreeSWITCH did
  not respond.</p>
</div></div></div>

<authors>

<aname>Andrew Thompson</aname>
<email>andrew AT hijacked DOT us</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
