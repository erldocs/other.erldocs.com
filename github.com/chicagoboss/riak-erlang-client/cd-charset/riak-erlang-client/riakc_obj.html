<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>riakc_obj (riak-erlang-client) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>riakc_obj</h1>
<h2 class="modsummary">riakc_obj is used to wrap bucket/key/value data sent to the
                 server on put and received on get.</h2>
<div class="description">
<p>riakc_obj is used to wrap bucket/key/value data sent to the
                 server on put and received on get.  It provides
                 accessors for retrieving the data and metadata
                 and copes with siblings if multiple values are allowed.</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-binary_index">binary_index() = {<a href="#type-binary_index_id" class="seealso">binary_index_id()</a>, [<a href="#type-binary_index_value" class="seealso">binary_index_value()</a>]}</h3></div>
    <div class="type"><h3 id="type-binary_index_id">binary_index_id() = {binary_index, string()}</h3></div>
    <div class="type"><h3 id="type-binary_index_value">binary_index_value() = binary()</h3></div>
    <div class="type"><h3 id="type-bucket">bucket() = binary()</h3></div>
    <div class="type"><h3 id="type-charset">charset() = string()</h3></div>
    <div class="type"><h3 id="type-content_type">content_type() = string()</h3></div>
    <div class="type"><h3 id="type-contents">contents() = [{<a href="#type-metadata" class="seealso">metadata()</a>, <a href="#type-value" class="seealso">value()</a>}]</h3></div>
    <div class="type"><h3 id="type-id">id() = {<a href="#type-bucket" class="seealso">bucket()</a>, <a href="#type-key" class="seealso">key()</a>}</h3></div>
    <div class="type"><h3 id="type-integer_index">integer_index() = {<a href="#type-integer_index_id" class="seealso">integer_index_id()</a>, [<a href="#type-integer_index_value" class="seealso">integer_index_value()</a>]}</h3></div>
    <div class="type"><h3 id="type-integer_index_id">integer_index_id() = {integer_index, string()}</h3></div>
    <div class="type"><h3 id="type-integer_index_value">integer_index_value() = integer()</h3></div>
    <div class="type"><h3 id="type-key">key() = binary() | undefined</h3></div>
    <div class="type"><h3 id="type-link">link() = {<a href="#type-tag" class="seealso">tag()</a>, [<a href="#type-id" class="seealso">id()</a>]}</h3></div>
    <div class="type"><h3 id="type-metadata">metadata() = dict()</h3></div>
    <div class="type"><h3 id="type-metadata_entry">metadata_entry() = {<a href="#type-metadata_key" class="seealso">metadata_key()</a>, <a href="#type-metadata_value" class="seealso">metadata_value()</a>}</h3></div>
    <div class="type"><h3 id="type-metadata_key">metadata_key() = binary()</h3></div>
    <div class="type"><h3 id="type-metadata_value">metadata_value() = binary()</h3></div>
    <div class="type"><h3 id="type-riakc_obj">riakc_obj() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#riakc_obj{bucket = undefined | <a href="#type-bucket" class="seealso">bucket()</a>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key = undefined | <a href="#type-key" class="seealso">key()</a>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vclock = undefined | <a href="#type-vclock" class="seealso">vclock()</a>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contents = undefined | <a href="#type-contents" class="seealso">contents()</a>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;updatemetadata = undefined | dict(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;updatevalue = undefined | <a href="#type-value" class="seealso">value()</a>}</h3></div>
    <div class="type"><h3 id="type-secondary_index">secondary_index() = <a href="#type-binary_index" class="seealso">binary_index()</a> | <a href="#type-integer_index" class="seealso">integer_index()</a></h3></div>
    <div class="type"><h3 id="type-secondary_index_id">secondary_index_id() = <a href="#type-binary_index_id" class="seealso">binary_index_id()</a> | <a href="#type-integer_index_id" class="seealso">integer_index_id()</a></h3></div>
    <div class="type"><h3 id="type-secondary_index_value">secondary_index_value() = <a href="#type-integer_index_value" class="seealso">integer_index_value()</a><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a href="#type-binary_index_value" class="seealso">binary_index_value()</a></h3></div>
    <div class="type"><h3 id="type-tag">tag() = binary()</h3></div>
    <div class="type"><h3 id="type-value">value() = binary()</h3></div>
    <div class="type"><h3 id="type-vclock">vclock() = binary()</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="new/1">new(Bucket::bucket(), Key::key()) -&gt; riakc_obj()</h3>


<div class="description">

<p>Constructor for new riak client objects.</p>
</div></div>
<div class="function">
<h3 id="new/1-1">new(Bucket::bucket(), Key::key(), Value::value()) -&gt; riakc_obj()</h3>


<div class="description">

<p>Constructor for new riak client objects with an update value.</p>
</div></div>
<div class="function">
<h3 id="new/1-2">new(Bucket::bucket(), Key::key(), Value::value(), ContentType::content_type()) -&gt; riakc_obj()</h3>


<div class="description">

<p>Constructor for new riak client objects with an update value and content type.</p>
</div></div>
<div class="function">
<h3 id="new/1-3">new(Bucket::bucket(), Key::key(), Value::value(), ContentType::content_type(), Charset::charset()) -&gt; riakc_obj()</h3>


<div class="description">

<p>Constructor for new riak client objects with an update value, content type and character set.</p>
</div></div>
<div class="function">
<h3 id="bucket/1">bucket(Object::riakc_obj()) -&gt; bucket()</h3>


<div class="description">

<p>Return the containing bucket for this riakc_obj.</p>
</div></div>
<div class="function">
<h3 id="key/1">key(Object::riakc_obj()) -&gt; key()</h3>


<div class="description">

<p> Return the key for this riakc_obj.</p>
</div></div>
<div class="function">
<h3 id="vclock/1">vclock(Object::riakc_obj()) -&gt; vclock() | undefined</h3>


<div class="description">

<p> Return the vector clock for this riakc_obj.</p>
</div></div>
<div class="function">
<h3 id="value_count/1">value_count(Object::riakc_obj()) -&gt; non_neg_integer()</h3>


<div class="description">

<p> Return the number of values (siblings) of this riakc_obj.</p>
</div></div>
<div class="function">
<h3 id="select_sibling/1">select_sibling(Index::pos_integer(), Object::riakc_obj()) -&gt; riakc_obj()</h3>


<div class="description">

<p> Select the sibling to use for update - starting from 1.</p>
</div></div>
<div class="function">
<h3 id="get_contents/1">get_contents(Object::riakc_obj()) -&gt; contents()</h3>


<div class="description">

<p> Return the contents (a list of {metadata, value} tuples) for
        this riakc_obj.</p>
</div></div>
<div class="function">
<h3 id="get_metadata/1">get_metadata(Object::riakc_obj()) -&gt; metadata()</h3>


<div class="description">

<p>Assert that this riakc_obj has no siblings and return its
        associated metadata.  This function will throw <code>siblings</code> if
        the object has siblings (value_count() &gt; 1).</p>
</div></div>
<div class="function">
<h3 id="get_metadatas/1">get_metadatas(Object::riakc_obj()) -&gt; [metadata()]</h3>


<div class="description">

<p> Return a list of the metadata values for this riakc_obj.</p>
</div></div>
<div class="function">
<h3 id="get_content_type/1">get_content_type(Object::riakc_obj()) -&gt; content_type()</h3>


<div class="description">

<p>Return the content type of the value if there are no siblings.</p>
<p><em>See also:</em> <a href="#get_metadata/1" class="seealso">get_metadata/1</a>.</p>
</div></div>
<div class="function">
<h3 id="get_content_types/1">get_content_types(Object::riakc_obj()) -&gt; [content_type()]</h3>


<div class="description">

<p>Return a list of content types for all siblings.</p>
</div></div>
<div class="function">
<h3 id="get_charset/1">get_charset(Object::riakc_obj()) -&gt; charset()</h3>


<div class="description">

<p>Return the character set of the value if there are no siblings.</p>
<p><em>See also:</em> <a href="#get_metadata/1" class="seealso">get_metadata/1</a>.</p>
</div></div>
<div class="function">
<h3 id="get_charsets/1">get_charsets(Object::riakc_obj()) -&gt; [charset()]</h3>


<div class="description">

<p>Return a list of character sets for all siblings.</p>
</div></div>
<div class="function">
<h3 id="get_value/1">get_value(Object::riakc_obj()) -&gt; value()</h3>


<div class="description">

<p>Assert that this riakc_obj has no siblings and return its
        associated value.  This function will throw <code>siblings</code> if the
        object has siblings (value_count() &gt; 1), or <code>no_value</code> if the
        object has no value.</p>
</div></div>
<div class="function">
<h3 id="get_values/1">get_values(Object::riakc_obj()) -&gt; [value()]</h3>


<div class="description">

<p> Return a list of object values for this riakc_obj.</p>
</div></div>
<div class="function">
<h3 id="update_metadata/1">update_metadata(Object::riakc_obj(), M::metadata()) -&gt; riakc_obj()</h3>


<div class="description">

<p> Set the updated metadata of an object to M.</p>
</div></div>
<div class="function">
<h3 id="update_content_type/1">update_content_type(Object::riakc_obj(), CT::content_type() | binary()) -&gt; riakc_obj()</h3>


<div class="description">

<p> Set the updated content-type of an object to CT.</p>
</div></div>
<div class="function">
<h3 id="update_charset/1">update_charset(Object::riakc_obj(), CS::content_type() | binary()) -&gt; riakc_obj()</h3>


<div class="description">

<p> Set the updated character set of an object to CS.</p>
</div></div>
<div class="function">
<h3 id="update_value/1">update_value(Object::riakc_obj(), V::value()) -&gt; riakc_obj()</h3>


<div class="description">

<p> Set the updated value of an object to V</p>
</div></div>
<div class="function">
<h3 id="update_value/1-1">update_value(Object::riakc_obj(), V::value(), CT::content_type()) -&gt; riakc_obj()</h3>


<div class="description">

<p> Set the updated value of an object to V</p>
</div></div>
<div class="function">
<h3 id="update_value/1-2">update_value(Object::riakc_obj(), V::value(), CT::content_type(), CS::charset()) -&gt; riakc_obj()</h3>


<div class="description">

<p> Set the updated value of an object to V</p>
</div></div>
<div class="function">
<h3 id="get_update_metadata/1">get_update_metadata(Object::riakc_obj()) -&gt; metadata()</h3>


<div class="description">

<p> Return the updated metadata of this riakc_obj.</p>
</div></div>
<div class="function">
<h3 id="get_update_content_type/1">get_update_content_type(Object::riakc_obj()) -&gt; content_type()</h3>


<div class="description">

<p>Return the content type of the update value</p>
</div></div>
<div class="function">
<h3 id="get_update_charset/1">get_update_charset(Object::riakc_obj()) -&gt; charset()</h3>


<div class="description">

<p>Return the character set of the update value</p>
</div></div>
<div class="function">
<h3 id="get_update_value/1">get_update_value(Object::riakc_obj()) -&gt; value()</h3>


<div class="description">

<p> Return the updated value of this riakc_obj.</p>
</div></div>
<div class="function">
<h3 id="md_ctype/1">md_ctype(MetaData::dict()) -&gt; undefined | content_type()</h3>


<div class="description">

<p> Return the content type from metadata</p>
</div></div>
<div class="function">
<h3 id="set_vclock/1">set_vclock(Object::riakc_obj(), Vclock::vclock()) -&gt; riakc_obj()</h3>


<div class="description">

<p> Set the vector clock of an object</p>
</div></div>
<div class="function">
<h3 id="get_user_metadata_entry/1">get_user_metadata_entry(MD::metadata(), Key::metadata_key()) -&gt; metadata_value() | notfound</h3>


<div class="description">

<p> Get specific metadata entry</p>
</div></div>
<div class="function">
<h3 id="get_user_metadata_entries/1">get_user_metadata_entries(MD::metadata()) -&gt; [metadata_entry()]</h3>


<div class="description">

<p> Get all metadata entries</p>
</div></div>
<div class="function">
<h3 id="clear_user_metadata_entries/1">clear_user_metadata_entries(MD::metadata()) -&gt; metadata()</h3>


<div class="description">

<p> Clear all metadata entries</p>
</div></div>
<div class="function">
<h3 id="delete_user_metadata_entry/1">delete_user_metadata_entry(MD::metadata(), Key::metadata_key()) -&gt; metadata()</h3>


<div class="description">

<p> Delete specific metadata entry</p>
</div></div>
<div class="function">
<h3 id="set_user_metadata_entry/1">set_user_metadata_entry(MD::metadata(), X2::metadata_entry()) -&gt; metadata()</h3>


<div class="description">

<p> Set a metadata entry</p>
</div></div>
<div class="function">
<h3 id="get_secondary_index/1">get_secondary_index(MD::metadata(), X2::secondary_index_id()) -&gt; [secondary_index_value()] | notfound</h3>


<div class="description">

<p> Get value(s) for specific secondary index</p>
</div></div>
<div class="function">
<h3 id="get_secondary_indexes/1">get_secondary_indexes(MD::metadata()) -&gt; [secondary_index()]</h3>


<div class="description">

<p> Get all secondary indexes</p>
</div></div>
<div class="function">
<h3 id="clear_secondary_indexes/1">clear_secondary_indexes(MD::metadata()) -&gt; metadata()</h3>


<div class="description">

<p> Clear all secondary indexes</p>
</div></div>
<div class="function">
<h3 id="delete_secondary_index/1">delete_secondary_index(MD::metadata(), IndexId::secondary_index_id()) -&gt; metadata()</h3>


<div class="description">

<p> Delete specific secondary index</p>
</div></div>
<div class="function">
<h3 id="set_secondary_index/1">set_secondary_index(MD::metadata(), Rest::secondary_index() | [secondary_index()]) -&gt; metadata()</h3>


<div class="description">

<p> Set a secondary index</p>
</div></div>
<div class="function">
<h3 id="add_secondary_index/1">add_secondary_index(MD::metadata(), Rest::secondary_index() | [secondary_index()]) -&gt; metadata()</h3>


<div class="description">

<p> Add a secondary index</p>
</div></div>
<div class="function">
<h3 id="get_links/1">get_links(MD::metadata(), Tag::tag()) -&gt; [id()] | notfound</h3>


<div class="description">

<p> Get links for a specific tag</p>
</div></div>
<div class="function">
<h3 id="get_all_links/1">get_all_links(MD::metadata()) -&gt; [link()]</h3>


<div class="description">

<p> Get all links</p>
</div></div>
<div class="function">
<h3 id="clear_links/1">clear_links(MD::metadata()) -&gt; metadata()</h3>


<div class="description">

<p> Clear all links</p>
</div></div>
<div class="function">
<h3 id="delete_links/1">delete_links(MD::metadata(), Tag::tag()) -&gt; metadata()</h3>


<div class="description">

<p> Delete links for a specific tag</p>
</div></div>
<div class="function">
<h3 id="set_link/1">set_link(MD::metadata(), Link::link() | [link()]) -&gt; metadata()</h3>


<div class="description">

<p> Set links for a specific tag</p>
</div></div>
<div class="function">
<h3 id="add_link/1">add_link(MD::metadata(), Link::secondary_index() | [secondary_index()]) -&gt; metadata()</h3>


<div class="description">

<p> Add links for a specific tag</p>
</div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
