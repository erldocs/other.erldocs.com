<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>giallo_middleware (giallo) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>giallo_middleware</h1>
<h2 class="modsummary">Giallo middleware.</h2>
<div class="description">
<p>Giallo middleware.</p>
 
  <p>This module is implemented as a Cowboy middleware and checks if a given
  request should be handled by a Giallo handler. If so it executes that
  handler and evaluates the response. If Giallo determines that it shouldn't
  execute the handler it will hand it off to Cowboy or return 404 depending
  on if the handler implements the correct Cowboy behavior or not.</p></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="execute/2">execute(Req0, Env) -&gt; {ok, Req, Env} | {error, 500, Req} | {halt, Req}</h3>

<ul class="type">
<li><code>Req0 = req() (see module cowboy_req)</code></li><li><code>Req = req() (see module cowboy_req)</code></li><li><code>Env = env() (see module cowboy_middleware)</code></li></ul>
<div class="description">

<p>This function is called from Cowboy for every request. For every call       
it will check to see if it should execute a Giallo handler, or       
transparently pass on to Cowboy. The flow of control is:</p>
 
       <pre class="sh_erlang">
       Cowboy
         |
       Giallo (giallo_middleware:execute/2)
         |
       Is handler valid?
         |  \ no
         |   - Hand over the control to Cowboy to 404 it
         |
         | yes
       Is action valid?
         |  \ no
         |   \
         |    - Is the index_/4 action valid?
         |    | \ no
         |    |  \
         |    |   - Is the handler a valid Cowboy handler?
         |    |   |  \ no
         |    |   |   \
         |    |   |    - Return a 404
         |    |   |
         |    | Hand over control to Cowboy to continue processing
         |    |
         |  Execute(*) the index_/4 action and render the result
         |
       Execute(*) the action and render the result
 
       (*) Look to see if before_/4 should be executed
       </pre>
</div></div>
<div class="function">
<h3 id="execute_handler/5">execute_handler(Handler, Action, Arguments, Req0, Env) -&gt; {ok, Req, Env} | {error, 500, Req} | {halt, Req}</h3>

<ul class="type">
<li><code>Handler = module()</code></li><li><code>Action = atom()</code></li><li><code>Arguments = proplist() (see module proplists)</code></li><li><code>Req0 = req() (see module cowboy_req)</code></li><li><code>Req = req() (see module cowboy_req)</code></li><li><code>Env = env() (see module cowboy_middleware)</code></li></ul>
<div class="description">
 </div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
