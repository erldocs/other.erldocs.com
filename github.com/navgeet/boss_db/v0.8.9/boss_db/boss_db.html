<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>boss_db (boss_db) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>boss_db</h1>
<h2 class="modsummary">Chicago Boss database abstraction.</h2>
<div class="description">
<p>Chicago Boss database abstraction</p></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="start/1">start(Options) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="stop/0">stop() -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="migrate/1">migrate(Migrations) -&gt; term()
</h3>


<div class="description">

<p>Apply migrations from list [{Tag, Fun}]
  currently runs all migrations 'up'</p>
</div></div>
<div class="function">
<h3 id="migrate/2">migrate(X1, Direction) -&gt; term()
</h3>


<div class="description">

<p>Run database migration {Tag, Fun} in Direction</p>
</div></div>
<div class="function">
<h3 id="find/1">find(Id::string()) -&gt; Value | {error, Reason}</h3>


<div class="description">

<p>Find a BossRecord with the specified <code>Id</code> (e.g. "employee-42") or a value described
  by a dot-separated path (e.g. "employee-42.manager.name").</p>
</div></div>
<div class="function">
<h3 id="find/1-1">find(Type::atom(), Conditions) -&gt; [BossRecord]</h3>


<div class="description">

<p>Query for BossRecords. Returns all BossRecords of type
  <code>Type</code> matching all of the given <code>Conditions</code></p>
</div></div>
<div class="function">
<h3 id="find/1-2">find(Type::atom(), Conditions, Options::proplist()) -&gt; [BossRecord]</h3>


<div class="description">

<p>Query for BossRecords. Returns BossRecords of type
  <code>Type</code> matching all of the given <code>Conditions</code>. Options may include
  <code>limit</code> (maximum number of records to return), <code>offset</code> (number of records
  to skip), <code>order_by</code> (attribute to sort on), <code>descending</code> (whether to
  sort the values from highest to lowest), and <code>include</code> (list of belongs_to
  associations to pre-cache)</p>
</div></div>
<div class="function">
<h3 id="find_first/1">find_first(Type::atom()) -&gt; Record | undefined</h3>


<div class="description">

<p>Query for the first BossRecord of type <code>Type</code>.</p>
</div></div>
<div class="function">
<h3 id="find_first/1-1">find_first(Type::atom(), Conditions) -&gt; Record | undefined</h3>


<div class="description">

<p>Query for the first BossRecord of type <code>Type</code> matching all of the given <code>Conditions</code></p>
</div></div>
<div class="function">
<h3 id="find_first/1-2">find_first(Type::atom(), Conditions, Sort::atom()) -&gt; Record | undefined</h3>


<div class="description">

<p>Query for the first BossRecord of type <code>Type</code> matching all of the given <code>Conditions</code>,
  sorted on the attribute <code>Sort</code>.</p>
</div></div>
<div class="function">
<h3 id="find_last/1">find_last(Type::atom()) -&gt; Record | undefined</h3>


<div class="description">

<p>Query for the last BossRecord of type <code>Type</code>.</p>
</div></div>
<div class="function">
<h3 id="find_last/1-1">find_last(Type::atom(), Conditions) -&gt; Record | undefined</h3>


<div class="description">

<p>Query for the last BossRecord of type <code>Type</code> matching all of the given <code>Conditions</code></p>
</div></div>
<div class="function">
<h3 id="find_last/1-2">find_last(Type::atom(), Conditions, Sort) -&gt; Record | undefined</h3>


<div class="description">

<p>Query for the last BossRecord of type <code>Type</code> matching all of the given <code>Conditions</code></p>
</div></div>
<div class="function">
<h3 id="count/1">count(Type::atom()) -&gt; integer()</h3>


<div class="description">

<p>Count the number of BossRecords of type <code>Type</code> in the database.</p>
</div></div>
<div class="function">
<h3 id="count/1-1">count(Type::atom(), Conditions) -&gt; integer()</h3>


<div class="description">

<p>Count the number of BossRecords of type <code>Type</code> in the database matching
  all of the given <code>Conditions</code>.</p>
</div></div>
<div class="function">
<h3 id="counter/1">counter(Id::string()) -&gt; integer()</h3>


<div class="description">

<p>Treat the record associated with <code>Id</code> as a counter and return its value.
  Returns 0 if the record does not exist, so to reset a counter just use
  "delete".</p>
</div></div>
<div class="function">
<h3 id="incr/1">incr(Id::string()) -&gt; integer()</h3>


<div class="description">

<p>Treat the record associated with <code>Id</code> as a counter and atomically increment its value by 1.</p>
</div></div>
<div class="function">
<h3 id="incr/1-1">incr(Id::string(), Increment::integer()) -&gt; integer()</h3>


<div class="description">

<p>Treat the record associated with <code>Id</code> as a counter and atomically increment its value by <code>Increment</code>.</p>
</div></div>
<div class="function">
<h3 id="delete/1">delete(Id::string()) -&gt; ok | {error, Reason}</h3>


<div class="description">

<p>Delete the BossRecord with the given <code>Id</code>.</p>
</div></div>
<div class="function">
<h3 id="push/0">push() -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="pop/0">pop() -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="depth/0">depth() -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="dump/0">dump() -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="create_table/1">create_table(TableName::string(), TableDefinition) -&gt; ok | {error, Reason}</h3>


<div class="description">

<p>Create a table based on TableDefinition</p>
</div></div>
<div class="function">
<h3 id="table_exists/1">table_exists(TableName) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="execute/1">execute(Commands::iolist()) -&gt; RetVal</h3>


<div class="description">

<p>Execute raw database commands on SQL databases</p>
</div></div>
<div class="function">
<h3 id="execute/1-1">execute(Commands::iolist(), Params::list()) -&gt; RetVal</h3>


<div class="description">

<p>Execute database commands with interpolated parameters on SQL databases</p>
</div></div>
<div class="function">
<h3 id="transaction/1">transaction(TransactionFun::function()) -&gt; {atomic, Result} | {aborted, Reason}</h3>


<div class="description">

<p>Execute a fun inside a transaction.</p>
</div></div>
<div class="function">
<h3 id="save_record/1">save_record(Record::BossRecord) -&gt; {ok, SavedBossRecord} | {error, [ErrorMessages]}</h3>


<div class="description">

<p>Save (that is, create or update) the given BossRecord in the database.
  Performs validation first; see <code>validate_record/1</code>.</p>
</div></div>
<div class="function">
<h3 id="validate_record/1">validate_record(Record::BossRecord) -&gt; ok | {error, [ErrorMessages]}</h3>


<div class="description">

<p>Validate the given BossRecord without saving it in the database.
  <code>ErrorMessages</code> are generated from the list of tests returned by the BossRecord's
  <code>validation_tests/0</code> function (if defined). The returned list should consist of
  <code>{TestFunction, ErrorMessage}</code> tuples, where <code>TestFunction</code> is a fun of arity 0
  that returns <code>true</code> if the record is valid or <code>false</code> if it is invalid.
  <code>ErrorMessage</code> should be a (constant) string which will be included in <code>ErrorMessages</code>
  if the <code>TestFunction</code> returns <code>false</code> on this particular BossRecord.</p>
</div></div>
<div class="function">
<h3 id="validate_record/2">validate_record(Record::BossRecord, IsNew) -&gt; ok | {error, [ErrorMessages]}</h3>


<div class="description">

<p>Validate the given BossRecord without saving it in the database.
  <code>ErrorMessages</code> are generated from the list of tests returned by the BossRecord's
  <code>validation_tests/1</code> function (if defined), where parameter is atom() <code>on_create | on_update</code>.
  The returned list should consist of <code>{TestFunction, ErrorMessage}</code> tuples,
  where <code>TestFunction</code> is a fun of arity 0
  that returns <code>true</code> if the record is valid or <code>false</code> if it is invalid.
  <code>ErrorMessage</code> should be a (constant) string which will be included in <code>ErrorMessages</code>
  if the <code>TestFunction</code> returns <code>false</code> on this particular BossRecord.</p>
</div></div>
<div class="function">
<h3 id="validate_record_types/1">validate_record_types(Record::BossRecord) -&gt; ok | {error, [ErrorMessages]}</h3>


<div class="description">

<p>Validate the parameter types of the given BossRecord without saving it
  to the database.</p>
</div></div>
<div class="function">
<h3 id="type/1">type(Id::string()) -&gt; Type::atom()</h3>


<div class="description">

<p>Returns the type of the BossRecord with <code>Id</code>, or <code>undefined</code> if the record does not exist.</p>
</div></div>
<div class="function">
<h3 id="data_type/2">data_type(Key, Val) -&gt; term()
</h3>


<div class="description">
 </div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
