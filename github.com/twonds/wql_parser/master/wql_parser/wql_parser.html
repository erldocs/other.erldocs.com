<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>wql_parser (wql_parser) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>wql_parser</h1>
<h2 class="modsummary">
  A safe, soft-landing parser for a website query language called WQL
  based directly on the
  
         Lucene Query Parser Syntax.</h2>
<div class="description">
<p>
  A safe, soft-landing parser for a website query language called WQL
  based directly on the
  <url href="http://lucene.apache.org/java/2_0_0/queryparsersyntax.html">
         Lucene Query Parser Syntax</url>.
  This parser was designed to be used in conjunction with
  <url href="http://lucene.apache.org/java/docs/index.html">
          Apache Lucene
  </url>, or
  <url href="http://lucene.apache.org/solr/">Solr</url>  
to provide a rich query language for websites.</p>
 
  <p>To get started with wql_parser, you should read the main
  documentation on the
  <a href="chapter.html" class="seealso">overview</a> page.</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-ast">ast() = tuple()</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="parse/1">parse(Query) -&gt; {ok, ast()}</h3>

<ul class="type">
<li><code>Query = string()</code></li></ul>
<div class="description">

<p>
  Calls <a href="#parse/2" class="seealso">parse/2</a> as <code>parse(S, all)</code>.</p>
 
  <p>This call should only be used during development/testing.</p>
</div></div>
<div class="function">
<h3 id="parse/2">parse(Query, LegalFields) -&gt; {ok, ast()}</h3>

<ul class="type">
<li><code>Query = string()</code></li><li><code>LegalFields = [atom()] | all</code></li></ul>
<div class="description">

<p>
  Parses your query string and returns and a syntax tree representation
  (which can be used with <a href="#to_string/1" class="seealso">to_string/1</a>).</p>
 
  <p>It's important to accurately specify the list of <code>LegalFields</code>
  here, or <code>[]</code> if there are no legitimate fields.</p>
</div></div>
<div class="function">
<h3 id="to_string/1">to_string(Ast) -&gt; binary()</h3>

<ul class="type">
<li><code>Ast = ast()</code></li></ul>
<div class="description">

<p>
  Converts a syntax tree that was previously made by <a href="#parse/2" class="seealso">parse/2</a>
  into a query string that is compatible with
  <url href="http://lucene.apache.org/java/2_0_0/queryparsersyntax.html">
         Apache Lucene's Query Parser Syntax</url>.
  The string (binary actually) which is returned should be safe to
  pass to
  <url href="http://lucene.apache.org/java/docs/index.html">Lucene</url>
  or <url href="http://lucene.apache.org/solr/">Solr</url>.</p>
 
  <p>The query string produced is "safe" in the sense that missing
  parenthesis are added in, all terms and phrases are quoted,
  etc. The only time that Lucene or Solr should have a reason to
  complain (ie explode) is if there is a field query on a non-existant
  field (eg "<code>country:spain</code>" when there is no
  <code>country </code> field). To prevent this from happening, make
  sure you accurately specify the list of legal fields when you call
  <a href="#parse/2" class="seealso">parse/2</a>.</p>
</div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
