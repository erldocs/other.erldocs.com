<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>gen_expire (gencron) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>gen_expire</h1>
<h2 class="modsummary"/>
<div class="description">
</div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-expirespec">expirespec() = {expirespec, Table::atom(), MaxBytesPerBox::integer()}</h3></div>
    <div class="type"><h3 id="type-expirespecv2">expirespecv2() = {expirespecv2, Table::atom(), Limit::limitspec()}</h3></div>
    <div class="type"><h3 id="type-limitspec">limitspec() = {bytes_per_box, MaxBytesPerBox::integer()} | {entries_per_box, MaxEntriesPerBox::integer()}</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="force_run/1">force_run(ServerRef) -&gt; {ok, Pid} | {underway, Pid}</h3>


<div class="description">

<p>Schedule an immediate expiration.  If the process is already
  executing then { underway, Pid } is returned.</p>
</div></div>
<div class="function">
<h3 id="start/2">start(Module, Interval::integer(), Args, Options) -&gt; Result</h3>


<div class="description">

<p>The analog to gen_server:start/3.  Takes an extra argument
  Interval which is the periodic expiration interval in milliseconds.</p>
</div></div>
<div class="function">
<h3 id="start/3">start(ServerName, Module, Interval::integer(), Args, Options) -&gt; Result</h3>


<div class="description">

<p>The analog to gen_server:start/4.  Takes an extra argument
  Interval which is the periodic expiration interval in milliseconds.</p>
</div></div>
<div class="function">
<h3 id="start_link/2">start_link(Module, Interval::integer(), Args, Options) -&gt; Result</h3>


<div class="description">

<p>The analog to gen_server:start_link/3.  Takes an extra argument
  Interval which is the periodic expiration interval in milliseconds.</p>
</div></div>
<div class="function">
<h3 id="start_link/3">start_link(ServerName, Module, Interval::integer(), Args, Options) -&gt; Result</h3>


<div class="description">

<p>The analog to gen_server:start_link/4.  Takes an extra argument
  Interval which is the periodic expiration interval in milliseconds.</p>
</div></div>
<div class="function">
<h3 id="first/1">first(Table::atom(), State::state()) -&gt; {ok, Key::any(), NewState::state()} | {end_of_table, NewState::state()}</h3>


<div class="description">

<p>Retrieve the first key from the table (fragment).  "First" here means
  "in order of desired expiration".</p>
</div></div>
<div class="function">
<h3 id="next/1">next(Table::atom(), Key::any(), State::state()) -&gt; {ok, NextKey::any(), NewState::state()} | {end_of_table, NewState::state()}</h3>


<div class="description">

<p>Retrieve the next key from the table (fragment).  "Next" here means
  "in order of desired expiration".</p>
</div></div>
<div class="function">
<h3 id="delete/1">delete(Table::atom(), Key::any(), State::state()) -&gt; {ok, NewState::state()}</h3>


<div class="description">

<p>Delete the specified key from the table (fragment).</p>
</div></div>
<div class="function">
<h3 id="finish/1">finish(State::state()) -&gt; void</h3>


<div class="description">

<p>Called when gen_expire has finished an expiration run.
  Note that while the state is threaded through
  a complete expiration run, state changes at the end of the expiration
  run are discarded because the expiration occurs in seperate process.
  Therefore this is the opportunity to record any interesting state
  changes, e.g., log statistics.</p>
</div></div>
<div class="function">
<h3 id="init/1">init(Args) -&gt; result()</h3>

<ul class="type">
<li><code>{ok, Tabs::[#expirespecv2{}], State::any()} | {ok, Tabs::[#expirespecv2{}], State::any(), Timeout::integer()} | {stop, Reason::any()} | ignore</code></li></ul>
<div class="description">

<p>Initialization routine.  Like Module:init/1 for gen_server, except
  that a list of #expirespecv2{} is returned to control
  expiration behavior.</p>
</div></div>
<div class="function">
<h3 id="handle_call/3">handle_call(Request, From, State) -&gt; Result</h3>


<div class="description">

<p>Just like the gen_server version.</p>
</div></div>
<div class="function">
<h3 id="handle_cast/2">handle_cast(Request, State) -&gt; Result</h3>


<div class="description">

<p>Just like the gen_server version.</p>
</div></div>
<div class="function">
<h3 id="handle_info/2">handle_info(Msg, State) -&gt; Result</h3>


<div class="description">

<p>Just like the gen_server version.</p>
</div></div>
<div class="function">
<h3 id="code_change/3">code_change(OldVsn, State, Extra) -&gt; Result</h3>


<div class="description">

<p>Just like the gen_server version.</p>
</div></div>
<div class="function">
<h3 id="terminate/2">terminate(Reason::Result, State) -&gt; Result</h3>


<div class="description">

<p>Just like the gen_server version, except that
  if a process is running, we wait for it to terminate
  (prior to calling the module's terminate).</p>
</div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
