<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>etorrent_torrent_ctl (etorrent_core) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>etorrent_torrent_ctl</h1>
<h2 class="modsummary">Torrent Control process.</h2>
<div class="description">
<p>Torrent Control process
  </p><p>This process controls a (single) Torrent Download. It is the
  "first" process started and it checks the torrent for
  correctness. When it has checked the torrent, it will start up the
  rest of the needed processes, attach them to the supervisor and
  then lay dormant for most of the time, until the torrent needs to
  be stopped again.</p>
  <p><em>Note:</em> This module is pretty old,
  and is a prime candidate for some rewriting.</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-bcode">bcode() = <a href="etorrent_types.html#type-bcode" class="seealso">etorrent_types:bcode()</a></h3></div>
    <div class="type"><h3 id="type-file_id">file_id() = <a href="etorrent_types.html#type-file_id" class="seealso">etorrent_types:file_id()</a></h3></div>
    <div class="type"><h3 id="type-peer_id">peer_id() = <a href="etorrent_types.html#type-peer_id" class="seealso">etorrent_types:peer_id()</a></h3></div>
    <div class="type"><h3 id="type-pieceset">pieceset() = <a href="etorrent_pieceset.html#type-t" class="seealso">etorrent_pieceset:t()</a></h3></div>
    <div class="type"><h3 id="type-torrent_id">torrent_id() = <a href="etorrent_types.html#type-torrent_id" class="seealso">etorrent_types:torrent_id()</a></h3></div>
    <div class="type"><h3 id="type-wish">wish() = [<a href="#type-file_id" class="seealso">file_id()</a>] | <a href="#type-file_id" class="seealso">file_id()</a></h3></div>
    <div class="type"><h3 id="type-wish_list">wish_list() = [<a href="#type-wish" class="seealso">wish()</a>]</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="register_server/1">register_server(TorrentID::torrent_id()) -&gt; true</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="lookup_server/1">lookup_server(TorrentID::torrent_id()) -&gt; pid()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="await_server/1">await_server(TorrentID::torrent_id()) -&gt; pid()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="start_link/1">start_link(Id::integer(), X2::{bcode(), string(), binary()}, PeerId::binary(), Options::list()) -&gt; {ok, pid()} | ignore | {error, term()}</h3>


<div class="description">

<p>Start the server process</p>
</div></div>
<div class="function">
<h3 id="check_torrent/1">check_torrent(Pid::pid()) -&gt; ok</h3>


<div class="description">

<p>Request that the given torrent is checked (eventually again)</p>
</div></div>
<div class="function">
<h3 id="completed/1">completed(Pid::pid()) -&gt; ok</h3>


<div class="description">

<p>Tell the controlled the torrent is complete</p>
</div></div>
<div class="function">
<h3 id="pause_torrent/1">pause_torrent(Pid::pid()) -&gt; ok</h3>


<div class="description">

<p>Set the torrent on pause</p>
</div></div>
<div class="function">
<h3 id="continue_torrent/1">continue_torrent(Pid::pid()) -&gt; ok</h3>


<div class="description">

<p>Continue leeching or seeding</p>
</div></div>
<div class="function">
<h3 id="valid_pieces/1">valid_pieces(Pid::pid()) -&gt; {ok, pieceset()}</h3>


<div class="description">

<p>Get the set of valid pieces for this torrent</p>
</div></div>
<div class="function">
<h3 id="unwanted_pieces/1">unwanted_pieces(Pid::pid()) -&gt; {ok, pieceset()}</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="switch_mode/2">switch_mode(Pid, Mode) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_mode/1">get_mode(Pid) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="update_tracker/1">update_tracker(Pid::pid()) -&gt; ok</h3>


<div class="description">

<p>Connect to the tracker immediately.
  The call is async.</p>
</div></div>
<div class="function">
<h3 id="is_partial/1">is_partial(Pid::pid()) -&gt; {ok, boolean()}</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="set_peer_id/1">set_peer_id(Pid::pid(), PeerId::peer_id() | undefined) -&gt; ok</h3>


<div class="description">

<p>Pass <code>undefined</code> as a <code>PeerId</code> to set a default one.</p>
</div></div>
<div class="function">
<h3 id="set_wishes/1">set_wishes(TorrentID::torrent_id(), Wishes::wish_list()) -&gt; {ok, wish_list()}</h3>


<div class="description">

<p>Update wishlist.
       This function returns __minimized__ version of wishlist.</p>
</div></div>
<div class="function">
<h3 id="get_wishes/1">get_wishes(TorrentID::torrent_id()) -&gt; {ok, wish_list()}</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_permanent_wishes/1">get_permanent_wishes(TorrentID) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_unwanted_files/1">get_unwanted_files(TorrentID) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="wish_file/2">wish_file(TorrentId, Wish) -&gt; {ok, wish_list()}</h3>

<ul class="type">
<li><code>TorrentId = torrent_id()</code></li><li><code>Wish = wish()</code></li></ul>
<div class="description">

<p>Add a file at top of wishlist.
       Added file will have highest priority inside this torrent.</p>
</div></div>
<div class="function">
<h3 id="wish_piece/2">wish_piece(TorrentID, PieceID) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="wish_piece/3">wish_piece(TorrentID, PieceID, IsTemporary) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="subscribe/3">subscribe(TorrentID, Type, Value) -&gt; term()
</h3>


<div class="description">

<p>If the wish {Type, Value} will be completed,
       caller will receive {completed, Ref}.
       Use wish_file of wish_piece functions before calling this function.</p>
</div></div>
<div class="function">
<h3 id="skip_file/2">skip_file(TorrentID, FileID) -&gt; {ok, wish_list()}</h3>

<ul class="type">
<li><code>TorrentID = torrent_id()</code></li><li><code>FileID = file_id()</code></li></ul>
<div class="description">

<p>Do not download selected files.</p>
</div></div>
<div class="function">
<h3 id="unskip_file/2">unskip_file(TorrentID, FileID) -&gt; {ok, wish_list()}</h3>

<ul class="type">
<li><code>TorrentID = torrent_id()</code></li><li><code>FileID = file_id()</code></li></ul>
<div class="description">
 </div></div>
<div class="function">
<h3 id="waiting/2">waiting(X1, State) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="checking/2">checking(X1, State) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="paused/2">paused(X1, S) -&gt; term()
</h3>


<div class="description">
 </div></div></div>

<authors>

<aname>Jesper Louis Andersen</aname>
<email>jesper.louis.andersen@gmail.com</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
