<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>evc_riak (evc) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>evc_riak</h1>
<h2 class="modsummary">A simple Erlang implementation of vector clocks as inspired by Lamport logical clocks.</h2>
<div class="description">
<p>A simple Erlang implementation of vector clocks as inspired by Lamport logical clocks.
 </p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-counter">counter() = integer()</h3></div>
    <div class="type"><h3 id="type-evc">evc() = {[<a href="#type-pure_dot" class="seealso">pure_dot()</a>], <a href="#type-timestamp" class="seealso">timestamp()</a>}</h3></div>
    <div class="type"><h3 id="type-evc_node">evc_node() = term()</h3></div>
    <div class="type"><h3 id="type-pure_dot">pure_dot() = {<a href="#type-evc_node" class="seealso">evc_node()</a>, <a href="#type-counter" class="seealso">counter()</a>}</h3></div>
    <div class="type"><h3 id="type-timestamp">timestamp() = integer()</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="new/0">new() -&gt; evc()</h3>


<div class="description">

<p>Create a brand new evc.</p>
</div></div>
<div class="function">
<h3 id="new/1">new(Node) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="descends/1">descends(Va::evc(), Vb::evc()) -&gt; boolean()</h3>


<div class="description">

<p>Return true if Va is a direct descendant of Vb, else false -- remember, a evc is its own descendant!</p>
</div></div>
<div class="function">
<h3 id="dominates/1">dominates(A::evc(), B::evc()) -&gt; boolean()</h3>


<div class="description">

<p>true if <code>A</code> strictly dominates <code>B</code>. Note: ignores
  timestamps. In Riak it is possible to have evcs that are
  identical except for timestamps. When two evcs descend each
  other, but are not equal, they are concurrent. See source comment
  for more details. (Actually you can have indentical clocks
  including timestamps, that represent different events, but let's
  not go there.)
 </p>
</div></div>
<div class="function">
<h3 id="merge/1">merge(Va::evc(), Vb::evc()) -&gt; evc()</h3>


<div class="description">

<p>Merge 2 VClocks, recalculating the mean timestamp.</p>
</div></div>
<div class="function">
<h3 id="merge_list/1">merge_list(VClocks::[[pure_dot()]]) -&gt; [pure_dot()]</h3>


<div class="description">

<p>Combine all VClocks in the input list into their least possible
      common descendant.</p>
</div></div>
<div class="function">
<h3 id="get_counter/1">get_counter(Node::evc_node(), VClock::evc()) -&gt; counter()</h3>


<div class="description">

<p>Get the counter value in VClock set from Node.</p>
</div></div>
<div class="function">
<h3 id="get_dot/1">get_dot(Node::evc_node(), VClock::evc()) -&gt; {ok, pure_dot()} | undefined</h3>


<div class="description">

<p>Get the entry <code>dot()</code> for <code>evc_node()</code> from <code>evc()</code>.</p>
</div></div>
<div class="function">
<h3 id="valid_dot/1">valid_dot(X1::pure_dot()) -&gt; boolean()</h3>


<div class="description">

<p>is the given argument a valid dot, or entry?</p>
</div></div>
<div class="function">
<h3 id="event/1">event(Node::evc_node(), VClock::evc()) -&gt; evc()</h3>


<div class="description">

<p>Increment VClock at Node.</p>
</div></div>
<div class="function">
<h3 id="event/1-1">event(Node::evc_node(), IncTs::timestamp(), VClock::evc()) -&gt; evc()</h3>


<div class="description">

<p>Increment VClock at Node.</p>
</div></div>
<div class="function">
<h3 id="get_nodes/1">get_nodes(VClock::evc()) -&gt; [evc_node()]</h3>


<div class="description">

<p>Return the list of all nodes that have ever evented VClock.</p>
</div></div>
<div class="function">
<h3 id="timestamp/0">timestamp() -&gt; timestamp()</h3>


<div class="description">

<p>Return a timestamp for a vector clock</p>
</div></div>
<div class="function">
<h3 id="equal/1">equal(VClockA::evc(), VClockB::evc()) -&gt; boolean()</h3>


<div class="description">

<p>Compares two VClocks for equality.</p>
</div></div>
<div class="function">
<h3 id="prune/1">prune(V::evc(), Now::integer(), BucketProps::term()) -&gt; evc()</h3>


<div class="description">

<p>Possibly shrink the size of a evc, depending on current age and size.</p>
</div></div>
<div class="function">
<h3 id="event/1-2">event(VClock::evc()) -&gt; evc()</h3>


<div class="description">

<p>Increment VClock at current node.</p>
</div></div>
<div class="function">
<h3 id="get_mean_timestamp/1">get_mean_timestamp(VClock::evc()) -&gt; timestamp()</h3>


<div class="description">

<p>Get the mean timestamp of a vector clock.</p>
</div></div>
<div class="function">
<h3 id="compare/2">compare(Va, Vb) -&gt; term()
</h3>


<div class="description">

<p>Returns true if Va is less than or equal to Vb, else false</p>
</div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
