<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>wpool (scalaris_old) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>wpool</h1>
<h2 class="modsummary">worker pool implementation.</h2>
<div class="description">
<p>worker pool implementation.
       This gen_component handles arbitrary workloads for other processes. It
       can be send a do_work message with a job specification and will return
       the results of the computation or an error.
       Jobs will run concurrently in seperate processes. The maximum number of
       concurrent jobs must be configured via the wpool_maxw setting in
       scalaris.[local.]config.
       when the maximum number of jobs is reached new jobs are queued and run
       as soon as a running job finishes.
 </p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-active_jobs">active_jobs() = [{pid(), <a href="comm.html#type-mypid" class="seealso">comm:mypid()</a>}]</h3></div>
    <div class="type"><h3 id="type-generic_job">generic_job() = {erlanon | jsanon, binary(), [tuple()]}</h3></div>
    <div class="type"><h3 id="type-job">job() = <a href="#type-mr_job" class="seealso">mr_job()</a> | <a href="#type-generic_job" class="seealso">generic_job()</a></h3></div>
    <div class="type"><h3 id="type-message">message() = {do_work, Source :: <a href="comm.html#type-mypid" class="seealso">comm:mypid()</a>, <a href="#type-job" class="seealso">job()</a>}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| {'DOWN',<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reference(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Info :: any()}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| {data, pid(), [tuple()]}</h3></div>
    <div class="type"><h3 id="type-mr_job">mr_job() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{Round :: integer() >= 1,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map | reduce,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{erlanon | jsanon, binary()},<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Data :: [tuple()]}</h3></div>
    <div class="type"><h3 id="type-state">state() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{MaxWorkers :: integer() >= 1, <a href="#type-active_jobs" class="seealso">active_jobs()</a>, <a href="#type-waiting_jobs" class="seealso">waiting_jobs()</a>}</h3></div>
    <div class="type"><h3 id="type-waiting_jobs">waiting_jobs() = [{<a href="comm.html#type-mypid" class="seealso">comm:mypid()</a>, <a href="#type-job" class="seealso">job()</a>}]</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="init/1">init(X1::[]) -&gt; state()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="start_link/1">start_link(DHTNodeGroup::groupname() (see module pid_groups), Options::tuple()) -&gt; {ok, pid()}</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="on/1">on(Msg::message(), State::state()) -&gt; state()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="init_worker/1">init_worker(DHTNodeGroup::groupname() (see module pid_groups), Workload::job()) -&gt; {ok, pid()}</h3>


<div class="description">

<p>initialize the worker.</p>
</div></div>
<div class="function">
<h3 id="work/1">work(DHTNodeGroup::groupname() (see module pid_groups), X2::job()) -&gt; ok</h3>


<div class="description">

<p>do the actual work.
       executes Job and returns results to the local wpool. wpool associates
       the worker pid to the jobs client and knows where the results go.</p>
</div></div></div>

<authors>

<aname>Jan Fajerski</aname>
<email>fajerski@zib.de</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
