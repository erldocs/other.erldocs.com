<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>armory (erlang_wowarmory) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>armory</h1>
<h2 class="modsummary">Provides access to the World of Warcraft Armory.</h2>
<div class="description">
<p>Provides access to the World of Warcraft Armory.</p></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="start/0">start() -&gt; {error, any()} | {ok, pid()}</h3>


<div class="description">

<p>Starts an armory process that calls are made to.</p>
</div></div>
<div class="function">
<h3 id="fetchloop/0">fetchloop() -&gt; infinate</h3>


<div class="description">

<p>The loop that dequeues items in the fetch queue and processes them.</p>
</div></div>
<div class="function">
<h3 id="process_character/4">process_character(FromPid, X2::{RealmClass, Realm, Name}) -&gt; ok</h3>

<ul class="type">
<li><code>FromPid = pid()</code></li><li><code>RealmClass = string()</code></li><li><code>Realm = string()</code></li><li><code>Name = string()</code></li></ul>
<div class="description">

<p>Fetch a character from the armory and process the response.</p>
</div></div>
<div class="function">
<h3 id="process_character_achievements/2">process_character_achievements(FromPid, X2) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="process_achievement_summary/4">process_achievement_summary(FromPid, X2::{RealmClass, Realm, Name}) -&gt; ok</h3>

<ul class="type">
<li><code>FromPid = pid()</code></li><li><code>RealmClass = string()</code></li><li><code>Realm = string()</code></li><li><code>Name = string()</code></li></ul>
<div class="description">

<p>Fetch and process a character's achievement summary from the armory.</p>
</div></div>
<div class="function">
<h3 id="parse_character/1">parse_character(XmlBody) -&gt; Result</h3>

<ul class="type">
<li><code>XmlBody = string()</code></li><li><code>Result = {ok, [any()]} | {error, atom()}</code></li></ul>
<div class="description">

<p>Parse a chunk of xml that supposedly represents a character.</p>
</div></div>
<div class="function">
<h3 id="parse_character_gear/1">parse_character_gear(Xml) -&gt; Result</h3>

<ul class="type">
<li><code>Xml = any()</code></li><li><code>Result = [Gear]</code></li><li><code>Gear = {string(), string()}</code></li></ul>
<div class="description">

<p>Parse any character gear records available.</p>
</div></div>
<div class="function">
<h3 id="parse_character_skills/1">parse_character_skills(Xml) -&gt; Result</h3>

<ul class="type">
<li><code>Xml = any()</code></li><li><code>Result = [Skill]</code></li><li><code>Skill = {string(), string()}</code></li></ul>
<div class="description">

<p>Parse any character skills available.</p>
</div></div>
<div class="function">
<h3 id="process_guild/4">process_guild(FromPid, X2::{RealmClass, Realm, Name}) -&gt; ok</h3>

<ul class="type">
<li><code>FromPid = pid()</code></li><li><code>RealmClass = string()</code></li><li><code>Realm = string()</code></li><li><code>Name = string()</code></li></ul>
<div class="description">

<p>Fetch a given guild from the armory and process the response.</p>
</div></div>
<div class="function">
<h3 id="parse_guild/1">parse_guild(XmlBody) -&gt; Result</h3>

<ul class="type">
<li><code>XmlBody = string()</code></li><li><code>Result = {ok, [any()]} | {error, atom()}</code></li></ul>
<div class="description">

<p>Parse a chunk of xml that supposedly represents a character. The
  caveat here is that the only information that is publicaly avaiable on a
  guild page is its member list.</p>
</div></div>
<div class="function">
<h3 id="parse_guild_members/1">parse_guild_members(Xml) -&gt; Result</h3>

<ul class="type">
<li><code>Xml = any()</code></li><li><code>Result = [Skill]</code></li><li><code>Skill = {string(), string()}</code></li></ul>
<div class="description">

<p>Parse any character skills available.</p>
</div></div>
<div class="function">
<h3 id="armory_fetch/1">armory_fetch(FetchData) -&gt; Result</h3>

<ul class="type">
<li><code>FetchData = {FetchType, RealmClass, Realm, Name}</code></li><li><code>RealmClass = string()</code></li><li><code>Realm = string()</code></li><li><code>RealmClass = string()</code></li><li><code>Name = character | guild</code></li><li><code>Result = {error, any()} | {ok, string()}</code></li></ul>
<div class="description">
 </div></div>
<div class="function">
<h3 id="queue/1">queue(Item) -&gt; Result</h3>

<ul class="type">
<li><code>Item = any()</code></li><li><code>Result = {ok, pid()}</code></li></ul>
<div class="description">

<p>Adds an item to the queue and waits for the item to finish processing.
  This function will wait indefinitely for the response to come.</p>
</div></div>
<div class="function">
<h3 id="queue/2">queue(Item, Fun) -&gt; Result</h3>

<ul class="type">
<li><code>Item = {Type, {RealmClass, Realm, Name}}</code></li><li><code>Type = character | guild</code></li><li><code>RealmClass = string()</code></li><li><code>Realm = string()</code></li><li><code>Name = string()</code></li><li><code>Fun = function()</code></li><li><code>Result = {ok, pid()}</code></li></ul>
<div class="description">

<p>Adds an item to the queue to be processed and the reponse passed to
  the callback function.</p>
</div></div>
<div class="function">
<h3 id="queuew/2">queuew(Item, Fun) -&gt; Result</h3>

<ul class="type">
<li><code>Item = {Type, {RealmClass, Realm, Name}}</code></li><li><code>Type = character | guild</code></li><li><code>RealmClass = string()</code></li><li><code>Realm = string()</code></li><li><code>Name = string()</code></li><li><code>Fun = function()</code></li><li><code>Result = {ok, pid()}</code></li></ul>
<div class="description">

<p>Waits for an item sent to the queue to be processed by a given
  callback function.</p>
</div></div>
<div class="function">
<h3 id="info/0">info() -&gt; any()</h3>


<div class="description">

<p>Returns the state used by the armory queue.</p>
 
  <p>This function is useful for debugging the armory server process. It will
  return the full state including the fetchloop process and queue as is.</p>
</div></div>
<div class="function">
<h3 id="dequeue/0">dequeue() -&gt; any()</h3>


<div class="description">

<p>Pops an item off of the list and returns it. This function should
  almost never be used directly as it is used by the internal fetchloop
  process. It can be used as a simple way to remove all items off of the
  queue without trying to set its state manually.</p>
</div></div>
<div class="function">
<h3 id="queue_length/0">queue_length() -&gt; integer()</h3>


<div class="description">

<p>Returns the total number of items in all armory queues.</p>
</div></div>
<div class="function">
<h3 id="csr/3">csr(A, B, C) -&gt; item()</h3>

<ul class="type">
<li><code>A = string() | binary()</code></li><li><code>B = string() | binary()</code></li><li><code>C = string() | binary()</code></li></ul>
<div class="description">
 </div></div></div>

<authors>

<aname>Nick Gerakines</aname>
<email>nick@gerakines.net</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
