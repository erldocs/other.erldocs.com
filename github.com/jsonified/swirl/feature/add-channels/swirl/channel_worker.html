<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>channel_worker (swirl) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>channel_worker</h1>
<h2 class="modsummary">A managed PPSPP Channel that represents a remote PPSPP Peer.</h2>
<div class="description">
<p>A managed PPSPP Channel that represents a remote PPSPP Peer.</p>
 
  <p>The state for a specific channel includes the associated remote peer,
  the swarm, and the channel itself. Within swirl, these three are bound
  together as a unique value, and the channel ID as the key. The
  <code>channel_worker</code> provides registration and lookups to allow a given
  <code>peer_worker</code> to route messages for a specific remote peer to it, given
  only the correct <code>channel_id</code>. This functionality is used extensively
  by other modules to decode, process, encode, and send PPSPP datagrams
  over the wire.</p></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="start_link/1">start_link(Peer::endpoint() (see module ppspp_datagram), Swarm_id::swarm_id() (see module ppspp_options)) -&gt; ignore | {error, term()} | {ok, pid()}</h3>


<div class="description">

<p>Start the channel using provided peer info (typically the udp endpoint)
  for channel 0, i.e. the initial handshake contact from a remote peer. We
  effectively block any re-registration by registering this name, until the
  first received registration completes successfully.</p>
</div></div>
<div class="function">
<h3 id="stop/1">stop(Channel::channel() (see module ppspp_channel)) -&gt; ok | {error, any()}</h3>


<div class="description">

<p>Stops the server, given a channel.</p>
</div></div>
<div class="function">
<h3 id="init/1">init(Swarm_id::swarm_id() (see module ppspp_options)) -&gt; {ok, channel() (see module ppspp_channel)}</h3>


<div class="description">

<p>As the channel id is not known at time of process spawning, it is
  done during init phase, using gproc. The following values are registered:
  </p><pre lang="erlang">
  {{peer, Peer URI}, Peer}
  {{channel, Channel id}, Swarm ID}
  </pre><p>
  Peer is the opaque data type used in the datagram module that uniquely
  identifies a remote peer.
  TODO change registration of peers to allow multiplexed peers per remote
  address, and therefore multiple swarms on the same IP.
  TODO enable updating the registration of the URI to match the acquired
  channel that will accommodate all future datagrams from this peer.</p>
</div></div>
<div class="function">
<h3 id="handle_call/3">handle_call(Request, From, State) -&gt; term()
</h3>


<div class="description">

<p>Default <code>gen_server</code> API.</p>
</div></div>
<div class="function">
<h3 id="handle_cast/2">handle_cast(Msg, State) -&gt; term()
</h3>


<div class="description">

<p>Default <code>gen_server</code> API.</p>
</div></div>
<div class="function">
<h3 id="handle_info/2">handle_info(Info, State) -&gt; term()
</h3>


<div class="description">

<p>Default <code>gen_server</code> API.</p>
</div></div>
<div class="function">
<h3 id="terminate/2">terminate(Reason, State) -&gt; term()
</h3>


<div class="description">

<p>Default <code>gen_server</code> API.</p>
</div></div>
<div class="function">
<h3 id="code_change/3">code_change(OldVsn, State, Extra) -&gt; term()
</h3>


<div class="description">

<p>Default <code>gen_server</code> API.</p>
</div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
