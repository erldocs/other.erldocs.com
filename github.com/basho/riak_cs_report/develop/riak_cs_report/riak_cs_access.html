<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>riak_cs_access (riak_cs_report) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>riak_cs_access</h1>
<h2 class="modsummary">Data format and lookup utilities for access logs (I/O usage
  stats).</h2>
<div class="description">
<p>Data format and lookup utilities for access logs (I/O usage
  stats).</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-slice">slice() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{Start :: <a href="calendar.html#type-datetime" class="seealso">calendar:datetime()</a>, End :: <a href="calendar.html#type-datetime" class="seealso">calendar:datetime()</a>}</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="archive_period/0">archive_period() -&gt; {ok, integer()} | {error, term()}</h3>


<div class="description">

<p>Retrieve the number of seconds that should elapse between
  archivings of access stats.  This setting is controlled by the
  <code>access_archive_period</code> environment variable of the <code>riak_cs</code>
  application.</p>
</div></div>
<div class="function">
<h3 id="log_flush_interval/0">log_flush_interval() -&gt; {ok, integer()} | {error, term()}</h3>


<div class="description">

<p>Retrieve the number of seconds that should elapse between
  flushes of access stats.  This setting is controlled by the
  <code>access_log_flush_interval</code> environment variable of the <code>riak_cs</code>
  application.</p>
</div></div>
<div class="function">
<h3 id="max_flush_size/0">max_flush_size() -&gt; {ok, integer()} | {error, term()}</h3>


<div class="description">

<p>Retrieve the maximum number of records that should be added to
  the log before the log is automatically archived.  This setting is
  controlled by the <code>access_log_flush_size</code> environment variable of
  the <code>riak_cs</code> application.</p>
</div></div>
<div class="function">
<h3 id="make_object/1">make_object(User::iodata(), Accesses::[[{atom() | binary(), number()}]], X3::slice()) -&gt; riakc_obj() (see module riakc_obj)</h3>


<div class="description">

<p>Create a Riak object for storing a user/slice's access data.
  The list of stats (<code>Accesses</code>) must contain a list of proplists.
  The keys of the proplist must be either atoms or binaries, to be
  encoded as JSON keys.  The values of the proplists must be numbers,
  as the values for each key will be summed in the stored object.</p>
</div></div>
<div class="function">
<h3 id="get_usage/1">get_usage(Riak::pid(), User::term(), Start::datetime() (see module calendar), End::datetime() (see module calendar)) -&gt; {Usage::orddict() (see module orddict), Errors::[{slice(), term()}]}</h3>


<div class="description">

<p>Produce a usage compilation for the given <code>User</code> between
  <code>Start</code> and <code>End</code> times, inclusive.  The result is an orddict in
  which the keys are Riak CS node names.  The value for each key is a
  list of samples.  Each sample is an orddict full of metrics.</p>
</div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
