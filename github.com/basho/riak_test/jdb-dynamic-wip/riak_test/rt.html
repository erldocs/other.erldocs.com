<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>rt (riak_test) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>rt</h1>
<h2 class="modsummary">
  Implements the base riak_test API, providing the ability to control
  nodes in a Riak cluster as well as perform commonly reused operations.</h2>
<div class="description">
<p>
  Implements the base <code>riak_test</code> API, providing the ability to control
  nodes in a Riak cluster as well as perform commonly reused operations.
  Please extend this module with new functions that prove useful between
  multiple independent tests.</p></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="deploy_nodes/1">deploy_nodes(NumNodes::integer()) -&gt; [node()]</h3>


<div class="description">

<p>Deploy a set of freshly installed Riak nodes, returning a list of the
       nodes deployed.</p>
</div></div>
<div class="function">
<h3 id="start/1">start(Node) -&gt; term()
</h3>


<div class="description">

<p>Start the specified Riak node</p>
</div></div>
<div class="function">
<h3 id="stop/1">stop(Node) -&gt; term()
</h3>


<div class="description">

<p>Stop the specified Riak node</p>
</div></div>
<div class="function">
<h3 id="join/2">join(Node, PNode) -&gt; term()
</h3>


<div class="description">

<p>Have <code>Node</code> send a join request to <code>PNode</code></p>
</div></div>
<div class="function">
<h3 id="leave/1">leave(Node) -&gt; term()
</h3>


<div class="description">

<p>Have the specified node leave the cluster</p>
</div></div>
<div class="function">
<h3 id="remove/2">remove(Node, OtherNode) -&gt; term()
</h3>


<div class="description">

<p>Have <code>Node</code> remove <code>OtherNode</code> from the cluster</p>
</div></div>
<div class="function">
<h3 id="down/2">down(Node, OtherNode) -&gt; term()
</h3>


<div class="description">

<p>Have <code>Node</code> mark <code>OtherNode</code> as down</p>
</div></div>
<div class="function">
<h3 id="check_singleton_node/1">check_singleton_node(Node) -&gt; term()
</h3>


<div class="description">

<p>Ensure that the specified node is a singleton node/cluster -- a node
       that owns 100% of the ring.</p>
</div></div>
<div class="function">
<h3 id="wait_until_ready/1">wait_until_ready(Node) -&gt; term()
</h3>


<div class="description">

<p>Wait until the specified node is considered ready by <code>riak_core</code>.
       As of Riak 1.0, a node is ready if it is in the <code>valid</code> or <code>leaving</code>
       states. A ready node is guaranteed to have current preflist/ownership
       information.</p>
</div></div>
<div class="function">
<h3 id="wait_until_no_pending_changes/1">wait_until_no_pending_changes(Nodes::[node()]) -&gt; ok | fail</h3>


<div class="description">

<p>Given a list of nodes, wait until all nodes believe there are no
  on-going or pending ownership transfers.</p>
</div></div>
<div class="function">
<h3 id="owners_according_to/1">owners_according_to(Node) -&gt; term()
</h3>


<div class="description">

<p>Return a list of nodes that own partitions according to the ring
       retrieved from the specified node.</p>
</div></div>
<div class="function">
<h3 id="members_according_to/1">members_according_to(Node) -&gt; term()
</h3>


<div class="description">

<p>Return a list of cluster members according to the ring retrieved from
       the specified node.</p>
</div></div>
<div class="function">
<h3 id="status_of_according_to/2">status_of_according_to(Member, Node) -&gt; term()
</h3>


<div class="description">

<p>Return the cluster status of <code>Member</code> according to the ring
       retrieved from <code>Node</code>.</p>
</div></div>
<div class="function">
<h3 id="claimant_according_to/1">claimant_according_to(Node) -&gt; term()
</h3>


<div class="description">

<p>Return a list of nodes that own partitions according to the ring
       retrieved from the specified node.</p>
</div></div>
<div class="function">
<h3 id="wait_until_nodes_ready/1">wait_until_nodes_ready(Nodes) -&gt; term()
</h3>


<div class="description">

<p>Given a list of nodes, wait until all nodes are considered ready.
       See <a href="#wait_until_ready/1" class="seealso">wait_until_ready/1</a> for definition of ready.</p>
</div></div>
<div class="function">
<h3 id="wait_until_all_members/1">wait_until_all_members(Nodes) -&gt; term()
</h3>


<div class="description">

<p>Wait until all nodes in the list <code>Nodes</code> believe each other to be
       members of the cluster.</p>
</div></div>
<div class="function">
<h3 id="wait_until_all_members/2">wait_until_all_members(Nodes, Members) -&gt; term()
</h3>


<div class="description">

<p>Wait until all nodes in the list <code>Nodes</code> believes all nodes in the
       list <code>Members</code> are members of the cluster.</p>
</div></div>
<div class="function">
<h3 id="wait_until_ring_converged/1">wait_until_ring_converged(Nodes) -&gt; term()
</h3>


<div class="description">

<p>Given a list of nodes, wait until all nodes believe the ring has
       converged (ie. <code>riak_core_ring:is_ready</code> returns <code>true</code>).</p>
</div></div>
<div class="function">
<h3 id="wait_until_pingable/1">wait_until_pingable(Node) -&gt; term()
</h3>


<div class="description">

<p>Wait until the specified node is pingable</p>
</div></div>
<div class="function">
<h3 id="wait_until_unpingable/1">wait_until_unpingable(Node) -&gt; term()
</h3>


<div class="description">

<p>Wait until the specified node is no longer pingable</p>
</div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
