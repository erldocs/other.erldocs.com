<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>riak_cs_storage (riak_cs) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>riak_cs_storage</h1>
<h2 class="modsummary">Tools for summing the storage a user has filled.</h2>
<div class="description">
<p>Tools for summing the storage a user has filled.</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-riak_client">riak_client() = pid()</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="sum_user/1">sum_user(RcPid::riak_client(), User::string(), Detailed::boolean(), LeewayEdge::timestamp() (see module erlang)) -&gt; {ok, [{string(), integer()}]} | {error, term()}</h3>


<div class="description">

<p>Sum the number of bytes stored in active files in all of the
  given user's directories.  The result is a list of pairs of
  <code>{BucketName, Bytes}</code>.</p>
</div></div>
<div class="function">
<h3 id="sum_bucket/1">sum_bucket(BucketName::binary(), Detailed::boolean(), LeewayEdge::timestamp() (see module erlang)) -&gt; {struct, [{binary(), integer()}]} | {error, term()}</h3>


<div class="description">

<p>Calculate summary for the bucket.</p>
 
  <p>Basic calculation includes the count and the number of total bytes   
for available files in the named bucket. Detailed one adds some   
more summary information for the bucket.  This assumes that the   
bucket exists; there will be no difference in output between a   
non-existent bucket and an empty one.</p>
 
  <p>The result is a mochijson structure with two fields: <code>Objects</code>,
  which is the number of objects that were counted in the bucket, and
  <code>Bytes</code>, which is the total size of all of those objects.  More
  fields are included for detailed calculation.</p>
</div></div>
<div class="function">
<h3 id="object_size_map/3">object_size_map(Obj, KD, Args) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="object_size_reduce/2">object_size_reduce(Values, Args) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="archive_period/0">archive_period() -&gt; {ok, integer()} | {error, term()}</h3>


<div class="description">

<p>Retreive the number of seconds that should elapse between
  archivings of storage stats.  This setting is controlled by the
  <code>storage_archive_period</code> environment variable of the <code>riak_cs</code>
  application.</p>
</div></div>
<div class="function">
<h3 id="make_object/4">make_object(User, BucketList, SampleStart, SampleEnd) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_usage/1">get_usage(RcPid::riak_client(), User::string(), AdminAccess::boolean(), Start::datetime() (see module calendar), End::datetime() (see module calendar)) -&gt; {list(), list()}</h3>


<div class="description">
 </div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
