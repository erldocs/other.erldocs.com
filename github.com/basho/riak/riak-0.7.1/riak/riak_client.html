<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>riak_client (riak) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>riak_client</h1>
<h2 class="modsummary">The client object used for all access into the riak system.</h2>
<div class="description">
<p>The client object used for all access into the riak system.</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-riak_client">riak_client() = term()</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="mapred/1">mapred(Inputs::list(), Query::[mapred_queryterm() (see module riak_mapreduce_fsm)]) -&gt; {ok, mapred_result() (see module riak_mapreduce_fsm)} | {error, {bad_qterm, mapred_queryterm() (see module riak_mapreduce_fsm)}} | {error, timeout} | {error, Err::term()}</h3>


<div class="description">

<p>Perform a map/reduce job across the cluster.
       See the map/reduce documentation for explanation of behavior.</p>
</div></div>
<div class="function">
<h3 id="mapred/1-1">mapred(Inputs::list(), Query::[mapred_queryterm() (see module riak_mapreduce_fsm)], TimeoutMillisecs::integer() | infinity) -&gt; {ok, mapred_result() (see module riak_mapreduce_fsm)} | {error, {bad_qterm, mapred_queryterm() (see module riak_mapreduce_fsm)}} | {error, timeout} | {error, Err::term()}</h3>


<div class="description">

<p>Perform a map/reduce job across the cluster.
       See the map/reduce documentation for explanation of behavior.</p>
</div></div>
<div class="function">
<h3 id="mapred_stream/1">mapred_stream(Query::[mapred_queryterm() (see module riak_mapreduce_fsm)], ClientPid::pid()) -&gt; {ok, {ReqId::term(), MR_FSM_PID::pid()}} | {error, {bad_qterm, mapred_queryterm() (see module riak_mapreduce_fsm)}} | {error, Err::term()}</h3>


<div class="description">

<p>Perform a streaming map/reduce job across the cluster.
       See the map/reduce documentation for explanation of behavior.</p>
</div></div>
<div class="function">
<h3 id="mapred_stream/1-1">mapred_stream(Query::[mapred_queryterm() (see module riak_mapreduce_fsm)], ClientPid::pid(), TimeoutMillisecs::integer() | infinity) -&gt; {ok, {ReqId::term(), MR_FSM_PID::pid()}} | {error, {bad_qterm, mapred_queryterm() (see module riak_mapreduce_fsm)}} | {error, Err::term()}</h3>


<div class="description">

<p>Perform a streaming map/reduce job across the cluster.
       See the map/reduce documentation for explanation of behavior.</p>
</div></div>
<div class="function">
<h3 id="mapred_bucket_stream/3">mapred_bucket_stream(Bucket, Query, ClientPid) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="mapred_bucket_stream/4">mapred_bucket_stream(Bucket, Query, ClientPid, Timeout) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="mapred_bucket_stream/5">mapred_bucket_stream(Bucket, Query, ClientPid, Timeout, ErrorTolerance) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="mapred_bucket/2">mapred_bucket(Bucket, Query) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="mapred_bucket/3">mapred_bucket(Bucket, Query, Timeout) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="mapred_bucket/4">mapred_bucket(Bucket, Query, Timeout, ErrorTolerance) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get/1">get(Bucket::bucket() (see module riak_object), Key::key() (see module riak_object), R::integer()) -&gt; {ok, riak_object() (see module riak_object)} | {error, notfound} | {error, timeout} | {error, Err::term()}</h3>


<div class="description">

<p>Fetch the object at Bucket/Key.  Return a value as soon as R
       nodes have responded with a value or error.</p>
</div></div>
<div class="function">
<h3 id="get/1-1">get(Bucket::bucket() (see module riak_object), Key::key() (see module riak_object), R::integer(), TimeoutMillisecs::integer()) -&gt; {ok, riak_object() (see module riak_object)} | {error, notfound} | {error, timeout} | {error, Err::term()}</h3>


<div class="description">

<p>Fetch the object at Bucket/Key.  Return a value as soon as R
       nodes have responded with a value or error, or TimeoutMillisecs passes.</p>
</div></div>
<div class="function">
<h3 id="put/1">put(RObj::riak_object() (see module riak_object), W::integer()) -&gt; ok | {error, too_many_fails} | {error, timeout}</h3>


<div class="description">

<p>Store RObj in the cluster.
       Return as soon as at least W nodes have received the request.</p>
</div></div>
<div class="function">
<h3 id="put/1-1">put(RObj::riak_object() (see module riak_object), W::integer(), RW::integer()) -&gt; ok | {error, too_many_fails} | {error, timeout}</h3>


<div class="description">

<p>Store RObj in the cluster.
       Return as soon as at least W nodes have received the request, and
       at least DW nodes have stored it in their storage backend.</p>
</div></div>
<div class="function">
<h3 id="put/1-2">put(RObj::riak_object() (see module riak_object), W::integer(), RW::integer(), TimeoutMillisecs::integer()) -&gt; ok | {error, too_many_fails} | {error, timeout}</h3>


<div class="description">

<p>Store RObj in the cluster.
       Return as soon as at least W nodes have received the request, and
       at least DW nodes have stored it in their storage backend, or
       TimeoutMillisecs passes.</p>
</div></div>
<div class="function">
<h3 id="delete/1">delete(Bucket::bucket() (see module riak_object), Key::key() (see module riak_object), RW::integer()) -&gt; ok | {error, too_many_fails} | {error, notfound} | {error, timeout} | {error, Err::term()}</h3>


<div class="description">

<p>Delete the object at Bucket/Key.  Return a value as soon as RW
       nodes have responded with a value or error.</p>
</div></div>
<div class="function">
<h3 id="delete/1-1">delete(Bucket::bucket() (see module riak_object), Key::key() (see module riak_object), RW::integer(), TimeoutMillisecs::integer()) -&gt; ok | {error, too_many_fails} | {error, notfound} | {error, timeout} | {error, Err::term()}</h3>


<div class="description">

<p>Delete the object at Bucket/Key.  Return a value as soon as RW
       nodes have responded with a value or error, or TimeoutMillisecs passes.</p>
</div></div>
<div class="function">
<h3 id="list_keys/1">list_keys(Bucket::bucket() (see module riak_object)) -&gt; {ok, [Key::key() (see module riak_object)]} | {error, timeout} | {error, Err::term()}</h3>


<div class="description">

<p>List the keys known to be present in Bucket.
       Key lists are updated asynchronously, so this may be slightly
       out of date if called immediately after a put or delete.</p>
</div></div>
<div class="function">
<h3 id="list_keys/1-1">list_keys(Bucket::bucket() (see module riak_object), TimeoutMillisecs::integer()) -&gt; {ok, [Key::key() (see module riak_object)]} | {error, timeout} | {error, Err::term()}</h3>


<div class="description">

<p>List the keys known to be present in Bucket.
       Key lists are updated asynchronously, so this may be slightly
       out of date if called immediately after a put or delete.</p>
</div></div>
<div class="function">
<h3 id="list_keys/3">list_keys(Bucket, Timeout, ErrorTolerance) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="stream_list_keys/1">stream_list_keys(Bucket) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="stream_list_keys/2">stream_list_keys(Bucket, Timeout) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="stream_list_keys/3">stream_list_keys(Bucket, Timeout, ErrorTolerance) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="stream_list_keys/4">stream_list_keys(Bucket, Timeout, ErrorTolerance, Client) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="stream_list_keys/1-1">stream_list_keys(Bucket::bucket() (see module riak_object), TimeoutMillisecs::integer(), ErrorTolerance::float(), Client::pid(), ClientType::atom()) -&gt; {ok, ReqId::term()}</h3>


<div class="description">

<p>List the keys known to be present in Bucket.
       Key lists are updated asynchronously, so this may be slightly
       out of date if called immediately after a put or delete.
       The list will not be returned directly, but will be sent
       to Client in a sequence of {ReqId, {keys,Keys}} messages
       and a final {ReqId, done} message.
       None of the Keys lists will be larger than the number of
       keys in Bucket on any single vnode.
       If ClientType is set to 'mapred' instead of 'plain', then the
       messages will be sent in the form of a MR input stream.</p>
</div></div>
<div class="function">
<h3 id="filter_keys/1">filter_keys(Bucket::bucket() (see module riak_object), Fun::function()) -&gt; {ok, [Key::key() (see module riak_object)]} | {error, timeout} | {error, Err::term()}</h3>


<div class="description">

<p>List the keys known to be present in Bucket,
       filtered at the vnode according to Fun, via lists:filter.
       Key lists are updated asynchronously, so this may be slightly
       out of date if called immediately after a put or delete.</p>
</div></div>
<div class="function">
<h3 id="filter_keys/1-1">filter_keys(Bucket::bucket() (see module riak_object), Fun::function(), TimeoutMillisecs::integer()) -&gt; {ok, [Key::key() (see module riak_object)]} | {error, timeout} | {error, Err::term()}</h3>


<div class="description">

<p>List the keys known to be present in Bucket,
       filtered at the vnode according to Fun, via lists:filter.
       Key lists are updated asynchronously, so this may be slightly
       out of date if called immediately after a put or delete.</p>
</div></div>
<div class="function">
<h3 id="list_buckets/0">list_buckets() -&gt; {ok, [Bucket::bucket() (see module riak_object)]} | {error, timeout} | {error, Err::term()}</h3>


<div class="description">

<p>List buckets known to have keys.
       Key lists are updated asynchronously, so this may be slightly
       out of date if called immediately after any operation that
       either adds the first key or removes the last remaining key from
       a bucket.</p>
</div></div>
<div class="function">
<h3 id="list_buckets/1">list_buckets(TimeoutMillisecs::integer()) -&gt; {ok, [Bucket::bucket() (see module riak_object)]} | {error, timeout} | {error, Err::term()}</h3>


<div class="description">

<p>List buckets known to have keys.
       Key lists are updated asynchronously, so this may be slightly
       out of date if called immediately after any operation that
       either adds the first key or removes the last remaining key from
       a bucket.</p>
</div></div>
<div class="function">
<h3 id="set_bucket/1">set_bucket(BucketName::bucket() (see module riak_object), BucketProps::[BucketProp::{atom(), term()}]) -&gt; ok</h3>


<div class="description">

<p>Set the given properties for Bucket.
       This is generally best if done at application start time,
       to ensure expected per-bucket behavior.
  See riak_bucket for expected useful properties.</p>
</div></div>
<div class="function">
<h3 id="get_bucket/1">get_bucket(BucketName::bucket() (see module riak_object)) -&gt; [BucketProp::{atom(), term()}]</h3>


<div class="description">

<p>Get all properties for Bucket.
  See riak_bucket for expected useful properties.</p>
</div></div>
<div class="function">
<h3 id="reload_all/1">reload_all(Module::atom()) -&gt; term()</h3>


<div class="description">

<p>Force all Riak nodes to reload Module.
       This is used when loading new modules for map/reduce functionality.</p>
</div></div>
<div class="function">
<h3 id="remove_from_cluster/1">remove_from_cluster(ExitingNode::atom()) -&gt; term()</h3>


<div class="description">

<p>Cause all partitions owned by ExitingNode to be taken over
       by other nodes.</p>
</div></div>
<div class="function">
<h3 id="send_event/1">send_event(EventName::atom(), EventDetail::term()) -&gt; ok</h3>


<div class="description">

<p> Send a client-generated event to the Riak eventer.</p>
</div></div>
<div class="function">
<h3 id="add_event_handler/2">add_event_handler(Pid, Desc) -&gt; term()
</h3>


<div class="description">
<p>Equivalent to <a href="#add_event_handler/4" class="seealso">add_event_handler(Pid, Desc, {'_', '_', '_', '_'}, [])</a>.</p>
</div></div>
<div class="function">
<h3 id="add_event_handler/3">add_event_handler(Pid, Desc, MatchHead) -&gt; term()
</h3>


<div class="description">
<p>Equivalent to <a href="#add_event_handler/4" class="seealso">add_event_handler(Pid, Desc, MatchHead, [])</a>.</p>
</div></div>
<div class="function">
<h3 id="add_event_handler/4">add_event_handler(Pid, Desc, MatchHead, MatchGuard) -&gt; term()
</h3>


<div class="description">

<p>
  Register a process that will receive Riak events
  generated by the cluster in the form of Erlang messages.
  See <url href="/home/pete/wefwefwef/docs/other/9263215347/repo/riak-0.7.1/.xml/riak/./riak_eventer.xml#add_handler-4">riak_eventer:add_handler/4</url> for more information.</p>
</div></div>
<div class="function">
<h3 id="remove_event_handler/3">remove_event_handler(Pid, MatchHead, MatchGuard) -&gt; term()
</h3>


<div class="description">

<p>
  Remove an event handler added by <a href="#add_event_handler/4" class="seealso">add_event_handler/4</a>, if it exists.
  See <url href="/home/pete/wefwefwef/docs/other/9263215347/repo/riak-0.7.1/.xml/riak/./riak_eventer.xml#remove_handler-3">riak_eventer:remove_handler/3</url> for more information.</p>
</div></div>
<div class="function">
<h3 id="get_stats/1">get_stats(X1) -&gt; term()
</h3>


<div class="description">
 </div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
