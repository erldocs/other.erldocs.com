<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>mochiweb_session (mochiweb) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>mochiweb_session</h1>
<h2 class="modsummary">HTTP Cookie session.</h2>
<div class="description">
<p>HTTP Cookie session. Note that the expiration time travels unencrypted
  as far as this module is concerned. In order to achieve more security,
  it is advised to use https.
  Based on the paper
  <url href="http://www.cse.msu.edu/~alexliu/publications/Cookie/cookie.pdf">
  "A Secure Cookie Protocol"</url>.
  This module is only supported on R15B02 and later, the AES CFB mode is not
  available in earlier releases of crypto.</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-expiration_time">expiration_time() = integer()</h3></div>
    <div class="type"><h3 id="type-header">header() = {string(), string()}</h3></div>
    <div class="type"><h3 id="type-key_fun">key_fun() = fun((string()) -&gt; iolist())</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="generate_session_data/1">generate_session_data(ExpirationTime::expiration_time(), Data::iolist(), FSessionKey::key_fun(), ServerKey::iolist()) -&gt; binary()</h3>


<div class="description">

<p>Generates a secure encrypted binary convining all the parameters. The
  expiration time must be a 32-bit integer.</p>
</div></div>
<div class="function">
<h3 id="generate_session_cookie/1">generate_session_cookie(ExpirationTime::expiration_time(), Data::iolist(), FSessionKey::key_fun(), ServerKey::iolist()) -&gt; header()</h3>


<div class="description">

<p>Convenience wrapper for generate_session_data that returns a
  mochiweb cookie with "id" as the key, a max_age of 20000 seconds,
  and the current local time as local time.</p>
</div></div>
<div class="function">
<h3 id="check_session_cookie/1">check_session_cookie(ECookie::binary(), ExpirationTime::string(), FSessionKey::key_fun(), ServerKey::iolist()) -&gt; {Success::boolean(), ExpTimeAndData::[integer() | binary()]}</h3>


<div class="description">
 </div></div></div>

<authors>

<aname>Asier Azkuenaga Batiz</aname>
<email>asier@zebixe.com</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
