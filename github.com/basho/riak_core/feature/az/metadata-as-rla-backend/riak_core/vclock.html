<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>vclock (riak_core) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>vclock</h1>
<h2 class="modsummary">A simple Erlang implementation of vector clocks as inspired by Lamport logical clocks.</h2>
<div class="description">
<p>A simple Erlang implementation of vector clocks as inspired by Lamport logical clocks.
 </p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-counter">counter() = integer()</h3></div>
    <div class="type"><h3 id="type-dot">dot() = {<a href="#type-vclock_node" class="seealso">vclock_node()</a>, {<a href="#type-counter" class="seealso">counter()</a>, <a href="#type-timestamp" class="seealso">timestamp()</a>}}</h3></div>
    <div class="type"><h3 id="type-pure_dot">pure_dot() = {<a href="#type-vclock_node" class="seealso">vclock_node()</a>, <a href="#type-counter" class="seealso">counter()</a>}</h3></div>
    <div class="type"><h3 id="type-timestamp">timestamp() = integer()</h3></div>
    <div class="type"><h3 id="type-vclock">vclock() = [<a href="#type-dot" class="seealso">dot()</a>]</h3></div>
    <div class="type"><h3 id="type-vclock_node">vclock_node() = term()</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="fresh/0">fresh() -&gt; vclock()</h3>


<div class="description">

<p>Create a brand new vclock.</p>
</div></div>
<div class="function">
<h3 id="fresh/1">fresh(Node::vclock_node(), Count::counter()) -&gt; vclock()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="descends/1">descends(Va::vclock(), Vb::vclock()) -&gt; boolean()</h3>


<div class="description">

<p>Return true if Va is a direct descendant of Vb, else false -- remember, a vclock is its own descendant!</p>
</div></div>
<div class="function">
<h3 id="descends_dot/1">descends_dot(Vclock::vclock(), Dot::dot()) -&gt; boolean()</h3>


<div class="description">

<p>does the given <code>vclock()</code> descend from the given <code>dot()</code>. The
  <code>dot()</code> can be any vclock entry returned from
  <code>get_entry/2</code>. returns <code>true</code> if the <code>vclock()</code> has an entry for
  the <code>actor</code> in the <code>dot()</code>, and that the counter for that entry is
  at least that of the given <code>dot()</code>. False otherwise. Call with a
  valid entry or you'll get an error.
 </p>
<p><em>See also:</em> <a href="#descends/2" class="seealso">descends/2</a>, <a href="#dominates/2" class="seealso">dominates/2</a>, <a href="#get_entry/3" class="seealso">get_entry/3</a>.</p>
</div></div>
<div class="function">
<h3 id="pure_dot/1">pure_dot(X1::dot()) -&gt; pure_dot()</h3>


<div class="description">

<p>in some cases the dot without timestamp data is needed.</p>
</div></div>
<div class="function">
<h3 id="dominates/1">dominates(A::vclock(), B::vclock()) -&gt; boolean()</h3>


<div class="description">

<p>true if <code>A</code> strictly dominates <code>B</code>. Note: ignores
  timestamps. In Riak it is possible to have vclocks that are
  identical except for timestamps. When two vclocks descend each
  other, but are not equal, they are concurrent. See source comment
  for more details. (Actually you can have indentical clocks
  including timestamps, that represent different events, but let's
  not go there.)
 </p>
</div></div>
<div class="function">
<h3 id="merge/1">merge(VClocks::[vclock()]) -&gt; vclock()</h3>


<div class="description">

<p>Combine all VClocks in the input list into their least possible
      common descendant.</p>
</div></div>
<div class="function">
<h3 id="get_counter/1">get_counter(Node::vclock_node(), VClock::vclock()) -&gt; counter()</h3>


<div class="description">

<p>Get the counter value in VClock set from Node.</p>
</div></div>
<div class="function">
<h3 id="get_timestamp/1">get_timestamp(Node::vclock_node(), VClock::vclock()) -&gt; timestamp() | undefined</h3>


<div class="description">

<p>Get the timestamp value in a VClock set from Node.</p>
</div></div>
<div class="function">
<h3 id="get_dot/1">get_dot(Node::vclock_node(), VClock::vclock()) -&gt; {ok, dot()} | undefined</h3>


<div class="description">

<p>Get the entry <code>dot()</code> for <code>vclock_node()</code> from <code>vclock()</code>.</p>
</div></div>
<div class="function">
<h3 id="valid_dot/1">valid_dot(X1::dot()) -&gt; boolean()</h3>


<div class="description">

<p>is the given argument a valid dot, or entry?</p>
</div></div>
<div class="function">
<h3 id="increment/1">increment(Node::vclock_node(), VClock::vclock()) -&gt; vclock()</h3>


<div class="description">

<p>Increment VClock at Node.</p>
</div></div>
<div class="function">
<h3 id="increment/1-1">increment(Node::vclock_node(), IncTs::timestamp(), VClock::vclock()) -&gt; vclock()</h3>


<div class="description">

<p>Increment VClock at Node.</p>
</div></div>
<div class="function">
<h3 id="all_nodes/1">all_nodes(VClock::vclock()) -&gt; [vclock_node()]</h3>


<div class="description">

<p>Return the list of all nodes that have ever incremented VClock.</p>
</div></div>
<div class="function">
<h3 id="timestamp/0">timestamp() -&gt; timestamp()</h3>


<div class="description">

<p>Return a timestamp for a vector clock</p>
</div></div>
<div class="function">
<h3 id="equal/1">equal(VClockA::vclock(), VClockB::vclock()) -&gt; boolean()</h3>


<div class="description">

<p>Compares two VClocks for equality.</p>
</div></div>
<div class="function">
<h3 id="prune/1">prune(V::vclock(), Now::integer(), BucketProps::term()) -&gt; vclock()</h3>


<div class="description">

<p>Possibly shrink the size of a vclock, depending on current age and size.</p>
</div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
