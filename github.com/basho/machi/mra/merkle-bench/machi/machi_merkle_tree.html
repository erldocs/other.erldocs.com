<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>machi_merkle_tree (machi) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>machi_merkle_tree</h1>
<h2 class="modsummary">Creates a Merkle tree per file based on the checksum data for  
a given data file.</h2>
<div class="description">
<p>Creates a Merkle tree per file based on the checksum data for  
a given data file.</p>
 
  <p>Has selectable backend, chosen at open.</p>
 
  <p>The default 'merklet' implementation uses the <code>merklet</code> library.  Keys are
  encoded as <code>&lt;&lt;Offset:64, Size:32&gt;&gt;</code> values encoded as <code>&lt;&lt;Tag:8, Csum/binary&gt;&gt;</code>
  *or* as <code>&lt;&lt;0&gt;&gt;</code> for unwritten bytes, or <code>&lt;&lt;1&gt;&gt;</code> for trimmed bytes.</p>
 
  <p>The <code>naive</code> implementation representation is:</p>
 
  <p><code>&lt;&lt;Length:64, Offset:32, 0&gt;&gt;</code> for unwritten bytes
  <code>&lt;&lt;Length:64, Offset:32, 1&gt;&gt;</code> for trimmed bytes
  <code>&lt;&lt;Length:64, Offset:32, Csum/binary&gt;&gt;</code> for written bytes</p>
 
  <p>The tree feeds these leaf nodes into hashes representing chunks of a minimum
  size of at least 1024 KB (1 MB), but if the file size is larger, we will try
  to get about 100 chunks for called "Level 1." We aim for around 10 hashes at
  level 2, and then 2 hashes level 3 and finally the root.</p></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="open/2">open(Filename, DataDir) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="open/3">open(Filename, DataDir, Type) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="tree/1">tree(Mt) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="filename/1">filename(Mt) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="diff/2">diff(Mt, X2) -&gt; term()
</h3>


<div class="description">
 </div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
