<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>ejabberd_auth (ejabberd) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>ejabberd_auth</h1>
<h2 class="modsummary"/>
<div class="description">
</div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="start/0">start() -&gt; term()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="start/1">start(Host) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="start_modules/2">start_modules(Host, Modules) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="start_module/2">start_module(Host, Module) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="stop_module/2">stop_module(Host, Module) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="start_methods/2">start_methods(Host, Methods) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="start_method/2">start_method(Host, Method) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="stop_method/2">stop_method(Host, Method) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="plain_password_required/1">plain_password_required(Server) -&gt; bool()</h3>

<ul class="type">
<li><code>Server = string()</code></li></ul>
<div class="description">
 </div></div>
<div class="function">
<h3 id="check_password/3">check_password(User, Server, Password) -&gt; bool()</h3>

<ul class="type">
<li><code>User = string()</code></li><li><code>Server = string()</code></li><li><code>Password = string()</code></li></ul>
<div class="description">

<p>Check if the user and password can login in server.</p>
</div></div>
<div class="function">
<h3 id="check_password/5">check_password(User, Server, Password, Digest, DigestGen) -&gt; bool()</h3>

<ul class="type">
<li><code>User = string()</code></li><li><code>Server = string()</code></li><li><code>Password = string()</code></li><li><code>Digest = string()</code></li><li><code>DigestGen = function()</code></li></ul>
<div class="description">

<p>Check if the user and password can login in server.</p>
</div></div>
<div class="function">
<h3 id="check_password_with_authmodule/1">check_password_with_authmodule(User::string(), Server::string(), Password::string()) -&gt; {true, AuthModule} | {false, Reason::string()}</h3>

<ul class="type">
<li><code>AuthModule = ejabberd_auth_anonymous | ejabberd_auth_external | ejabberd_auth_ldap | ejabberd_auth_pam | ejabberd_auth_storage</code></li></ul>
<div class="description">

<p>Check if the user and password can login in server.
  The user can login if at least an authentication method accepts the user
  and the password.
  The first authentication method that accepts the credentials is returned.</p>
</div></div>
<div class="function">
<h3 id="check_password_with_authmodule/5">check_password_with_authmodule(User, Server, Password, Digest, DigestGen) -&gt; {true, AuthModule} | false</h3>

<ul class="type">
<li><code>User = string()</code></li><li><code>Server = string()</code></li><li><code>Password = string() | undefined</code></li><li><code>Digest = string() | undefined</code></li><li><code>DigestGen = function()</code></li><li><code>AuthModule = authmodule()</code></li></ul>
<div class="description">

<p>Check the password is valid and also return the authentication module that accepts it.
  The password is 'undefined' if the client
  authenticates using the digest method as defined in
  XEP-0078: Non-SASL Authentication</p>
</div></div>
<div class="function">
<h3 id="set_password/3">set_password(User, Server, Password) -&gt; ok | {error, ErrorType}</h3>

<ul class="type">
<li><code>User = string()</code></li><li><code>Server = string()</code></li><li><code>Password = string()</code></li><li><code>ErrorType = empty_password | not_allowed | invalid_jid</code></li></ul>
<div class="description">
 </div></div>
<div class="function">
<h3 id="try_register/3">try_register(User, Server, Password) -&gt; {atomic, ok} | {atomic, exists} | {error, not_allowed}</h3>

<ul class="type">
<li><code>User = string()</code></li><li><code>Server = string()</code></li><li><code>Password = string() | []</code></li></ul>
<div class="description">
 </div></div>
<div class="function">
<h3 id="dirty_get_registered_users/0">dirty_get_registered_users() -&gt; [{LUser, LServer}]</h3>

<ul class="type">
<li><code>LUser = string()</code></li><li><code>LServer = string()</code></li></ul>
<div class="description">

<p>Registered users list do not include anonymous users logged.</p>
</div></div>
<div class="function">
<h3 id="get_vh_registered_users/1">get_vh_registered_users(Server) -&gt; [{LUser, LServer}]</h3>

<ul class="type">
<li><code>Server = string()</code></li><li><code>LUser = string()</code></li><li><code>LServer = string()</code></li></ul>
<div class="description">

<p>Registered users list do not include anonymous users logged.</p>
</div></div>
<div class="function">
<h3 id="get_vh_registered_users/2">get_vh_registered_users(Server, Opts) -&gt; [{LUser, LServer}]</h3>

<ul class="type">
<li><code>Server = string()</code></li><li><code>Opts = [{Opt, Val}]</code></li><li><code>Opt = atom()</code></li><li><code>Val = term()</code></li><li><code>LUser = string()</code></li><li><code>LServer = string()</code></li></ul>
<div class="description">
 </div></div>
<div class="function">
<h3 id="get_vh_registered_users_number/1">get_vh_registered_users_number(Server) -&gt; Users_Number</h3>

<ul class="type">
<li><code>Server = string()</code></li><li><code>Users_Number = integer()</code></li></ul>
<div class="description">
 </div></div>
<div class="function">
<h3 id="get_vh_registered_users_number/2">get_vh_registered_users_number(Server, Opts) -&gt; Users_Number</h3>

<ul class="type">
<li><code>Server = string()</code></li><li><code>Opts = [{Opt, Val}]</code></li><li><code>Opt = atom()</code></li><li><code>Val = term()</code></li><li><code>Users_Number = integer()</code></li></ul>
<div class="description">
 </div></div>
<div class="function">
<h3 id="get_password/2">get_password(User, Server) -&gt; Password | false</h3>

<ul class="type">
<li><code>User = string()</code></li><li><code>Server = string()</code></li><li><code>Password = string()</code></li></ul>
<div class="description">

<p>Get the password of the user.</p>
</div></div>
<div class="function">
<h3 id="get_password_s/2">get_password_s(User, Server) -&gt; Password | []</h3>

<ul class="type">
<li><code>User = string()</code></li><li><code>Server = string()</code></li><li><code>Password = string()</code></li></ul>
<div class="description">

<p>Get the password of the user.</p>
</div></div>
<div class="function">
<h3 id="get_password_with_authmodule/2">get_password_with_authmodule(User, Server) -&gt; {Password, AuthModule} | {false, none}</h3>

<ul class="type">
<li><code>User = string()</code></li><li><code>Server = string()</code></li><li><code>Password = string()</code></li><li><code>AuthModule = authmodule()</code></li></ul>
<div class="description">

<p>Get the password of the user and the auth module.</p>
</div></div>
<div class="function">
<h3 id="is_user_exists/2">is_user_exists(User, Server) -&gt; bool()</h3>

<ul class="type">
<li><code>User = string()</code></li><li><code>Server = string()</code></li></ul>
<div class="description">

<p>Returns true if the user exists in the DB or if an anonymous
  user is logged under the given name.</p>
</div></div>
<div class="function">
<h3 id="is_user_exists_in_other_modules/3">is_user_exists_in_other_modules(Module, User, Server) -&gt; true | false | maybe</h3>

<ul class="type">
<li><code>Module = authmodule()</code></li><li><code>User = string()</code></li><li><code>Server = string()</code></li></ul>
<div class="description">

<p>Check if the user exists in all authentications module except
  the module passed as parameter.</p>
</div></div>
<div class="function">
<h3 id="remove_user/2">remove_user(User, Server) -&gt; ok | error | {error, not_allowed}</h3>

<ul class="type">
<li><code>User = string()</code></li><li><code>Server = string()</code></li></ul>
<div class="description">

<p>Remove user.</p>
</div></div>
<div class="function">
<h3 id="remove_user/3">remove_user(User, Server, Password) -&gt; ok | not_exists | not_allowed | bad_request | error</h3>

<ul class="type">
<li><code>User = string()</code></li><li><code>Server = string()</code></li><li><code>Password = string()</code></li></ul>
<div class="description">

<p>Try to remove user if the provided password is correct.
  The removal is attempted in each auth method provided:
  when one returns 'ok' the loop stops;
  if no method returns 'ok' then it returns the error message indicated by the last method attempted.</p>
</div></div>
<div class="function">
<h3 id="entropy/1">entropy(IOList) -&gt; non_negative_float()</h3>


<div class="description">

<p>Calculate informational entropy.</p>
</div></div>
<div class="function">
<h3 id="auth_modules/1">auth_modules(Server) -&gt; [authmodule()]</h3>

<ul class="type">
<li><code>Server = string()</code></li></ul>
<div class="description">

<p>Return the list of authenticated modules for a given host.</p>
</div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
