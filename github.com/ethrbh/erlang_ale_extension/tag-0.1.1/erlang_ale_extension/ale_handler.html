<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>ale_handler (erlang_ale_extension) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>ale_handler</h1>
<h2 class="modsummary">
  This module contains functions for handle Erlang/ALE Gpio, I2C and SPI modules
  through a handler what controls these modules.</h2>
<div class="description">
<p>
  This module contains functions for handle Erlang/ALE Gpio, I2C and SPI modules
  through a handler what controls these modules. This control means if the started
  module had been started, for example a Gpio has been configured as input,
  the Erlang process what is assigned for handle this operation, will restart automatically
  if that process crashes for some reason.</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-addr">addr() = integer()</h3></div>
    <div class="type"><h3 id="type-child_id">child_id() = term()</h3></div>
    <div class="type"><h3 id="type-child_spec">child_spec() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{Id :: <a href="#type-child_id" class="seealso">child_id()</a>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StartFunc :: <a href="#type-mfargs" class="seealso">mfargs()</a>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Restart :: <a href="#type-restart" class="seealso">restart()</a>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Shutdown :: <a href="#type-shutdown" class="seealso">shutdown()</a>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type :: <a href="#type-worker" class="seealso">worker()</a>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Modules :: <a href="#type-modules" class="seealso">modules()</a>}</h3></div>
    <div class="type"><h3 id="type-data">data() = binary()</h3></div>
    <div class="type"><h3 id="type-devname">devname() = string()</h3></div>
    <div class="type"><h3 id="type-interrupt_condition">interrupt_condition() = enabled<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| summarize<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| none<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| rising<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| falling<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| both</h3></div>
    <div class="type"><h3 id="type-len">len() = integer()</h3></div>
    <div class="type"><h3 id="type-mfargs">mfargs() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{M :: module(), F :: atom(), A :: [term()] | undefined}</h3></div>
    <div class="type"><h3 id="type-modules">modules() = [module()] | dynamic</h3></div>
    <div class="type"><h3 id="type-pin">pin() = integer() &gt;= 0</h3></div>
    <div class="type"><h3 id="type-pin_state">pin_state() = 0 | 1</h3></div>
    <div class="type"><h3 id="type-restart">restart() = permanent | transient | temporary</h3></div>
    <div class="type"><h3 id="type-shutdown">shutdown() = brutal_kill | timeout()</h3></div>
    <div class="type"><h3 id="type-worker">worker() = worker | supervisor</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="gpio_read/1">gpio_read(Gpio::pin() | {sup, pin()}) -&gt; pin_state() | {ok, pid()} | {error, reading_from_output_pin} | {error, term()}</h3>


<div class="description">

<p>
  Read the logical value of a Gpio. The Gpio driver process will start automatically
  if that is not started yet.</p>
</div></div>
<div class="function">
<h3 id="gpio_write/1">gpio_write(Gpio::pin(), PinState::pin_state()) -&gt; ok | {ok, pid()} | {error, reading_from_output_pin} | {error, term()}</h3>


<div class="description">

<p>
  Write the logical value of a Gpio. The Gpio driver process will start automatically
  if that is not started yet.</p>
</div></div>
<div class="function">
<h3 id="gpio_set_int/1">gpio_set_int(Gpio::pin(), IntCondition::interrupt_condition()) -&gt; ok | {error, term()}</h3>


<div class="description">

<p>
  Configure a Gpio for able to handle interrupts. The Gpio IO direction
  will be configured automacically.</p>
</div></div>
<div class="function">
<h3 id="gpio_set_int/1-1">gpio_set_int(Gpio::pin(), IntCondition::interrupt_condition(), Destination::pid() | atom()) -&gt; {ok, pid()} | ok | {error, term()}</h3>


<div class="description">

<p>
  Configure a Gpio for able to handle interrupts. The Gpio IO direction
  will be configured automacically.</p>
</div></div>
<div class="function">
<h3 id="gpio_release/1">gpio_release(Gpio::pin()) -&gt; ok | {error, term()}</h3>


<div class="description">

<p>
  Release Gpio.</p>
</div></div>
<div class="function">
<h3 id="i2c_stop/1">i2c_stop(DeviceName::devname(), HWAddress::addr()) -&gt; ok | {error, term()}</h3>


<div class="description">

<p>
  Stop I2C driver.</p>
</div></div>
<div class="function">
<h3 id="i2c_write/1">i2c_write(DeviceName::devname() | {sup, devname()}, HWAddress::addr(), Data::data()) -&gt; ok | {ok, pid()} | {error, term()}</h3>


<div class="description">

<p>
  Write by into I2C device.</p>
</div></div>
<div class="function">
<h3 id="i2c_read/1">i2c_read(DeviceName::devname() | {sup, devname()}, HWAddress::addr(), Len::len()) -&gt; {ok, data()} | {ok, pid()} | {error, term()}</h3>


<div class="description">

<p>
  Read data from I2C device.</p>
</div></div>
<div class="function">
<h3 id="spi_stop/1">spi_stop(DeviceName::devname()) -&gt; ok | {error, term()}</h3>


<div class="description">

<p>
  Stop SPI driver.</p>
</div></div>
<div class="function">
<h3 id="spi_transfer/1">spi_transfer(DeviceName::devname() | {sup, devname()}, SpiOptions::list(), Data::data()) -&gt; {ok, data()} | {ok, pid()} | {error, term()}</h3>


<div class="description">

<p>
  Transfer data into/from SPI device.</p>
</div></div>
<div class="function">
<h3 id="start_link/1">start_link(InitialMFA::mfa(), DrvInitMFA::mfa()) -&gt; {ok, pid()} | {error, term()}</h3>


<div class="description">

<p>
  Start ALE handler.</p>
</div></div>
<div class="function">
<h3 id="init/1">init(Args::term()) -&gt; Result</h3>

<ul class="type">
<li><code>Result = {ok, State} | {ok, State, Timeout} | {ok, State, hibernate} | {stop, Reason::term()} | ignore</code></li><li><code>State = term()</code></li><li><code>Timeout = non_neg_integer() | infinity</code></li></ul>
<div class="description">

<p><url href="http://www.erlang.org/doc/man/gen_server.html#Module:init-1">gen_server:init/1</url></p>
</div></div>
<div class="function">
<h3 id="handle_call/1">handle_call(Request::term(), From::{pid(), Tag::term()}, State::term()) -&gt; Result</h3>

<ul class="type">
<li><code>Result = {reply, Reply, NewState} | {reply, Reply, NewState, Timeout} | {reply, Reply, NewState, hibernate} | {noreply, NewState} | {noreply, NewState, Timeout} | {noreply, NewState, hibernate} | {stop, Reason, Reply, NewState} | {stop, Reason, NewState}</code></li><li><code>Reply = term()</code></li><li><code>NewState = term()</code></li><li><code>Timeout = non_neg_integer() | infinity</code></li><li><code>Reason = term()</code></li></ul>
<div class="description">

<p><url href="http://www.erlang.org/doc/man/gen_server.html#Module:handle_call-3">gen_server:handle_call/3</url></p>
</div></div>
<div class="function">
<h3 id="handle_cast/1">handle_cast(Request::term(), State::term()) -&gt; Result</h3>

<ul class="type">
<li><code>Result = {noreply, NewState} | {noreply, NewState, Timeout} | {noreply, NewState, hibernate} | {stop, Reason::term(), NewState}</code></li><li><code>NewState = term()</code></li><li><code>Timeout = non_neg_integer() | infinity</code></li></ul>
<div class="description">

<p><url href="http://www.erlang.org/doc/man/gen_server.html#Module:handle_cast-2">gen_server:handle_cast/2</url></p>
</div></div>
<div class="function">
<h3 id="handle_info/1">handle_info(Info::timeout | term(), State::term()) -&gt; Result</h3>

<ul class="type">
<li><code>Result = {noreply, NewState} | {noreply, NewState, Timeout} | {noreply, NewState, hibernate} | {stop, Reason::term(), NewState}</code></li><li><code>NewState = term()</code></li><li><code>Timeout = non_neg_integer() | infinity</code></li></ul>
<div class="description">

<p><url href="http://www.erlang.org/doc/man/gen_server.html#Module:handle_info-2">gen_server:handle_info/2</url></p>
</div></div>
<div class="function">
<h3 id="terminate/2">terminate(Reason, State::term()) -&gt; Any::term()</h3>

<ul class="type">
<li><code>Reason = normal | shutdown | {shutdown, term()} | term()</code></li></ul>
<div class="description">

<p><url href="http://www.erlang.org/doc/man/gen_server.html#Module:terminate-2">gen_server:terminate/2</url></p>
</div></div>
<div class="function">
<h3 id="code_change/2">code_change(OldVsn, State::term(), Extra::term()) -&gt; Result</h3>

<ul class="type">
<li><code>Result = {ok, NewState::term()} | {error, Reason::term()}</code></li><li><code>OldVsn = Vsn | {down, Vsn}</code></li><li><code>Vsn = term()</code></li></ul>
<div class="description">

<p><url href="http://www.erlang.org/doc/man/gen_server.html#Module:code_change-3">gen_server:code_change/3</url></p>
</div></div>
<div class="function">
<h3 id="get_child_spec/2">get_child_spec(WhatToFind::{gpio, integer()} | {i2c, devname(), addr()} | {spi, devname(), addr()}) -&gt; {ok, child_spec()} | no_child_process</h3>


<div class="description">

<p>
  Find child in supervisor and resurns its child_spec().</p>
</div></div></div>

<authors>

<aname>ethrbh, Robert Balogh, ethrbh@gmail.com</aname>
<email>ethrbh, Robert Balogh, ethrbh@gmail.com</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
