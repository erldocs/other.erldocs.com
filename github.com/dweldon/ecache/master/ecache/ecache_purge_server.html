<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>ecache_purge_server (ecache) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>ecache_purge_server</h1>
<h2 class="modsummary">The purge server's job is to keep track of potentially expired keys, and
  to periodically ask ecache to delete them.</h2>
<div class="description">
<p>The purge server's job is to keep track of potentially expired keys, and
  to periodically ask ecache to delete them. The server state is a priority
  queue of <code>{ExpirationTime, Key}</code> pairs. Every few seconds, the server will
  look for expired keys in the queue. For each expired key, an asynchronous
  message is sent to the ecache server to examine that key. If ecache finds
  that the key is indeed expired, it will delete it from its internal store.
  Note that a key may be updated on the ecache server after being placed in the
  queue - in this case there will be multiple entries in the queue for the same
  key.</p></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="start_link/0">start_link() -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="stop/0">stop() -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="store/1">store(Key::term(), ExpTime::integer()) -&gt; ok</h3>


<div class="description">

<p>Inserts <code>Key</code> into the priority queue. <code>ExpTime</code> should be a time in the
  future when the server will attempt to purge <code>Key</code> from the cache. e.g. if we
  wanted to purge the key <code>"car"</code> from the cache in 20 seconds, we would call:
  <code>ecache_purge_server:store("car", ecache_util:now_seconds() + 20)</code></p>
<p><em>See also:</em> <a href="ecache_util.html#type-now_seconds" class="seealso">ecache_util:now_seconds()</a>.</p>
</div></div></div>

<authors>

<aname>David Weldon</aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
