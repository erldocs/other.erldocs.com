<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>riak_core_metadata_object (riak_core) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>riak_core_metadata_object</h1>
<h2 class="modsummary"/>
<div class="description">
</div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-metadata_context">metadata_context() = <a href="dvvset.html#type-vector" class="seealso">dvvset:vector()</a></h3></div>
    <div class="type"><h3 id="type-metadata_modifier">metadata_modifier() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fun(([<a href="#type-metadata_value" class="seealso">metadata_value()</a> | <a href="#type-metadata_tombstone" class="seealso">metadata_tombstone()</a>] | undefined) -><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#type-metadata_value" class="seealso">metadata_value()</a>)</h3></div>
    <div class="type"><h3 id="type-metadata_object">metadata_object() = {metadata, <a href="dvvset.html#type-clock" class="seealso">dvvset:clock()</a>}</h3></div>
    <div class="type"><h3 id="type-metadata_tombstone">metadata_tombstone() = '$deleted'</h3></div>
    <div class="type"><h3 id="type-metadata_value">metadata_value() = any()</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="value/1">value(Metadata::metadata_object()) -&gt; metadata_value()</h3>


<div class="description">

<p>returns a single value. if the object holds more than one value an error is generated</p>
<p><em>See also:</em> <a href="#values/2" class="seealso">values/2</a>.</p>
</div></div>
<div class="function">
<h3 id="values/1">values(X1::metadata_object()) -&gt; [metadata_value()]</h3>


<div class="description">

<p>returns a list of values held in the object</p>
</div></div>
<div class="function">
<h3 id="value_count/1">value_count(X1::metadata_object()) -&gt; non_neg_integer()</h3>


<div class="description">

<p>returns the number of siblings in the given object</p>
</div></div>
<div class="function">
<h3 id="context/1">context(X1::metadata_object()) -&gt; metadata_context()</h3>


<div class="description">

<p>returns the context (opaque causal history) for the given object</p>
</div></div>
<div class="function">
<h3 id="empty_context/0">empty_context() -&gt; metadata_context()</h3>


<div class="description">

<p>returns the representation for an empty context (opaque causal history)</p>
</div></div>
<div class="function">
<h3 id="hash/1">hash(X1::metadata_object()) -&gt; binary()</h3>


<div class="description">

<p>returns a hash representing the metadata objects contents</p>
</div></div>
<div class="function">
<h3 id="modify/1">modify(Obj::metadata_object() | undefined, Context::metadata_context(), Fun::metadata_value() | metadata_modifier(), ServerId::term()) -&gt; metadata_object()</h3>


<div class="description">

<p>modifies a potentially existing object, setting its value and updating
  the causual history. If a function is provided as the third argument
  then this function also is used for conflict resolution. The difference
  between this function and resolve/2 is that the logical clock is advanced in the
  case of this function. Additionally, the resolution functions are slightly different.</p>
</div></div>
<div class="function">
<h3 id="reconcile/1">reconcile(RemoteObj::metadata_object(), X2::metadata_object() | undefined) -&gt; false | {true, metadata_object()}</h3>


<div class="description">

<p>Reconciles a remote object received during replication or anti-entropy
  with a local object. If the remote object is an anscestor of or is equal to the local one
  <code>false</code> is returned, otherwise the reconciled object is returned as the second
  element of the two-tuple</p>
</div></div>
<div class="function">
<h3 id="resolve/1">resolve(X1::metadata_object(), Reconcile::lww | ([metadata_value()]) -&gt; metadata_value()) -&gt; metadata_object()</h3>


<div class="description">

<p>Resolves siblings using either last-write-wins or the provided function and returns
  an object containing a single value. The causal history is not updated</p>
</div></div>
<div class="function">
<h3 id="is_stale/1">is_stale(RemoteContext::metadata_context(), X2::metadata_object()) -&gt; boolean()</h3>


<div class="description">

<p>Determines if the given context (version vector) is causually newer than
  an existing object. If the object missing or if the context does not represent
  an anscestor of the current key, false is returned. Otherwise, when the context
  does represent an ancestor of the existing object or the existing object itself,
  true is returned</p>
</div></div>
<div class="function">
<h3 id="equal_context/1">equal_context(Context::metadata_context(), X2::metadata_object()) -&gt; boolean()</h3>


<div class="description">

<p>Returns true if the given context and the context of the existing object are equal</p>
</div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
