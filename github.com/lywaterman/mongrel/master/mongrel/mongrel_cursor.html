<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>mongrel_cursor (mongrel) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>mongrel_cursor</h1>
<h2 class="modsummary">Mongrel cursor process.</h2>
<div class="description">
<p>Mongrel cursor process. This module provides functions for getting documents from a cursor.        
Unlike a mongo cursor, this cursor may need to read from the database when the cursor        
is read since the document that is read may reference nested documents that need to be        
fetched.</p>
  
        A second difference from a mongo cursor is that a mongrel cursor terminates when
        the process that created the cursor terminates. This second difference implies that a mongrel
        cursor cannot be used outside of the action of a mongrel:do/5 function. If you want a cursor
        to be available outside the scope of the do/5 function, you must explictly set a timeout for
        the cursor. The value of infinity is acceptable as a timeout.</div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-cursor">cursor() = pid()</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="cursor/1">cursor(MongoCursor::cursor() (see module mongo), Mongrel_connection::#mongrel_connection{}, Collection::collection() (see module mongo)) -&gt; cursor()</h3>


<div class="description">

<p>Creates a cursor using a specified connection to a database collection. If the cursor has
       to return a document containing nested documents, the connection parameters are used to
       read the nested documents.</p>
</div></div>
<div class="function">
<h3 id="next/1">next(Cursor::cursor()) -&gt; record() | {}</h3>


<div class="description">

<p>Returns the next record from the cursor or an empty tuple if no more documents
       are available.</p>
</div></div>
<div class="function">
<h3 id="rest/1">rest(Cursor::cursor()) -&gt; [record()]</h3>


<div class="description">

<p>Returns a list of records referenced by a cursor.</p>
</div></div>
<div class="function">
<h3 id="take/1">take(Limit::integer(), Cursor::cursor()) -&gt; [record()]</h3>


<div class="description">

<p>Returns a list of records referenced by a cursor up to a specified limit.</p>
</div></div>
<div class="function">
<h3 id="get_mongo_cursor/1">get_mongo_cursor(Cursor::cursor()) -&gt; cursor() (see module mongo)</h3>


<div class="description">

<p>Returns the mongo:cursor() used by a mongrel:cursor(). Using the mongo:cursor() can
       be significantly faster than the mongrel:cursor() since it returns documents
       from a single collection rather than constructed records which involves eagerly
       loading record fields which may require several trips to the database.</p>
</div></div>
<div class="function">
<h3 id="close/1">close(Cursor::cursor()) -&gt; ok</h3>


<div class="description">

<p>Closes the cursor. This stops the cursor gen_server process.</p>
</div></div>
<div class="function">
<h3 id="set_timeout/1">set_timeout(Cursor::cursor(), Timeout::integer() | infinity) -&gt; ok</h3>


<div class="description">

<p>Sets the cursor timeout. The cursor will die after the specified length of inactivity.
       The cursor remains alive even if the parent process dies.</p>
</div></div></div>

<authors>

<aname>CA Meijer</aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
