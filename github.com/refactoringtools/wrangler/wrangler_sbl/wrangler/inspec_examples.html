<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>inspec_examples (wrangler) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>inspec_examples</h1>
<h2 class="modsummary">  
Some example code inspection functions using code templates.</h2>
<div class="description">
<p>  
Some example code inspection functions using code templates.</p>
 
  <p>This module demonstrates how to use code templates and the predefined
  macros, ?COLLECT and ?COLLECT_LOC, to collect information about specific
  code fragments of interest.
  To invoke a user-defined code inspection function from the <code>Inspector</code> menu, select
  <code>Apply Adhoc Code Inspector</code> first, then Wrangler will prompt you to input the  
the name of the module in which the code inspection function is defined, and  
the code inspection function name; if the code inspection function requires  
user-inputs, Wrangler will also prompt you to input the parameter values. After  
that, the code inspection function will be run by Wrangler, and the results are  
shown in the *erl-output* buffer.</p>
 
  <p>In order for a user-defined code inspection function to be invoked by the
  <code>Apply Adhoc Code Inspector</code> command, a number of coding rules should be  
followed by the code inspection function:</p>
 
  <p>-- The code inspection function should have an arity of 1;</p>
 
  <p>-- The code inspection function should have two function clauses: one
  function clause takes atom <code>input_pars</code> as the parameter, and the other
  takes record <code>args</code> as the parameter. If the code inspection function
  does not require any user-inputs before hand,
  the function clause with <code>input_pars</code> as the parameter should return an empty list,
  otherwise it should return the list of prompt strings to be used when
  the Wrangler asks the user for input, and there should be one prompt string
  for each user-input. The <code>args</code> record taken as parameter by the other
  function clause contains information that is passed to the code inspection
  function. To be consistent, the definition of the <code>args</code> record is the same
  as the one used by the <code>gen_refac</code> behaviour, although record fields <code>cursor_pos</code>
  ,<code>highlight_range</code> and 'focus_sel' are generally not use by code inspection
  functions. Here is the definition of record <code>args</code>:</p>
 
   <pre class="sh_erlang">      -record(args,{current_file_name :: filename(),         %% the file name of the current Erlang buffer.
                    cursor_pos        :: pos(),              %% the current cursor position.
                    highlight_range   :: {pos(), pos()},     %% the start and end location of the highlighted code if there is any.
                    user_inputs       :: [string()],         %% the data inputted by the user.
                    focus_sel         :: any(),              %% the focus of interest selected by the user.
                    search_paths      ::[dir()|filename()],  %% the list of directories or files which specify the scope of the project.
                    tabwidth =8        ::integer()           %% the number of white spaces denoted by a tab key.
                   }).</pre>
 
  <p>-- In the case that the code inspection function returns location range information about
     code fragments of interest, in order for the locations to be mouse-clickable, the
    location range should be of the format: <code>{filename(), {pos(),pos()}}</code>.</p>
 
  <p>Source code for this module:
 </p><list>
 <item><p>
 <url href="file:code_inspector_examples.erl"> code_inspector_examples.erl.</url>.
 </p></item>
 </list></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-dir">dir() = string()</h3></div>
    <div class="type"><h3 id="type-filename">filename() = string()</h3></div>
    <div class="type"><h3 id="type-functionname">functionname() = atom()</h3></div>
    <div class="type"><h3 id="type-modulename">modulename() = atom()</h3></div>
    <div class="type"><h3 id="type-pos">pos() = {integer(), integer()}</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="top_level_if/1">top_level_if(Args::#args{current_file_name=undefined | filename(), cursor_pos=undefined | pos(), highlight_range=undefined | {pos(), pos()}, user_inputs=undefined | [string()], focus_sel=undefined | any(), selective=undefined | boolean(), search_paths=undefined | [dir() | filename()], tabwidth=integer()}) -&gt; [{modulename(), functionname(), arity()}]</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="append_two_lists/1">append_two_lists(Args::#args{current_file_name=undefined | filename(), cursor_pos=undefined | pos(), highlight_range=undefined | {pos(), pos()}, user_inputs=undefined | [string()], focus_sel=undefined | any(), selective=undefined | boolean(), search_paths=undefined | [dir() | filename()], tabwidth=integer()}) -&gt; [{filename(), {pos(), pos()}}]</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="calls_to_specific_function/1">calls_to_specific_function(Args::#args{current_file_name=undefined | filename(), cursor_pos=undefined | pos(), highlight_range=undefined | {pos(), pos()}, user_inputs=undefined | [string()], focus_sel=undefined | any(), selective=undefined | boolean(), search_paths=undefined | [dir() | filename()], tabwidth=integer()}) -&gt; [{filename(), {pos(), pos()}}]</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="unnecessary_match/1">unnecessary_match(Args::#args{current_file_name=undefined | filename(), cursor_pos=undefined | pos(), highlight_range=undefined | {pos(), pos()}, user_inputs=undefined | [string()], focus_sel=undefined | any(), selective=undefined | boolean(), search_paths=undefined | [dir() | filename()], tabwidth=integer()}) -&gt; [{filename(), {pos(), pos()}}]</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="non_tail_recursive_function/1">non_tail_recursive_function(Args::#args{current_file_name=undefined | filename(), cursor_pos=undefined | pos(), highlight_range=undefined | {pos(), pos()}, user_inputs=undefined | [string()], focus_sel=undefined | any(), selective=undefined | boolean(), search_paths=undefined | [dir() | filename()], tabwidth=integer()}) -&gt; [{modulename(), functionname(), arity()}]</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="is_non_tail_recursive/1">is_non_tail_recursive(FunDef) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="test5/1">test5(Args) -&gt; term()
</h3>


<div class="description">
 </div></div></div>

<authors>

<aname>Huiqing Li</aname>
<email>H.Li@kent.ac.uk</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
