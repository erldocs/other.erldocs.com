<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>db_hanoidb (scalaris) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>db_hanoidb</h1>
<h2 class="modsummary">   DB back-end using HanoiDB.</h2>
<div class="description">
<p>   DB back-end using HanoiDB.
          HanoiDB is a memory-cached disk backend.
          As disks are large (TB) HanoiDB can hold data much larger than RAM (GB).
          As disks persist data HanoiDB can be stoped and restarted without data loss.
          It is a pure Erlang implementation of Google's LevelDB disk-backed K/V store.
          See http://code.google.com/p/leveldb/ for background about storage levels.
          How to use scalaris with this hanoidb backend:
          -download https://github.com/krestenkrab/hanoidb and compile HanoiDB
          -make sure this db_hanoidb.erl file is in src/ (right with db_ets.erl)
          -rerun scalaris' configure with --enable-hanoidb
              ./configure --enable-hanoidb=/path/to/hanoidb
          -rerun make to rebuild scalaris and run tests
              ./make
              ./make test
          -enjoy
          Two keys K and L are considered equal if they match, i.e. K =:= L
          Made after v0.6.1 svn rev 5666.</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-db">db() = {DB :: pid(), FileName :: nonempty_string()}</h3></div>
    <div class="type"><h3 id="type-entry">entry() = <a href="db_backend_beh.html#type-entry" class="seealso">db_backend_beh:entry()</a></h3></div>
    <div class="type"><h3 id="type-key">key() = <a href="db_backend_beh.html#type-key" class="seealso">db_backend_beh:key()</a></h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="new/1">new(DBName::nonempty_string()) -&gt; db()</h3>


<div class="description">

<p>Creates new DB handle named DBName.</p>
</div></div>
<div class="function">
<h3 id="open/1">open(DBName::nonempty_string()) -&gt; db()</h3>


<div class="description">

<p>Re-opens an existing-on-disk database.</p>
</div></div>
<div class="function">
<h3 id="close/1">close(DB::db()) -&gt; true</h3>


<div class="description">

<p>Closes the DB named DBName keeping its data on disk.</p>
</div></div>
<div class="function">
<h3 id="close_and_delete/1">close_and_delete(DB::db()) -&gt; true</h3>


<div class="description">

<p>Closes and deletes the DB named DBName</p>
</div></div>
<div class="function">
<h3 id="put/1">put(DB::db(), Entry::entry()) -&gt; db()</h3>


<div class="description">

<p>Saves arbitrary tuple Entry in DB DBName and returns the new DB.
       The key is expected to be the first element of Entry.</p>
</div></div>
<div class="function">
<h3 id="get/1">get(DB::db(), Key::key()) -&gt; entry() | {}</h3>


<div class="description">

<p>Returns the entry that corresponds to Key or {} if no such tuple exists.</p>
</div></div>
<div class="function">
<h3 id="delete/1">delete(DB::db(), Key::key()) -&gt; db()</h3>


<div class="description">

<p>Deletes the tuple saved under Key and returns the new DB.
       If such a tuple does not exists nothing is changed.</p>
</div></div>
<div class="function">
<h3 id="get_persisted_tables/0">get_persisted_tables() -&gt; [nonempty_string()]</h3>


<div class="description">

<p>Gets a list of persisted tables.</p>
</div></div>
<div class="function">
<h3 id="is_available/0">is_available() -&gt; boolean() | [atom()]</h3>


<div class="description">

<p>Checks for modules required for this DB backend. Returns true if no
       modules are missing, or else a list of missing modules</p>
</div></div>
<div class="function">
<h3 id="supports_feature/1">supports_feature(Feature::atom()) -&gt; boolean()</h3>


<div class="description">

<p>Returns true if the DB support a specific feature (e.g. recovery), false otherwise.</p>
</div></div>
<div class="function">
<h3 id="get_name/1">get_name(DB::db()) -&gt; nonempty_string()</h3>


<div class="description">

<p>Returns the name of the DB specified in @see new/1 and open/1.</p>
</div></div>
<div class="function">
<h3 id="get_load/1">get_load(DB::db()) -&gt; non_neg_integer()</h3>


<div class="description">

<p>Returns the number of stored keys.</p>
</div></div>
<div class="function">
<h3 id="foldl/1">foldl(DB::db(), Fun::(Key::key(), AccIn::A) -&gt; AccOut::A, Acc0::A) -&gt; Acc1::A</h3>


<div class="description">

<p>Returns a potentially larger-than-memory dataset. Use with care.</p>
</div></div>
<div class="function">
<h3 id="foldl/1-1">foldl(DB::db(), Fun::(Key::key(), AccIn::A) -&gt; AccOut::A, Acc0::A, Interval::interval() (see module db_backend_beh)) -&gt; Acc1::A</h3>


<div class="description">

<p>  Returns a potentially larger-than-memory dataset. Use with care.</p>
</div></div>
<div class="function">
<h3 id="foldl/1-2">foldl(DB::db(), Fun::(Key::key(), AccIn::A) -&gt; AccOut::A, Acc0::A, Intervall::interval() (see module db_backend_beh), MaxNum::non_neg_integer()) -&gt; Acc1::A</h3>


<div class="description">

<p>foldl iterates over DB and applies Fun(Entry, AccIn) to every element
       encountered in Interval. On the first call AccIn == Acc0. The iteration
       stops as soon as MaxNum elements have been encountered.
       Returns a potentially larger-than-memory dataset. Use with care.</p>
</div></div>
<div class="function">
<h3 id="foldr/1">foldr(DB::db(), Fun::(Key::key(), AccIn::A) -&gt; AccOut::A, Acc0::A) -&gt; Acc1::A</h3>


<div class="description">

<p>makes a foldr over the whole dataset.
       Returns a potentially larger-than-memory dataset. Use with care.</p>
</div></div>
<div class="function">
<h3 id="foldr/1-1">foldr(DB::db(), Fun::(Key::key(), AccIn::A) -&gt; AccOut::A, Acc0::A, Interval::interval() (see module db_backend_beh)) -&gt; Acc1::A</h3>


<div class="description">

<p>  Returns a potentially larger-than-memory dataset. Use with care.</p>
</div></div>
<div class="function">
<h3 id="foldr/1-2">foldr(DB::db(), Fun::(Key::key(), AccIn::A) -&gt; AccOut::A, Acc0::A, Intervall::interval() (see module db_backend_beh), MaxNum::non_neg_integer()) -&gt; Acc1::A</h3>


<div class="description">

<p>foldr iterates over DB and applies Fun(Entry, AccIn) to every element
       encountered in Interval. On the first call AccIn == Acc0. The iteration
       stops as soon as MaxNum elements have been encountered.
       Returns a potentially larger-than-memory dataset. Use with care.</p>
</div></div>
<div class="function">
<h3 id="foldl_unordered/1">foldl_unordered(DB::db(), Fun::(Entry::entry(), AccIn::A) -&gt; AccOut::A, Acc0::A) -&gt; Acc1::A</h3>


<div class="description">

<p>Works similar to foldl/3 but uses hanoidb:fold instead of our own implementation.
  The order in which will be iterated over is unspecified, but using this fuction
  might be faster than foldl/3 if it does not matter.</p>
</div></div>
<div class="function">
<h3 id="tab2list/1">tab2list(Table_name::db()) -&gt; [Entries::entry()]</h3>


<div class="description">

<p>Returns a list of all objects in the table Table_name.</p>
</div></div></div>

<authors>

<aname>Pierre M.</aname>
<email> </email>
<aname>Jan Skrzypczak</aname>
<email>skrzypczak@zib.de</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
