<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>percept2 (percept2) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>percept2</h1>
<h2 class="modsummary">Percept2 - An Enhanced version of the Erlang Concurrency Profiling Tool Percept.</h2>
<div class="description">
<p>Percept2 - An Enhanced version of the Erlang Concurrency Profiling Tool Percept.</p>
 
 <p>Percept2 extends Percept in two aspects: functionality and scalability. Among the new functionalities added to Percept are:
  </p><list>
  <item><p> Scheduler activity: the number of active schedulers at any time. </p></item>
  <item><p> Process migration information: the migration history of a process between run queues. </p></item>
  <item><p> Statistics data about message passing between processes: the number of messages, and the average message size, sent/received by a process.</p></item>
  <item><p> Accumulated runtime per-process: the accumulated time when a process is in a running state.</p></item>
  <item><p> Process tree: the hierarchy structure indicating the parent-child relationships between processes.</p></item>
  <item><p> Dynamic function call graph/count/time: the hierarchy structure showing the calling
  relationships between functions during the program run, and the amount of time spent on a function.</p></item>
  <item><p> Active functions: the functions that are active during a specific time interval.</p></item>
  <item><p> Inter-node message passing: the sending of messages from one node to another.
  </p></item>
  </list><p>
  The following techniques have been used to improved the scalability of Percept.
  </p><list>
  <item><p> Compressed process tree/function call graph representation: an approach to reducing the
       number of processes/function call paths presented without losing important information.</p></item>
  <item><p> Parallelisation of Percept: the processing of profile data has been parallelised so that multiple
       data files can be processed at the same time </p></item>
  </list>
 
  <p>This module provides the user interface for the application.
 </p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-filespec">filespec() = <a href="file.html#type-filename" class="seealso">file:filename()</a><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| {<a href="file.html#type-filename" class="seealso">file:filename()</a>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wrap,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Suffix :: string(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WrapSize :: integer() >= 1}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| {<a href="file.html#type-filename" class="seealso">file:filename()</a>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wrap,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Suffix :: string(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WrapSize :: integer() >= 1,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MaxFileCnt :: integer() >= 1}</h3></div>
    <div class="type"><h3 id="type-function_name">function_name() = atom()</h3></div>
    <div class="type"><h3 id="type-module_name">module_name() = atom()</h3></div>
    <div class="type"><h3 id="type-trace_profile_option">trace_profile_option() = procs_basic<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ports_basic<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| procs<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ports<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| schedulers<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| running<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| message<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| migration<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| garbage_collection<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| s_group<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| all<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| {callgraph, [<a href="#type-module_name" class="seealso">module_name()</a>]}</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="stop_db/0">stop_db() -&gt; ok</h3>


<div class="description">

<p>Stops the percept2 database.</p>
</div></div>
<div class="function">
<h3 id="profile/1">profile(FileSpec::filespec(), TraceProfileOptions::[trace_profile_option()]) -&gt; {ok, integer()} | {already_started, port()}</h3>


<div class="description">

<p>Starts the profiling while an application of interest
      is already running.
      The profiling can be stopped by <code>percept2:stop_profile/0</code>.
      The valid <code>TraceProfileOptions</code> values are: <code>procs</code>, <code>ports</code>,
      <code>schedulers</code>, <code>running</code>, <code>message</code>, <code>migration</code> and <code>all</code>. See
      <url href="percept2.html#profile-3">profile/3</url> for the
      descriptions of the options.</p>
<p><em>See also:</em> <a href="#stop_profile/0" class="seealso">stop_profile/0</a>.</p>
</div></div>
<div class="function">
<h3 id="profile/1-1">profile(FileSpec::filespec(), Entry::{module_name(), function_name(), [term()]}, TraceProfileOptions::[trace_profile_option()]) -&gt; ok | {already_started, port()}</h3>


<div class="description">

<p>The profiling starts with executing the entry function given, and goes on for
      the whole duration until the entry function returns and the profiling
      has concluded. The events to be traced/profiled depends on the options
      specified by <code>TraceProfileOptions</code>. The following options are available:</p>
 
     <p>-- <code>procs_basic</code>       : only profile basic process activities including                              
spawn, exit, register. Other activiites including                              
unregister, link, unlink, getting_linked, and                              
getting_unlinked, are traced but not profiled.</p>
 
     <p>-- <code>procs</code>             : enable `procs_baisc', but also profile the                              
runnablity of processes.</p>
 
     <p>-- <code>ports_basic</code>       : only profile basic port activities: open and close.</p>
 
     <p>-- <code>ports</code>             : enable <code>ports_basic</code>, but also profile the                              
runnablity of ports.</p>
 
     <p>-- <code>schedulers</code>        : enable the profiling of scheduler concurrency.</p>
 
     <p>-- <code>running</code>           : enable the feature to distinguish running from
                              runnable process states. If the <code>procs</code> option is                              
not given, this option enables the process concurrency                              
automatically.</p>
 
     <p>-- <code>message</code>           : enable the profiling of message passing between
                              processes; This option enables <code>procs_basic</code> automically.</p>
 
     <p>-- <code>migration</code>         : enable the profiling of process migration between
                              schedulers; this option enables <code>procs</code> automatically.</p>
 
     <p>-- <code>garbage_collection</code>: enable the profiling of garbage collection. This</p>
 
     <p>-- <code>s_group</code>           : enable the profiling of s_group-related activities, including                              
the creation/deletion of s_groups as well adding/removing nodes                              
to/from a s_group.</p>
 
     <p>-- <code>all</code>               : enable all the previous options apart from <code>s_group</code>.</p>
 
     <p>-- <code>{callgraph, Mods}</code> : enable the profiling of function activities
                               (<code>call</code> and <code>return_to</code>) of functions defined in <code>Mods</code>.
                               This option enables <code>procs_basic</code> automatically. Given the huge
                               amount of data that could possibly be produced when this
                               feature is on, we do not recommend profiling many modules
                               in one go at this stage. We are in the process of improving
                               the performance of this feature. This feature should not be
                               used when <code>s_group</code> is enabled, since the latter needs to                               
record the actual arguments of function calls.</p>
 
  <p>See the <a href="chapter.html" class="seealso">Overview</a> page for examples.</p>
</div></div>
<div class="function">
<h3 id="stop_profile/0">stop_profile() -&gt; ok | {error, not_started}</h3>


<div class="description">

<p>Stops the profiling.</p>
<p><em>See also:</em> <a href="#profile/1" class="seealso">profile/1</a>, <a href="#profile/2" class="seealso">profile/2</a>.</p>
</div></div>
<div class="function">
<h3 id="analyze/1">analyze(FileNames::filename() (see module file) | [filename() (see module file)]) -&gt; ok | {error, any()}</h3>


<div class="description">

<p>Parallel analysis of trace files. See the <a href="chapter.html" class="seealso">Overview</a> page for examples.</p>
</div></div>
<div class="function">
<h3 id="analyze/1-1">analyze(Filename::filename() (see module file), Suffix::string(), StartIndex::pos_integer(), EndIndex::pos_integer()) -&gt; ok | {error, any()}</h3>


<div class="description">

<p>Parallel analysis of trace files. See the <a href="chapter.html" class="seealso">Overview</a> page for examples.</p>
</div></div>
<div class="function">
<h3 id="start_webserver/0">start_webserver() -&gt; {started, Hostname, Port} | {error, Reason}</h3>

<ul class="type">
<li><code>Hostname = string()</code></li><li><code>Port = integer()</code></li><li><code>Reason = term()</code></li></ul>
<div class="description">

<p>Starts webserver. An available port number will be assigned by inets.</p>
</div></div>
<div class="function">
<h3 id="start_webserver/1">start_webserver(Port::integer()) -&gt; {started, Hostname, AssignedPort} | {error, Reason}</h3>

<ul class="type">
<li><code>Hostname = string()</code></li><li><code>AssignedPort = integer()</code></li><li><code>Reason = term()</code></li></ul>
<div class="description">

<p>Starts webserver with a given port number. If port number is 0, an available port number will
 	be assigned by inets.</p>
</div></div>
<div class="function">
<h3 id="stop_webserver/0">stop_webserver() -&gt; ok | {error, not_started}</h3>


<div class="description">

<p>Stops webserver.</p>
</div></div>
<div class="function">
<h3 id="stop_webserver/1">stop_webserver(Port::integer()) -&gt; ok | {error, not_started}</h3>


<div class="description">

<p>Stops webserver of the given port.</p>
</div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
