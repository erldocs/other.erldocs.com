<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>jsonrpc2 (jsonrpc2-erlang) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>jsonrpc2</h1>
<h2 class="modsummary">This module handles JSON-RPC 2.0 requests.</h2>
<div class="description">
<p>This module handles JSON-RPC 2.0 requests.</p>
 
  <p>JSON encoding and decoding is not handled by this module. Thus, it must be  
handled outside, by the caller.</p>
 
  <p>The format of the parsed JSON is the so called eep0018 style terms, where
  strings are represented as binaries and objects are represented as proplists
  wrapped in a single element tuple. This format is supported by several JSON
  parsers.</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-error">error() = <a href="#type-errortype" class="seealso">errortype()</a><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| {<a href="#type-errortype" class="seealso">errortype()</a>, <a href="#type-json" class="seealso">json()</a>}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| {jsonrpc2, integer(), binary()}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| {jsonrpc2, integer(), binary(), <a href="#type-json" class="seealso">json()</a>}</h3></div>
    <div class="type"><h3 id="type-errortype">errortype() = parse_error<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| method_not_found<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| invalid_params<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| internal_error<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| server_error</h3></div>
    <div class="type"><h3 id="type-handlerfun">handlerfun() = fun((<a href="#type-method" class="seealso">method()</a>, <a href="#type-params" class="seealso">params()</a>) -> <a href="#type-json" class="seealso">json()</a>)</h3></div>
    <div class="type"><h3 id="type-id">id() = number() | null</h3></div>
    <div class="type"><h3 id="type-json">json() = true<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| false<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| null<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| binary()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<a href="#type-json" class="seealso">json()</a>]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| {[{binary(), <a href="#type-json" class="seealso">json()</a>}]}</h3></div>
    <div class="type"><h3 id="type-mapfun">mapfun() = fun((fun((A) -&gt; B), [A]) -&gt; [B])</h3></div>
    <div class="type"><h3 id="type-method">method() = binary()</h3></div>
    <div class="type"><h3 id="type-params">params() = [<a href="#type-json" class="seealso">json()</a>] | {[{binary(), <a href="#type-json" class="seealso">json()</a>}]}</h3></div>
    <div class="type"><h3 id="type-response">response() = {reply, <a href="#type-json" class="seealso">json()</a>} | noreply</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="handle/1">handle(Req::term(), HandlerFun::handlerfun(), JsonDecode::function(), JsonEncode::function()) -&gt; noreply | {reply, term()}</h3>


<div class="description">

<p>Handles a raw JSON-RPC request, using the supplied JSON decode and
  encode functions.</p>
</div></div>
<div class="function">
<h3 id="handle/1-1">handle(Req::term(), HandlerFun::handlerfun(), MapFun::mapfun(), JsonDecode::function(), JsonEncode::function()) -&gt; noreply | {reply, term()}</h3>


<div class="description">

<p>Handles a raw JSON-RPC request, using the supplied JSON decode and
  encode functions and a custom map function.</p>
</div></div>
<div class="function">
<h3 id="handle/1-2">handle(Req::json(), HandlerFun::handlerfun()) -&gt; response()</h3>


<div class="description">

<p>Handles the requests using the handler function. Batch requests are
  handled sequentially. Since this module doesn't handle the JSON encoding and
  decoding, the request must be JSON decoded before passing it to this
  function. Likewise, if a reply is returned, it should be JSON encoded before
  sending it to the client.</p>
</div></div>
<div class="function">
<h3 id="handle/1-3">handle(Req::json(), HandlerFun::handlerfun(), MapFun::mapfun()) -&gt; response()</h3>


<div class="description">

<p>Handles the requests using the handler function and a custom map
  function for batch requests. The map function should be compatible with
  lists:map/2. This is useful for concurrent processing of batch requests.</p>
</div></div>
<div class="function">
<h3 id="parseerror/0">parseerror() -&gt; json()</h3>


<div class="description">

<p>Returns a jsonrpc2 parse error response.</p>
 
  <p>This function can be used to manually create a JSON-SPC error response, for
  the case when the client sends invalid JSON. This function is exported for
  completeness, since the JSON encoding and decoding is not handled by this
  module.</p>
</div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
