<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>peculium_core_protocol_utilities (peculium_core) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>peculium_core_protocol_utilities</h1>
<h2 class="modsummary">Bitcoin Protocol Utilities.</h2>
<div class="description">
<p>Bitcoin Protocol Utilities.
   This module contains utilities used in the Bitcoin protocol encoder and
   decoder.</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-checksum">checksum() = <a href="peculium_core_types.html#type-checksum" class="seealso">peculium_core_types:checksum()</a></h3></div>
    <div class="type"><h3 id="type-command">command() = <a href="peculium_core_types.html#type-command" class="seealso">peculium_core_types:command()</a></h3></div>
    <div class="type"><h3 id="type-dynamic_vector_decode_fun">dynamic_vector_decode_fun() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fun((Data :: binary()) -><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ok, Item :: any(), Rest :: binary()} | {error, any()})</h3></div>
    <div class="type"><h3 id="type-inv_integer">inv_integer() = <a href="peculium_core_types.html#type-inv_integer" class="seealso">peculium_core_types:inv_integer()</a></h3></div>
    <div class="type"><h3 id="type-inv_type">inv_type() = <a href="peculium_core_types.html#type-inv_type" class="seealso">peculium_core_types:inv_type()</a></h3></div>
    <div class="type"><h3 id="type-vector_decode_fun">vector_decode_fun() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fun((Data :: binary()) -> {ok, Item :: any()} | {error, any()})</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="checksum/1">checksum(Data::iolist()) -&gt; checksum()</h3>


<div class="description">

<p>Returns the first four bytes of the double SHA256 checksum of the given Data.</p>
</div></div>
<div class="function">
<h3 id="inv_to_atom/1">inv_to_atom(InvInteger::integer()) -&gt; {ok, inv_type()} | {error, any()}</h3>


<div class="description">

<p>Returns an inv atom from a given integer.</p>
</div></div>
<div class="function">
<h3 id="atom_to_inv/1">atom_to_inv(Inv::inv_type()) -&gt; {ok, inv_integer()} | {error, any()}</h3>


<div class="description">

<p>Returns an integer from a given inv type.</p>
</div></div>
<div class="function">
<h3 id="command_to_atom/1">command_to_atom(Command::binary()) -&gt; {ok, command()} | {error, any()}</h3>


<div class="description">

<p>Returns a command atom from a given binary.</p>
</div></div>
<div class="function">
<h3 id="decode_vector/1">decode_vector(Data::binary(), ItemSize::non_neg_integer(), ItemDecodeFun::vector_decode_fun()) -&gt; {ok, [any()], binary()} | {error, any()}</h3>


<div class="description">

<p>Decode a vector where the size of each item is known.</p>
</div></div>
<div class="function">
<h3 id="decode_dynamic_vector/1">decode_dynamic_vector(Data::binary(), ItemCount::non_neg_integer(), ItemDecodeFun::dynamic_vector_decode_fun()) -&gt; {ok, [any()], binary()} | {error, any()}</h3>


<div class="description">

<p>Decode a vector where the size of each item is unknown.  
The Bitcoin protocol uses vectors where each element size is unknown until  
the time of item decoding.</p>
 
  <p>This function takes a decode function that consumes the bytes needed to
  decode an item and returns the decoded item together with the rest of the
  bytes. This is applied recursively to the remaining bytes until we have
  decoded <code>ItemCount</code> number of items or if an error occurs.</p>
</div></div></div>

<authors>

<aname>Alexander Færøy</aname>
<email>ahf@0x90.dk</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
