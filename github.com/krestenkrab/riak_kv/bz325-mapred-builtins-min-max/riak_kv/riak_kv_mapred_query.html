<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>riak_kv_mapred_query (riak_kv) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>riak_kv_mapred_query</h1>
<h2 class="modsummary">riak_kv_mapred_query is the driver of a mapreduce query.</h2>
<div class="description">
<p>riak_kv_mapred_query is the driver of a mapreduce query.</p>
 
       <p>Map phases are expected to have inputs of the form       
[{Bucket,Key}] or [{{Bucket,Key},KeyData}] (the first form is       
equivalent to [{{Bucket,Key},undefined}]) and will execute       
with locality to each key and must return a list that is valid       
input to the next phase</p>
 
       <p>Reduce phases take any list, but the function must be       
commutative and associative, and the next phase will block       
until the reduce phase is entirely done, and the reduce fun       
must return a list that is valid input to the next phase</p>
 
       <p>Valid terms for Query:
 </p><list>
 <item><p>  {link, Bucket, Tag, Acc}</p></item>
 <item><p>  {map, FunTerm, Arg, Acc}</p></item>
 <item><p>  {reduce, FunTerm, Arg, Acc}</p></item>
 </list><p>
       where FunTerm is one of:
  </p><list>
 <item><p>  {modfun, Mod, Fun} : Mod and Fun both atoms -&gt;
          Mod:Fun(Object,KeyData,Arg)</p></item>
 <item><p>  {qfun, Fun} : Fun is an actual fun -&gt;
          Fun(Object,KeyData,Arg)</p></item>
 </list></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-mapred_funterm">mapred_funterm() = {modfun, Module::atom(), Function::atom()} | {qfun, function()}</h3></div>
    <div class="type"><h3 id="type-mapred_queryterm">mapred_queryterm() = {map, mapred_funterm(), Arg::term(), Accumulate::boolean()} | {reduce, mapred_funterm(), Arg::term(), Accumulate::boolean()} | {link, Bucket::bucket() (see module riak_object), Tag::term(), Accumulate::boolean()}</h3></div>
    <div class="type"><h3 id="type-mapred_result">mapred_result() = [term()]</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="start/6">start(Node, Client, ReqId, Query0, ResultTransformer, Timeout) -&gt; term()
</h3>


<div class="description">
 </div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
