<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>erod_document (erod) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>erod_document</h1>
<h2 class="modsummary">TODO: Document module erod_document.</h2>
<div class="description">
<p>TODO: Document module erod_document.</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-document">document() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#erod_document{key = undefined | <a href="erod.html#type-key" class="seealso">erod:key()</a>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mod = undefined | module(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sub = undefined | term(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;content = undefined | term(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;children = undefined | <a href="#type-emap" class="seealso">emap()</a>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;verlog = undefined | <a href="#type-verlog" class="seealso">verlog()</a>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;views = undefined | <a href="#type-emap" class="seealso">emap()</a>}</h3></div>
    <div class="type"><h3 id="type-emap">emap() = <a href="erodlib.html#type-emap" class="seealso">erodlib:emap()</a></h3></div>
    <div class="type"><h3 id="type-verlog">verlog() = <a href="erod_document_verlog.html#type-verlog" class="seealso">erod_document_verlog:verlog()</a></h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="new/3">new(DocKey, Module, Options) -&gt; Document | {error, Reason}</h3>

<ul class="type">
<li><code>DocKey = key() (see module erod)</code></li><li><code>Module = module()</code></li><li><code>Options = list()</code></li><li><code>Document = document()</code></li><li><code>Reason = term()</code></li></ul>
<div class="description">

<p>Creates a new document with specified key, callback module and options.</p>
</div></div>
<div class="function">
<h3 id="key/1">key(Document) -&gt; DocKey</h3>

<ul class="type">
<li><code>Document = document()</code></li><li><code>DocKey = key() (see module erod)</code></li></ul>
<div class="description">

<p>Gives the document's key.</p>
</div></div>
<div class="function">
<h3 id="get_content/2">get_content(FromVer, Document) -&gt; unchanged | Content</h3>

<ul class="type">
<li><code>FromVer = version() (see module erod)</code></li><li><code>Document = document()</code></li><li><code>Content = content() (see module erod)</code></li></ul>
<div class="description">

<p>Gives the document's content.</p>
 
  <p>If the specified version is undefined or not found in the history
  the returned content's type will be 'entity' and contains the full
  content. If the specified version is found in the history,
  the returned content's type will be 'patch' and contains a cumulative
  patch to get to the last version from the specified version.
  If the content did not change since the specified version
  'unchanged' is returned.</p>
</div></div>
<div class="function">
<h3 id="get_children/4">get_children(ViewId, PageId, FromVer, Document) -&gt; unchanged | Content | {error, Reason}</h3>

<ul class="type">
<li><code>ViewId = view_id() (see module erod)</code></li><li><code>PageId = page_id() (see module erod)</code></li><li><code>FromVer = version() (see module erod)</code></li><li><code>Document = document()</code></li><li><code>Content = content() (see module erod)</code></li><li><code>Reason = view_not_found | page_not_found | term()</code></li></ul>
<div class="description">

<p>Gives a page of document's children for a specified view.</p>
 
  <p>If the specified version is undefined or not found in the history
  the returned content's type will be 'entity' and contains the full
  content. If the specified version is found in the history,
  the returned content's type will be 'patch' and contains a cumulative
  patch to get to the last version from the specified version.
  If the content did not change since the specified version
  'unchanged' is returned.</p>
</div></div>
<div class="function">
<h3 id="patch_content/2">patch_content(Patch, Erod_document) -&gt; term()
</h3>


<div class="description">

<p>Patches the document's content.</p>
</div></div>
<div class="function">
<h3 id="patch_content/3">patch_content(RefVer, Patch, Doc) -&gt; term()
</h3>


<div class="description">

<p>Patches the document's content if at specified version.</p>
</div></div>
<div class="function">
<h3 id="add_child/2">add_child(Child, Doc) -&gt; term()
</h3>


<div class="description">

<p>Adds a child to the document.</p>
</div></div>
<div class="function">
<h3 id="reply/2">reply(From, Reply) -&gt; ok</h3>

<ul class="type">
<li><code>From = {pid(), reference()}</code></li><li><code>Reply = term()</code></li></ul>
<div class="description">

<p>Reply to a synchronous call made to a document.</p>
</div></div></div>

<authors>

<aname>Sebastien Merle</aname>
<email>s.merle@gmail.com</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
