<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>amqp_channel (amqp_client) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>amqp_channel</h1>
<h2 class="modsummary">This module encapsulates the client's view of an AMQP channel.</h2>
<div class="description">
<p>This module encapsulates the client's view of an AMQP channel. Each
  server side channel is represented by an amqp_channel process on the client
  side. Channel processes are created using the <a href="amqp_connection.html" class="seealso">amqp_connection</a>
  module, but channels are respsonsible for closing themselves. Channel
  processes are linked to the connnection process from which they were
  created.</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-amqp_command">amqp_command()</h3></div>
    <div class="type"><h3 id="type-consume">consume() = #'basic.consume'{}</h3></div>
    <div class="type"><h3 id="type-content">content() = #'basic.publish'{} | #'basic.deliver'{} | #'basic.return'{}</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="call/2">call(Channel, Method::amqp_command()) -&gt; amqp_command()</h3>

<ul class="type">
<li><code>Channel = pid()</code></li></ul>
<div class="description">

<p>This is a generic RPC mechanism that sends an AMQP command and
  receives an AMQP command as a response. This function blocks until the
  response is returned.</p>
</div></div>
<div class="function">
<h3 id="call/2-1">call(Channel, Method::amqp_command(), Content::content()) -&gt; ok | blocked | closing</h3>

<ul class="type">
<li><code>Channel = pid()</code></li></ul>
<div class="description">

<p>This sends an AMQP command with content and waits for a synchronous
  response. Generally this is used with the #basic.publish{} command.
  This will return a blocked atom if either the server has throttled the
  client for flow control reasons or if the channel is shutting down due to a
  broker initiated close.
  It will return a closing atom if the channel is in the process of shutting
  down.
  Note that the synchronicity only means that the client has transmitted the
  command to the broker. It does not imply that the broker has accepted
  responsibility for the message. To acheive guaranteed delivery, this
  function would have to be called within the context of a transaction.</p>
</div></div>
<div class="function">
<h3 id="cast/2">cast(Channel, Method::amqp_command()) -&gt; ok</h3>


<div class="description">

<p>Asynchronous variant of <a href="#call/2" class="seealso">call/2</a></p>
</div></div>
<div class="function">
<h3 id="cast/2-1">cast(Channel, Method::amqp_command(), Content::content()) -&gt; ok</h3>


<div class="description">

<p>Asynchronous variant of <a href="#call/3" class="seealso">call/3</a></p>
</div></div>
<div class="function">
<h3 id="close/1">close(Channel) -&gt; ok</h3>

<ul class="type">
<li><code>Channel = pid()</code></li></ul>
<div class="description">

<p>Closes the channel, invokes close(Channel, 200, &lt;&lt;"Goodbye"&gt;&gt;).</p>
</div></div>
<div class="function">
<h3 id="close/3">close(Channel, Code, Text) -&gt; ok</h3>

<ul class="type">
<li><code>Channel = pid()</code></li><li><code>Code = integer()</code></li><li><code>Text = binary()</code></li></ul>
<div class="description">

<p>Closes the channel, allowing the caller to supply a reply code and
  text.</p>
</div></div>
<div class="function">
<h3 id="subscribe/2">subscribe(Channel, BasicConsume::consume(), Consumer) -&gt; amqp_command()</h3>

<ul class="type">
<li><code>Channel = pid()</code></li><li><code>Consumer = pid()</code></li></ul>
<div class="description">

<p>Creates a subscription to a queue. This subscribes a consumer pid to
  the queue defined in the #'basic.consume'{} command record. Note that both
  both the process invoking this method and the supplied consumer process
  receive an acknowledgement of the subscription. The calling process will
  receive the acknowledgement as the return value of this function, whereas
  the consumer process will receive the notification asynchronously.</p>
</div></div>
<div class="function">
<h3 id="register_return_handler/2">register_return_handler(Channel, ReturnHandler) -&gt; ok</h3>

<ul class="type">
<li><code>Channel = pid()</code></li><li><code>ReturnHandler = pid()</code></li></ul>
<div class="description">

<p>This registers a handler to deal with returned messages. The
  registered process will receive #basic.return{} commands.</p>
</div></div>
<div class="function">
<h3 id="register_flow_handler/2">register_flow_handler(Channel, FlowHandler) -&gt; ok</h3>

<ul class="type">
<li><code>Channel = pid()</code></li><li><code>FlowHandler = pid()</code></li></ul>
<div class="description">

<p>This registers a handler to deal with channel flow notifications.
  The registered process will receive #channel.flow{} commands.</p>
</div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
