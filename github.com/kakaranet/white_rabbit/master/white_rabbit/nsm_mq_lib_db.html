<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>nsm_mq_lib_db (white_rabbit) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>nsm_mq_lib_db</h1>
<h2 class="modsummary"/>
<div class="description">
</div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-channel_pid">channel_pid() = pid()</h3></div>
    <div class="type"><h3 id="type-envelope">envelope() = #envelope{}</h3></div>
    <div class="type"><h3 id="type-handler_response">handler_response() = ok | reject</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="start_publisher/0">start_publisher() -&gt; {ok, channel_pid()} | {error, any()}</h3>


<div class="description">

<p>Init publisher channel</p>
</div></div>
<div class="function">
<h3 id="stop_publisher/1">stop_publisher(Channel::channel_pid()) -&gt; ok</h3>


<div class="description">

<p>Close publisher channel</p>
</div></div>
<div class="function">
<h3 id="write/1">write(Ch::channel_pid(), Data::term()) -&gt; ok</h3>


<div class="description">

<p>Publish put request db exchange with collective routing key. Any worker
  can process request.</p>
</div></div>
<div class="function">
<h3 id="seq_write/1">seq_write(Ch::channel_pid(), Data::term()) -&gt; ok</h3>


<div class="description">

<p>Publish put request to special queue with one exclusive consumer.
  Operations will be performed in published order.</p>
</div></div>
<div class="function">
<h3 id="dirty_write/1">dirty_write(Ch::channel_pid(), Data::term()) -&gt; ok</h3>


<div class="description">

<p>Publish non persistent put request with collective routing key</p>
</div></div>
<div class="function">
<h3 id="start_worker/0">start_worker() -&gt; {ok, channel_pid()}</h3>


<div class="description">

<p>Init consumer to process db requests. For now must be one worker per
  node, because worker will process both sequential and not sequential messages
  Worker can be also used for 'put' requests. For only put requests, use
  init_publisher/0.</p>
</div></div>
<div class="function">
<h3 id="stop_worker/1">stop_worker(Ch::channel_pid()) -&gt; ok</h3>


<div class="description">

<p>Stop worker. Just close channel.</p>
</div></div>
<div class="function">
<h3 id="seq_queue_name/1">seq_queue_name(Node::string()) -&gt; string()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="seq_routing_key/1">seq_routing_key(NodeName::string()) -&gt; string()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="write_requests_handler/1">write_requests_handler(Envelope::envelope(), State::any()) -&gt; handler_response()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="put/1">put(Data) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_data/1">get_data(Key) -&gt; term()
</h3>


<div class="description">
 </div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
