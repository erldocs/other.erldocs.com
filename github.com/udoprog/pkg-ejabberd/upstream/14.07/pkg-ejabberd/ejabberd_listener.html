<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>ejabberd_listener (pkg-ejabberd) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>ejabberd_listener</h1>
<h2 class="modsummary"/>
<div class="description">
</div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-port_ip_transport">port_ip_transport() = <a href="inet.html#type-port_number" class="seealso">inet:port_number()</a><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| {<a href="inet.html#type-port_number" class="seealso">inet:port_number()</a>, <a href="#type-transport" class="seealso">transport()</a>}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| {<a href="inet.html#type-port_number" class="seealso">inet:port_number()</a>, <a href="inet.html#type-ip_address" class="seealso">inet:ip_address()</a>}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| {<a href="inet.html#type-port_number" class="seealso">inet:port_number()</a>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="inet.html#type-ip_address" class="seealso">inet:ip_address()</a>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#type-transport" class="seealso">transport()</a>}</h3></div>
    <div class="type"><h3 id="type-transport">transport() = udp | tcp</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="start_link/0">start_link() -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="init/1">init(X1) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="start_listeners/0">start_listeners() -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="start/3">start(Port, Module, Opts) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="init/3">init(PortIP, Module, RawOpts) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="parse_listener_portip/2">parse_listener_portip(PortIP, Opts) -&gt; {Port, IPT, IPS, IPV, OptsClean}</h3>

<ul class="type">
<li><code>PortIP = Port | {Port, IPT | IPS}</code></li><li><code>Port = integer()</code></li><li><code>IPT = tuple()</code></li><li><code>IPS = string()</code></li><li><code>IPV = inet | inet6</code></li><li><code>Opts = [IPV | {ip, IPT} | atom() | tuple()]</code></li><li><code>OptsClean = [atom() | tuple()]</code></li></ul>
<div class="description">

<p>Parse any kind of ejabberd listener specification.
  The parsed options are returned in several formats.
  OptsClean does not include inet/inet6 or ip options.
  Opts can include the options inet6 and {ip, Tuple},
  but they are only used when no IP address was specified in the PortIP.
  The IP version (either IPv4 or IPv6) is inferred from the IP address type,
  so the option inet/inet6 is only used when no IP is specified at all.</p>
</div></div>
<div class="function">
<h3 id="start_listener/3">start_listener(Port, Module, Opts) -&gt; {ok, Pid} | {error, Error}</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="stop_listeners/0">stop_listeners() -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="stop_listener/2">stop_listener(PortIP, Module) -&gt; ok</h3>

<ul class="type">
<li><code>PortIP = {Port, IPT | IPS}</code></li><li><code>Port = integer()</code></li><li><code>IPT = tuple()</code></li><li><code>IPS = string()</code></li><li><code>Module = atom()</code></li></ul>
<div class="description">
 </div></div>
<div class="function">
<h3 id="add_listener/3">add_listener(PortIP, Module, Opts) -&gt; {ok, Pid} | {error, Error}</h3>

<ul class="type">
<li><code>PortIP = {Port, IPT | IPS}</code></li><li><code>Port = integer()</code></li><li><code>IPT = tuple()</code></li><li><code>IPS = string()</code></li><li><code>IPV = inet | inet6</code></li><li><code>Module = atom()</code></li><li><code>Opts = [IPV | {ip, IPT} | atom() | tuple()]</code></li></ul>
<div class="description">

<p>Add a listener and store in config if success</p>
</div></div>
<div class="function">
<h3 id="delete_listener/2">delete_listener(PortIP, Module) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="transform_options/1">transform_options(Opts) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="validate_cfg/1">validate_cfg(L::list()) -&gt; [{port_ip_transport(), module(), list()}]</h3>


<div class="description">
 </div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
