<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>crdt_rga (floppystore) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>crdt_rga</h1>
<h2 class="modsummary">.</h2>
<div class="description">
<p>An operation-based Replicated Growable Array CRDT.</p>
 
  <p>As the data structure is operation-based, to issue an operation, one should
  first call <code>generate_downstream/3</code>, to get the downstream version of the
  operation, and then call <code>update/2</code>.</p>
 
  <p>It provides two operations: addRight, which adds an element to the RGA, and remove,  
which removes an element from the RGA.</p>
 
  <p>This implementation is based on the paper cited below.
 </p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-actor">actor() = <a href="riak_dt.html#type-actor" class="seealso">riak_dt:actor()</a></h3></div>
    <div class="type"><h3 id="type-rga">rga() = [<a href="#type-vertex" class="seealso">vertex()</a>]</h3></div>
    <div class="type"><h3 id="type-rga_downstream_op">rga_downstream_op() = {addRight, <a href="#type-vertex" class="seealso">vertex()</a>, <a href="#type-vertex" class="seealso">vertex()</a>}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| {remove, {ok, any(), number()}}</h3></div>
    <div class="type"><h3 id="type-rga_op">rga_op() = {addRight, any(), integer() >= 0}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| {remove, integer() >= 0}</h3></div>
    <div class="type"><h3 id="type-rga_result">rga_result() = {ok, <a href="#type-rga" class="seealso">rga()</a>}</h3></div>
    <div class="type"><h3 id="type-vertex">vertex() = {ok | deleted, any(), number()}</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="new/0">new() -&gt; []</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="generate_downstream/1">generate_downstream(X1::rga_op(), Actor::actor(), Rga::rga()) -&gt; {ok, rga_downstream_op()} | {error, {invalid_position, number()}}</h3>


<div class="description">

<p>generate downstream operations.
  If the operation is addRight, generates a unique token for the new element.
  If the operation is remove, fetches the vertex of the element to be removed.</p>
</div></div>
<div class="function">
<h3 id="value/1">value(Rga::rga()) -&gt; rga()</h3>


<div class="description">

<p>given an RGA, returns the same RGA, as it represents its own value.</p>
</div></div>
<div class="function">
<h3 id="update/1">update(X1::rga_downstream_op(), Rga::rga()) -&gt; rga_result()</h3>


<div class="description">

<p>This method takes in an rga operation and an rga to perform the operation.
  It returns either the added Vertex and the new rga in case of an addRight, and the new rga in the case of a remove.</p>
</div></div>
<div class="function">
<h3 id="purge_tombstones/1">purge_tombstones(Rga::rga()) -&gt; rga_result()</h3>


<div class="description">

<p>given an rga, this mehtod looks for all tombstones and removes them, returning the tombstone free rga.</p>
</div></div>
<div class="function">
<h3 id="is_operation/1">is_operation(Operation::term()) -&gt; boolean()</h3>


<div class="description">

<p>The following operation verifies that Operation is supported by this particular CRDT.</p>
</div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
