<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>riak_kv_get_put_monitor (riak_kv) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>riak_kv_get_put_monitor</h1>
<h2 class="modsummary">Monitor reporting processes and notify folsom about live and error  
exits.</h2>
<div class="description">
<p>Monitor reporting processes and notify folsom about live and error  
exits. It is up to the fsm to report it's existence to the monitor. If this  
module exits unexpectadly, the stats in folsom are not lost; a clean exit  
will reset the stats.</p>
 
  <p>The stat names are all 4 element tuples, the first two elements being  
'riak_kv', then the local node. The third is either 'get' or 'put' depending  
on if the fsm reporting in was for a get or a put action.  The final element  
is either 'active' or 'errors'.</p>
 
  <p>The 'active' is a simple counter reporting the number of get or put fsm's
  currently alive.  'errors' is a spiral for all fsm's that exited with a
  reason other than normal or shutdown.</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-metric">metric() = {riak_kv, node, puts | gets, active | errors}</h3></div>
    <div class="type"><h3 id="type-spiral_value">spiral_value() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[{counter, integer() >= 0} | {one, integer() >= 0}]</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="start_link/0">start_link() -&gt; {ok, pid()}</h3>


<div class="description">

<p>Starts the monitor service.</p>
</div></div>
<div class="function">
<h3 id="stop/0">stop() -&gt; ok</h3>


<div class="description">

<p>Stops the service with reason 'normal'</p>
</div></div>
<div class="function">
<h3 id="get_fsm_spawned/1">get_fsm_spawned(Pid::pid()) -&gt; ok</h3>


<div class="description">

<p>Begin monitoring the passed pid and tag its stats for a get fsm.</p>
</div></div>
<div class="function">
<h3 id="put_fsm_spawned/1">put_fsm_spawned(Pid::pid()) -&gt; ok</h3>


<div class="description">

<p>Begin monitoring the passed pid and tag its stats for a put fsm.</p>
</div></div>
<div class="function">
<h3 id="all_stats/0">all_stats() -&gt; [{metric(), non_neg_integer() | spiral_value()}]</h3>


<div class="description">

<p>Get a proplist of all the stats tracked thus far.</p>
</div></div>
<div class="function">
<h3 id="gets_active/0">gets_active() -&gt; non_neg_integer()</h3>


<div class="description">
 </div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
