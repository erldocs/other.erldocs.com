<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>espotify_api (espotify) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>espotify_api</h1>
<h2 class="modsummary">The libspotify Erlang Interface.</h2>
<div class="description">
<p>The libspotify Erlang Interface.</p>
 
  <p><em>Callback messages</em></p><p> Many calls will at some point in time an  
asynchronous callback message. For this purpose, the start/5  
function has a pid() argument, and a set_pid/1 function is provided  
to later change the callback pid.</p>
 
  <p>Functions that return their actual result asynchronously, return a
  <code>{ok, reference()}</code> as result. This reference can later be  
used to identify the callback message.</p>
 
  <p>Callback messages are tagged tuples of the form
  </p><pre class="sh_erlang">{'$spotify_callback', CallbackName::atom(), term()}</pre><p>
  Where CallbackName is an atom named after the function that
  triggered the message; and term is a result term.  The term is
  usually a <code>{ok, {reference(), Result}}</code> tuple, where the
  reference corresponds to the reference returned earlier.
 </p></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="start/1">start(CallbackPid::pid(), CacheLocation::string(), SettingsLocation::string(), Username::string(), Password::string()) -&gt; ok | {error, already_started}</h3>


<div class="description">

<p>Login to Spotify and start the main event loop. Only one  
Spotify session per VM is supported; this is a limitation of  
libspotify. The pid given will receive callback messages.</p>
 
  <p>On successful login, a message </p><pre class="sh_erlang">{'$spotify_callback', logged_in, {ok, espotify:sp_user()}} </pre><p> will be sent back.
 </p>
<p><em>See also:</em> <a href="espotify.html#type-sp_user" class="seealso">espotify:sp_user()</a>.</p>
</div></div>
<div class="function">
<h3 id="stop/0">stop() -&gt; ok | {error, not_started}</h3>


<div class="description">

<p>Stop the main loop. No espotify commands can be called after
  this.</p>
</div></div>
<div class="function">
<h3 id="set_pid/1">set_pid(X1) -&gt; term()
</h3>


<div class="description">

<p>Set the callback process id.</p>
</div></div>
<div class="function">
<h3 id="player_load/1">player_load(Track::string()) -&gt; loading | ok</h3>


<div class="description">

<p>Load a track into the player for playback. <code>ok</code> will be
  returned when the track was loaded immediately into the
  player. When the track did not came from the cache, the atom
  <code>loading</code> is returned, in this case you need to wait for the
  message </p><pre class="sh_erlang">{'$spotify_callback', player_load, loaded}</pre><p>
  before attempting to play the track.</p>
</div></div>
<div class="function">
<h3 id="player_prefetch/1">player_prefetch(Track) -&gt; term()
</h3>


<div class="description">

<p>Start prefetching the audio data for a track so it is cached for playback.</p>
</div></div>
<div class="function">
<h3 id="player_play/1">player_play(Play::boolean()) -&gt; ok | {error, term()}</h3>


<div class="description">

<p>Toggle the play state of the currently loaded track.</p>
</div></div>
<div class="function">
<h3 id="player_seek/1">player_seek(Offset::non_neg_integer()) -&gt; ok | {error, term()}</h3>


<div class="description">

<p>Seek to position in the currently loaded track. The track offset is given in milliseconds.</p>
</div></div>
<div class="function">
<h3 id="player_unload/0">player_unload() -&gt; ok | {error, term()}</h3>


<div class="description">

<p>Stops the currently playing track.</p>
</div></div>
<div class="function">
<h3 id="player_current_track/0">player_current_track() -&gt; sp_track() (see module espotify) | undefined</h3>


<div class="description">

<p>Returns the currently playing track.</p>
</div></div>
<div class="function">
<h3 id="track_info/1">track_info(X1::string()) -&gt; {ok, reference()}</h3>


<div class="description">

<p>Get information about a single track. This call is  
asynchronous and returns a reference object. The async callback  
will include the same reference value so it can be mapped back.</p>
 
  <p>Format of the callback structure:
  </p><pre class="sh_erlang">{'$spotify_callback', track_info, {ok, {reference(), espotify:sp_track()}}} </pre><p>
 </p>
<p><em>See also:</em> <a href="espotify.html#type-sp_track" class="seealso">espotify:sp_track()</a>.</p>
</div></div>
<div class="function">
<h3 id="browse_album/1">browse_album(X1::string()) -&gt; {ok, reference()}</h3>


<div class="description">

<p>Browse information about an album, asynchronously.</p>
 
  <pre class="sh_erlang">{'$spotify_callback', browse_album, {ok, {reference(), espotify:sp_albumbrowse()}}} </pre><p>
 </p>
<p><em>See also:</em> <a href="espotify.html#type-sp_albumbrowse" class="seealso">espotify:sp_albumbrowse()</a>.</p>
</div></div>
<div class="function">
<h3 id="browse_artist/1">browse_artist(X1::string(), X2::full | no_tracks | no_albums) -&gt; {ok, reference()}</h3>


<div class="description">

<p>Browse information about an artist, asynchronously.</p>
 
  <pre class="sh_erlang">{'$spotify_callback', browse_artist, {ok, {reference(), espotify:sp_artistbrowse()}}} </pre><p>
 </p>
<p><em>See also:</em> <a href="espotify.html#type-sp_artistbrowse" class="seealso">espotify:sp_artistbrowse()</a>.</p>
</div></div>
<div class="function">
<h3 id="load_image/1">load_image(X1::string()) -&gt; {ok, reference()}</h3>


<div class="description">

<p>Load image from link, asynchronously</p>
 
  <pre class="sh_erlang">{'$spotify_callback', load_image, {ok, {reference(), espotify:sp_image()}}} </pre><p>
 </p>
<p><em>See also:</em> <a href="espotify.html#type-sp_image" class="seealso">espotify:sp_image()</a>.</p>
</div></div>
<div class="function">
<h3 id="search/1">search(X1::sp_search_query() (see module espotify)) -&gt; {ok, reference()}</h3>


<div class="description">

<p>Do a search request</p>
 
  <pre class="sh_erlang">{'$spotify_callback', search, {ok, {reference(), espotify:sp_search_result()}}} </pre><p>
 </p>
<p><em>See also:</em> <a href="espotify.html#type-sp_search_result" class="seealso">espotify:sp_search_result()</a>.</p>
</div></div>
<div class="function">
<h3 id="load_playlistcontainer/0">load_playlistcontainer() -&gt; {ok, reference()}</h3>


<div class="description">

<p>Load the playlist container of the current user.</p>
 
  <pre class="sh_erlang">{'$spotify_callback', load_playlistcontainer, {ok, {reference(), espotify:sp_playlistcontainer()}}} </pre><p>
 </p>
<p><em>See also:</em> <a href="espotify.html#type-sp_playlistcontainer" class="seealso">espotify:sp_playlistcontainer()</a>.</p>
</div></div>
<div class="function">
<h3 id="load_user_playlistcontainer/1">load_user_playlistcontainer(X1::string()) -&gt; {ok, reference()}</h3>


<div class="description">

<p>Load the playlist container of a user (by canonical name)</p>
 
  <pre class="sh_erlang">{'$spotify_callback', load_playlistcontainer, {ok, {reference(), espotify:sp_playlistcontainer()}}} </pre><p>
 </p>
<p><em>See also:</em> <a href="espotify.html#type-sp_playlistcontainer" class="seealso">espotify:sp_playlistcontainer()</a>.</p>
</div></div>
<div class="function">
<h3 id="load_playlist/1">load_playlist(X1::string()) -&gt; {ok, reference()}</h3>


<div class="description">

<p>Load given playlist.</p>
 
  <pre class="sh_erlang">{'$spotify_callback', load_playlist, {ok, {reference(), espotify:sp_playlist()}}} </pre><p>
 </p>
<p><em>See also:</em> <a href="espotify.html#type-sp_playlist" class="seealso">espotify:sp_playlist()</a>.</p>
</div></div>
<div class="function">
<h3 id="debug/0">debug() -&gt; term()
</h3>


<div class="description">
 </div></div></div>

<authors>

<aname>Arjan Scherpenisse</aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
