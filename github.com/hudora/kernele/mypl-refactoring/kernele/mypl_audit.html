<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>mypl_audit (kernele) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>mypl_audit</h1>
<h2 class="modsummary">audit log for myPL/kernel-E.</h2>
<div class="description">
<p>audit log for myPL/kernel-E</p>
 
  <p>This implements a audit log for all changes in inventory and for all movements of Units/NVEs/SSCCs.  
articleaudit documents changes in inventory whereas unitaudit documents all movements.</p>
 
  <p>kernel-E saves two kind of audit logs: changes of stock of inventory and  
creation, movement and removal of Units/MUIs/NVEs. It is expected that  
higher layers implement their own logging and that kernel-E logs are only  
used for debugging.</p>
 
  <p>The stock of inventory audit log (called "articleaudit") saves (quantity,  
product date) and possibly additional references. By consulting the  
articleaudit log we should always be able to calculate the current amount  
of goods in stock. All operations changing stock of inventory are coupled  
with the generation of  articleaudit entries in an transaction and thus  
should succeed or fail always booth - even in the presence of software  
errors.</p>
 
  <p>The "unitaudit" log documents all creation, movement and disbandment of  
Units/MUIs/NVEs. Log entries contain a timestamp, the Unit-ID, the quantity  
and the product on the unit and possible additional references.</p>
 
  <p>After a very short delay the unitaudit data is written to a couchdb database
  and removed from kernelE See mypl_audit_transfer.erl
 </p></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="run_me_once/0">run_me_once() -&gt; ok</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_articleaudit/1">get_articleaudit(Product) -&gt; term()
</h3>


<div class="description">

<p>returns all audit records related to an article</p>
</div></div>
<div class="function">
<h3 id="get_articlecorrection/1">get_articlecorrection(Product) -&gt; term()
</h3>


<div class="description">

<p>returns a list of corrections for an article</p>
</div></div>
<div class="function">
<h3 id="get_unitaudit/1">get_unitaudit(Mui) -&gt; term()
</h3>


<div class="description">

<p>returns all audit recodes related to an Mui</p>
</div></div>
<div class="function">
<h3 id="unitaudit_mui/1">unitaudit_mui(Mui::nonempty_string(), Text::string()) -&gt; ok</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="unitaudit/1">unitaudit(Unit::unitRecord(), Text::string(), Transaction::string()) -&gt; {ok, atomic}</h3>


<div class="description">

<p>to be called whenever Units are moved in the warehouse.</p>
</div></div>
<div class="function">
<h3 id="unitaudit/1-1">unitaudit(Unit::unitRecord(), Text::string()) -&gt; {ok, atomic}</h3>


<div class="description">

<p>to be called whenever Units are moved in the warehouse.</p>
</div></div>
<div class="function">
<h3 id="kommiauftragaudit/1">kommiauftragaudit(Kommiauftrag::provpipelineRecord(), Text::string(), Transaction::string(), References::externalReferences()) -&gt; {ok, atomic}</h3>


<div class="description">

<p>to be called whenever Units are moved in the warehouse.</p>
</div></div>
<div class="function">
<h3 id="archive/1">archive(Object::tuple(), Archivaltype::atom()) -&gt; ok</h3>


<div class="description">

<p>archives an Unit, Movement, Pick when it is deleted.</p>
</div></div>
<div class="function">
<h3 id="get_from_archive/2">get_from_archive(Type, Id) -&gt; term()
</h3>


<div class="description">

<p>retrives the entry with type and id from the archive</p>
</div></div>
<div class="function">
<h3 id="get_recent_from_archive/1">get_recent_from_archive(Type) -&gt; term()
</h3>


<div class="description">
 </div></div></div>

<authors>

<aname>Maximillian Dornseif</aname>
<email>md@hudora.de</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
