<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>cowboy_dispatcher (pkg-erlang-cowboy) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>cowboy_dispatcher</h1>
<h2 class="modsummary">Dispatch requests according to a hostname and path.</h2>
<div class="description">
<p>Dispatch requests according to a hostname and path.</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-bindings">bindings() = [{atom(), binary()}]</h3></div>
    <div class="type"><h3 id="type-dispatch_path">dispatch_path() = [{<a href="#type-match_rule" class="seealso">match_rule()</a>, module(), any()}]</h3></div>
    <div class="type"><h3 id="type-dispatch_rule">dispatch_rule() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{Host :: <a href="#type-match_rule" class="seealso">match_rule()</a>, Path :: <a href="#type-dispatch_path" class="seealso">dispatch_path()</a>}</h3></div>
    <div class="type"><h3 id="type-dispatch_rules">dispatch_rules() = [<a href="#type-dispatch_rule" class="seealso">dispatch_rule()</a>]</h3></div>
    <div class="type"><h3 id="type-match_rule">match_rule() = '_' | '*' | [binary() | '_' | '...' | atom()]</h3></div>
    <div class="type"><h3 id="type-tokens">tokens() = [binary()]</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="split_host/1">split_host(Host::binary()) -&gt; {tokens(), binary(), undefined | ip_port() (see module inet)}</h3>


<div class="description">

<p>Split a hostname into a list of tokens.</p>
</div></div>
<div class="function">
<h3 id="split_path/1">split_path(Path::binary(), URLDec::(binary()) -&gt; binary()) -&gt; {tokens(), binary(), binary()}</h3>


<div class="description">

<p>Split a path into a list of path segments.</p>
 
  <p>Following RFC2396, this function may return path segments containing any
  character, including <em>/</em> if, and only if, a <em>/</em> was escaped
  and part of a path segment.</p>
</div></div>
<div class="function">
<h3 id="match/1">match(Host::tokens(), Path::tokens(), Tail::dispatch_rules()) -&gt; {ok, module(), any(), bindings(), HostInfo::undefined | tokens(), PathInfo::undefined | tokens()} | {error, notfound, host} | {error, notfound, path}</h3>


<div class="description">

<p>Match hostname tokens and path tokens against dispatch rules.</p>
 
  <p>It is typically used for matching tokens for the hostname and path of  
the request against a global dispatch rule for your listener.</p>
 
  <p>Dispatch rules are a list of <em>{Hostname, PathRules}</em> tuples, with
  <em>PathRules</em> being a list of <em>{Path, HandlerMod, HandlerOpts}</em>.</p>
 
  <p><em>Hostname</em> and <em>Path</em> are match rules and can be either the
  atom <em>'_'</em>, which matches everything for a single token, the atom
  <em>'*'</em>, which matches everything for the rest of the tokens, or a
  list of tokens. Each token can be either a binary, the atom <em>'_'</em>,
  the atom '...' or a named atom. A binary token must match exactly,
  <em>'_'</em> matches everything for a single token, <em>'...'</em> matches  
everything for the rest of the tokens and a named atom will bind the  
corresponding token value and return it.</p>
 
  <p>The list of hostname tokens is reversed before matching. For example, if
  we were to match "www.dev-extend.eu", we would first match "eu", then
  "dev-extend", then "www". This means that in the context of hostnames,
  the <em>'...'</em> atom matches properly the lower levels of the domain  
as would be expected.</p>
 
  <p>When a result is found, this function will return the handler module and
  options found in the dispatch list, a key-value list of bindings and
  the tokens that were matched by the <em>'...'</em> atom for both the
  hostname and path.</p>
</div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
