<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>dht_node_state (scalaxis) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>dht_node_state</h1>
<h2 class="modsummary">State of a dht_node.</h2>
<div class="description">
<p>State of a dht_node.</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-state">state()</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="new/1">new(RT::external_rt() (see module rt_chord), RMState::state() (see module rm_loop), DB::db() (see module db_ets)) -&gt; state()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get/1">get(State::state(), Key::rt) -&gt; external_rt() (see module rt_chord)</h3>


<div class="description">

<p>Gets the given property from the dht_node state.
       Allowed keys include:
       </p><list>
         <item><p>rt = routing table,</p></item>
         <item><p>rt_size = size of the routing table (provided for convenience),</p></item>
         <item><p>succlist = successor list,</p></item>
         <item><p>succ = successor (provided for convenience),</p></item>
         <item><p>succ_id = ID of the successor (provided for convenience),</p></item>
         <item><p>succ_pid = PID of the successor (provided for convenience),</p></item>
         <item><p>predlist = predecessor list,</p></item>
         <item><p>pred = predecessor (provided for convenience),</p></item>
         <item><p>pred_id = ID of the predecessor (provided for convenience),</p></item>
         <item><p>pred_pid = PID of the predecessor (provided for convenience),</p></item>
         <item><p>node = the own node,</p></item>
         <item><p>node_id = the ID of the own node (provided for convenience),</p></item>
         <item><p>my_range = the range of the own node,</p></item>
         <item><p>succ_range = the range of the successor,</p></item>
         <item><p>join_time = the time the node was created, i.e. joined the system,</p></item>
         <item><p>trans_log = transaction log,</p></item>
         <item><p>db = DB storing the items,</p></item>
         <item><p>tx_tp_db = transaction participant DB,</p></item>
         <item><p>proposer = paxos proposer PID,</p></item>
         <item><p>load = the load of the own node (provided for convenience).</p></item>
         <item><p>slide_pred = information about the node's current slide operation with its predecessor.</p></item>
         <item><p>slide_succ = information about the node's current slide operation with its successor.</p></item>
       </list><p>
       Beware of race conditions sing the neighborhood may have changed at
       the next call.</p>
</div></div>
<div class="function">
<h3 id="has_left/1">has_left(State::state()) -&gt; boolean()</h3>


<div class="description">

<p>Checks whether the current node has already left the ring, i.e. the has
       already changed his ID in order to leave or jump.</p>
</div></div>
<div class="function">
<h3 id="is_responsible/1">is_responsible(Key::key() (see module intervals), State::state()) -&gt; boolean()</h3>


<div class="description">

<p>Checks whether the given key is in the node's range, i.e. the node is
       responsible for this key.
       Beware of race conditions sing the neighborhood may have changed at
       the next call.</p>
</div></div>
<div class="function">
<h3 id="is_db_responsible/1">is_db_responsible(Key::key() (see module intervals), State::state()) -&gt; boolean()</h3>


<div class="description">

<p>Checks whether the node is responsible for the given key either by its
       current range or for a range the node is temporarily responsible for
       during a slide operation, i.e. we temporarily read/modify data a
       neighbor is responsible for but hasn't yet received the data from us.
       Beware of race conditions sing the neighborhood may have changed at
       the next call.</p>
</div></div>
<div class="function">
<h3 id="get_slide/1">get_slide(State::state(), MoveFullId::id() (see module slide_op)) -&gt; {Type::pred | succ, SlideOp::slide_op() (see module slide_op)} | not_found</h3>


<div class="description">

<p>Tries to find a slide operation with the given MoveFullId and returns
       it including its type (pred or succ) if successful and its pred/succ
       info is correct. Otherwise returns {fail, wrong_pred} if the
       predecessor info is wrong (slide with pred) and {fail, wrong_succ} if
       the successor info is wrong (slide with succ). If not found,
       {fail, not_found} is returned.</p>
</div></div>
<div class="function">
<h3 id="set_tx_tp_db/1">set_tx_tp_db(State::state(), NewTxTpDb::any()) -&gt; state()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="set_db/1">set_db(State::state(), NewDB::db() (see module db_ets)) -&gt; state()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="set_rt/1">set_rt(State::state(), NewRT::external_rt() (see module rt_chord)) -&gt; state()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="set_rm/1">set_rm(State::state(), NewRMState::state() (see module rm_loop)) -&gt; state()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="set_slide/1">set_slide(State::state(), X2::pred | succ, SlidePred::slide_op() (see module slide_op) | null) -&gt; state()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="add_db_range/1">add_db_range(State::state(), Interval::interval() (see module intervals), SlideId::id() (see module slide_op)) -&gt; state()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="rm_db_range/1">rm_db_range(State::state(), SlideId::id() (see module slide_op)) -&gt; state()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="add_bulkowner_reply_msg/1">add_bulkowner_reply_msg(State::state(), Id::global_uid() (see module util), Target::mypid() (see module comm), Msg::message() (see module comm), Parents::[mypid() (see module comm)]) -&gt; state()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="take_bulkowner_reply_msgs/1">take_bulkowner_reply_msgs(State::state()) -&gt; {state(), [{Id::global_uid() (see module util), Target::mypid() (see module comm), Msgs::[message() (see module comm)], Parents::[mypid() (see module comm)]}]}</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="get_bulkowner_reply_timer/1">get_bulkowner_reply_timer(State::state()) -&gt; null | reference()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="set_bulkowner_reply_timer/1">set_bulkowner_reply_timer(State::state(), Timer::null | reference()) -&gt; state()</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="dump/1">dump(State::state()) -&gt; ok</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="details/1">details(State::state(), Which::[node_details_name() (see module node_details)]) -&gt; node_details() (see module node_details)</h3>


<div class="description">

<p>Gets the requested details about the current node.</p>
</div></div>
<div class="function">
<h3 id="details/1-1">details(State::state()) -&gt; node_details() (see module node_details)</h3>


<div class="description">

<p>Gets the following details about the current node:
       predecessor and successor lists, the node itself, its load, hostname,
       routing table size, memory usage.</p>
</div></div></div>

<authors>

<aname>Thorsten Schuett</aname>
<email>schuett@zib.de</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
