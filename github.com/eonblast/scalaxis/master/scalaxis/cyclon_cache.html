<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>cyclon_cache (scalaxis) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>cyclon_cache</h1>
<h2 class="modsummary">Cyclon node cache implementation using a list.</h2>
<div class="description">
<p>Cyclon node cache implementation using a list.</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-age">age() = integer() &gt;= 0</h3></div>
    <div class="type"><h3 id="type-cache">cache() = [<a href="#type-element" class="seealso">element()</a>]</h3></div>
    <div class="type"><h3 id="type-element">element() = {<a href="node.html#type-node_type" class="seealso">node:node_type()</a>, <a href="#type-age" class="seealso">age()</a>}</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="new/0">new() -&gt; cache()</h3>


<div class="description">

<p>Creates a new and empty node cache.</p>
</div></div>
<div class="function">
<h3 id="new/1">new(Node1::node_type() (see module node), Node2::node_type() (see module node)) -&gt; cache()</h3>


<div class="description">

<p>Creates a new node cache with the given two nodes and ages 0.</p>
</div></div>
<div class="function">
<h3 id="size/1">size(Cache::cache()) -&gt; non_neg_integer()</h3>


<div class="description">

<p>Counts the number of Cache entries.</p>
</div></div>
<div class="function">
<h3 id="pop_random_node/1">pop_random_node(Cache::[Cache::element(), ...]) -&gt; {NewCache::cache(), PoppedNode::node_type() (see module node)}</h3>


<div class="description">

<p>Removes a random element from the (non-empty!) cache and returns the
       resulting cache and the removed node.</p>
</div></div>
<div class="function">
<h3 id="get_random_subset/1">get_random_subset(N::non_neg_integer(), Cache::cache()) -&gt; RandomSubset::cache()</h3>


<div class="description">

<p>Returns a random subset of N elements from the cache.</p>
</div></div>
<div class="function">
<h3 id="get_random_nodes/1">get_random_nodes(N::non_neg_integer(), Cache::cache()) -&gt; Nodes::[node_type() (see module node)]</h3>


<div class="description">

<p>Returns a random subset of N nodes from the cache.</p>
</div></div>
<div class="function">
<h3 id="pop_oldest_node/1">pop_oldest_node(Cache::cache()) -&gt; {NewCache::cache(), PoppedNode::node_type() (see module node)}</h3>


<div class="description">

<p>Finds the oldest element (randomized if multiple oldest elements) and
       removes it from the cache returning the new cache and this node.</p>
</div></div>
<div class="function">
<h3 id="inc_age/1">inc_age(Cache::cache()) -&gt; NewCache::cache()</h3>


<div class="description">

<p>Increases the age of every element in the cache by 1.</p>
</div></div>
<div class="function">
<h3 id="get_ages/1">get_ages(Cache::cache()) -&gt; Ages::[age()]</h3>


<div class="description">

<p>Returns the ages of all nodes in the cache.</p>
</div></div>
<div class="function">
<h3 id="get_nodes/1">get_nodes(Cache::cache()) -&gt; Nodes::[node_type() (see module node)]</h3>


<div class="description">

<p>Returns all nodes in the cache (without their ages).</p>
</div></div>
<div class="function">
<h3 id="merge/1">merge(MyCache::cache(), MyNode::node_type() (see module node), ReceivedCache::cache(), SendCache::cache(), TargetSize::pos_integer()) -&gt; NewCache::cache()</h3>


<div class="description">

<p>Merges MyCache at node MyNode with the ReceivedCache from another node
       to whom SendCache has been send. The final cache size will not extend
       TargetSize.
       This will discard received entries pointing at MyNode and entries
       already contained in MyCache, fill up empty slots in the cache with
       received entries and further replace elements in MyCache using
       replace/5.</p>
</div></div>
<div class="function">
<h3 id="add_node/1">add_node(Node::node_type() (see module node), Age::age(), Cache::cache()) -&gt; NewCache::cache()</h3>


<div class="description">

<p>Adds the given node to the cache or updates its age in the Cache if
       present.
       Beware: the node will be added to the cache no matter what size it
       already has!</p>
</div></div>
<div class="function">
<h3 id="remove_node/1">remove_node(Node::node_type() (see module node), Cache::cache()) -&gt; NewCache::cache()</h3>


<div class="description">

<p>Removes any element with the given Node from the Cache.</p>
</div></div>
<div class="function">
<h3 id="trim/1">trim(Cache::cache(), TargetSize::pos_integer()) -&gt; NewCache::cache()</h3>


<div class="description">

<p>Trims the cache to size TargetSize (if necessary) by deleting random
       entries as long as the cache is larger than the given TargetSize.</p>
</div></div>
<div class="function">
<h3 id="debug_format_by_age/1">debug_format_by_age(Cache::cache()) -&gt; KeyValueList::[{Age::age(), Node::string()}]</h3>


<div class="description">

<p>Returns a list of keys (ages) and string values (nodes) for debug output
       used in the web interface.</p>
</div></div></div>

<authors>

<aname>Christian Hennig</aname>
<email>hennig@zib.de</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
