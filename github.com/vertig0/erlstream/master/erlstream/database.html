<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>database (erlstream) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>database</h1>
<h2 class="modsummary">Database implements a simple database to store information about songs.</h2>
<div class="description">
<p><code>Database</code> implements a simple database to store information about songs. In order for lengths to be calculated correctly, the songs must have a bitrate of 192kbps.</p></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="start/2">start(Directory, UpdateInterval) -&gt; Result</h3>

<ul class="type">
<li><code>Directory = string()</code></li><li><code>UpdateInterval = integer()</code></li><li><code>Result = {ok, Pid} | ignore | {error, Reason}</code></li><li><code>Pid = pid()</code></li><li><code>Reason = {already_started, database} | term()</code></li></ul>
<div class="description">

<p>Starts the database and loads information about the available songs in
  the given directory. The database will automatically update its information
  at the specified interval in milliseconds. Refer to the official <code>gen_server</code>
  documentation for further information about the different return values.</p>
</div></div>
<div class="function">
<h3 id="list/0">list() -&gt; [Song]</h3>

<ul class="type">
<li><code>Song = #song{title=string(), artist=string(), album=string(), duration=integer()}</code></li></ul>
<div class="description">

<p>Returns a list with a <code>song</code> record for each song in the database.</p>
</div></div>
<div class="function">
<h3 id="get_directory/0">get_directory() -&gt; Directory</h3>

<ul class="type">
<li><code>Directory = string()</code></li></ul>
<div class="description">

<p>Returns the directory given when starting the database.</p>
</div></div>
<div class="function">
<h3 id="exists/1">exists(Title) -&gt; Result</h3>

<ul class="type">
<li><code>Title = string()</code></li><li><code>Result = true | false</code></li></ul>
<div class="description">

<p>Returns <code>true</code> if a song with the given title exists in the database.</p>
</div></div>
<div class="function">
<h3 id="stop/0">stop() -&gt; ok</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="play/2">play(Title, Offset) -&gt; Result</h3>

<ul class="type">
<li><code>Title = string()</code></li><li><code>Offset = integer()</code></li><li><code>Result = {ok, binary()} | {error, Reason}</code></li><li><code>Reason = offset_too_high | read_failed | no_such_file</code></li></ul>
<div class="description">

<p>Returns binary data for a song with the given title in the database.
  <code>Offset</code> is the number of milliseconds to skip ahead.</p>
</div></div>
<div class="function">
<h3 id="init/1">init(X1) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="handle_call/3">handle_call(X1, From, State) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="handle_cast/2">handle_cast(X1, State) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="handle_info/2">handle_info(Info, State) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="terminate/2">terminate(Reason, State) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="code_change/3">code_change(OldVersion, State, Extra) -&gt; term()
</h3>


<div class="description">
 </div></div></div>

<authors>

<aname>Filip Hedman</aname>
<email>hedman.filip@gmail.com</email>
<aname>Jeanette Castillo</aname>
<email>jeanette.cas@hotmail.com</email>
<aname>Robert Kallgren</aname>
<email>robertkallgren@gmail.com</email>
<aname>Oscar Mangard</aname>
<email>oscarmangard@gmail.com</email>
<aname>Mikael Sernheim</aname>
<email>mikael.sernheim@gmail.com</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
