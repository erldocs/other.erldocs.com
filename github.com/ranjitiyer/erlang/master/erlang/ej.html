<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>ej (erlang) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>ej</h1>
<h2 class="modsummary">Tools for working with Erlang terms representing JSON.</h2>
<div class="description">
<p>Tools for working with Erlang terms representing JSON.</p>
 
  <p>The ej module is intended to make it easy to work with the Erlang
  structure used by <code>mochijson2</code> to represent JSON.  You can use
  <code>ej:get</code> to walk an object and return a particular value, or
  <code>ej:set</code> to update a value.
 </p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-ej_any_of">ej_any_of() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{any_of, {<a href="#type-ej_json_val_spec" class="seealso">ej_json_val_spec()</a>, ErrorMessage :: any()}}</h3></div>
    <div class="type"><h3 id="type-ej_array_map">ej_array_map() = {array_map, <a href="#type-ej_json_val_spec" class="seealso">ej_json_val_spec()</a>}</h3></div>
    <div class="type"><h3 id="type-ej_array_select">ej_array_select() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{select,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all |<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a href="#type-json_string" class="seealso">json_string()</a>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#type-json_string" class="seealso">json_string()</a> | <a href="#type-json_number" class="seealso">json_number()</a> | <a href="#type-json_boolean" class="seealso">json_boolean()</a> | <a href="#type-json_null" class="seealso">json_null()</a>}}</h3></div>
    <div class="type"><h3 id="type-ej_fun_match">ej_fun_match() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{fun_match,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{fun((<a href="#type-json_term" class="seealso">json_term()</a>) -> ok | error),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#type-ej_json_type_name" class="seealso">ej_json_type_name()</a>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;term()}}</h3></div>
    <div class="type"><h3 id="type-ej_json_key_spec">ej_json_key_spec() = binary() | {opt, binary()}</h3></div>
    <div class="type"><h3 id="type-ej_json_spec">ej_json_spec() = {[<a href="#type-ej_json_spec_rule" class="seealso">ej_json_spec_rule()</a>]} | <a href="#type-ej_object_map" class="seealso">ej_object_map()</a></h3></div>
    <div class="type"><h3 id="type-ej_json_spec_rule">ej_json_spec_rule() = {<a href="#type-ej_json_key_spec" class="seealso">ej_json_key_spec()</a>, <a href="#type-ej_json_val_spec" class="seealso">ej_json_val_spec()</a>}</h3></div>
    <div class="type"><h3 id="type-ej_json_type_name">ej_json_type_name() = array<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| boolean<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| null<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| number<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| object<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| string</h3></div>
    <div class="type"><h3 id="type-ej_json_val_spec">ej_json_val_spec() = binary()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a href="#type-ej_json_type_name" class="seealso">ej_json_type_name()</a><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a href="#type-ej_string_match" class="seealso">ej_string_match()</a><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a href="#type-ej_fun_match" class="seealso">ej_fun_match()</a><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a href="#type-ej_array_map" class="seealso">ej_array_map()</a><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a href="#type-ej_object_map" class="seealso">ej_object_map()</a><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a href="#type-ej_any_of" class="seealso">ej_any_of()</a><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| {[<a href="#type-ej_json_val_spec" class="seealso">ej_json_val_spec()</a>]}</h3></div>
    <div class="type"><h3 id="type-ej_key_path">ej_key_path() = <a href="#type-key_tuple" class="seealso">key_tuple()</a> | <a href="#type-key_list" class="seealso">key_list()</a></h3></div>
    <div class="type"><h3 id="type-ej_object_map">ej_object_map() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{object_map,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{keys, <a href="#type-ej_json_val_spec" class="seealso">ej_json_val_spec()</a>}, {values, <a href="#type-ej_json_val_spec" class="seealso">ej_json_val_spec()</a>}}}</h3></div>
    <div class="type"><h3 id="type-ej_spec_type">ej_spec_type() = any_of<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| any_type<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| array_elt<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| exact<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| fun_match<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| json_type<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| missing<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| object_key<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| object_value<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| string_match<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| empty_object<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| empty_array</h3></div>
    <div class="type"><h3 id="type-ej_string_match">ej_string_match() = {string_match, {<a href="re.html#type-mp" class="seealso">re:mp()</a>, term()}}</h3></div>
    <div class="type"><h3 id="type-json_array">json_array() = [<a href="#type-json_term" class="seealso">json_term()</a>]</h3></div>
    <div class="type"><h3 id="type-json_boolean">json_boolean() = true | false</h3></div>
    <div class="type"><h3 id="type-json_null">json_null() = null</h3></div>
    <div class="type"><h3 id="type-json_number">json_number() = integer() | float()</h3></div>
    <div class="type"><h3 id="type-json_object">json_object() = {struct, <a href="#type-json_plist" class="seealso">json_plist()</a>} | {<a href="#type-json_plist" class="seealso">json_plist()</a>}</h3></div>
    <div class="type"><h3 id="type-json_plist">json_plist() = [{<a href="#type-json_string" class="seealso">json_string()</a>, <a href="#type-json_term" class="seealso">json_term()</a>}]</h3></div>
    <div class="type"><h3 id="type-json_string">json_string() = binary()</h3></div>
    <div class="type"><h3 id="type-json_term">json_term() = <a href="#type-json_string" class="seealso">json_string()</a><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a href="#type-json_number" class="seealso">json_number()</a><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a href="#type-json_array" class="seealso">json_array()</a><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a href="#type-json_object" class="seealso">json_object()</a><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a href="#type-json_null" class="seealso">json_null()</a><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a href="#type-json_boolean" class="seealso">json_boolean()</a></h3></div>
    <div class="type"><h3 id="type-key_list">key_list() = [<a href="#type-key_type" class="seealso">key_type()</a>]</h3></div>
    <div class="type"><h3 id="type-key_tuple">key_tuple() = tuple()</h3></div>
    <div class="type"><h3 id="type-key_type">key_type() = binary()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| integer()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| first<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| last<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| new<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a href="#type-ej_array_select" class="seealso">ej_array_select()</a></h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="get/1">get(Keys::ej_key_path(), Obj::json_object() | json_plist()) -&gt; json_term() | undefined</h3>


<div class="description">

<p>Extract a value from <code>Obj</code></p>
 
  <p><code>Keys</code> is a tuple or list specifying a path into the JSON
  structure.  Each string or binary element of <code>Keys</code> will act like a
  Javascript property lookup.  Elements of JSON arrays can be
  accessed by including an integer as an element of <code>Keys</code>.  In
  addition, the atoms <code>'first'</code> and <code>'last'</code> can be used to  
access the first and last elements of a list, respectively.</p>
 
  <p>Additionally, a subset of JSON objects in an array can be selected  
by matching on a key/value pair. This is best explained with an  
example (for compactness, the input and output is shown using JSON  
notation instead of EJSON).</p>
 
  <p>Given:
  </p><pre class="sh_erlang">  Cakes = {[
            {&lt;&lt;"cakes"&gt;&gt;, [
                           {[{&lt;&lt;"frosting"&gt;&gt;, &lt;&lt;"white"&gt;&gt;}, {&lt;&lt;"tastes"&gt;&gt;, &lt;&lt;"good"&gt;&gt;}]},
                           {[{&lt;&lt;"frosting"&gt;&gt;, &lt;&lt;"red"&gt;&gt;},   {&lt;&lt;"tastes"&gt;&gt;, &lt;&lt;"good"&gt;&gt;}]},
                           {[{&lt;&lt;"frosting"&gt;&gt;, &lt;&lt;"blue"&gt;&gt;},  {&lt;&lt;"tastes"&gt;&gt;, &lt;&lt;"bad"&gt;&gt;}]}
                          ]
            }
           ]}.</pre>
 
  <p>Then you can select the good tasting cakes like this:</p>
 
  <pre class="sh_erlang">  ej:get({"cakes", {select {"tastes", "good"}}}, Cakes).
 
  [
   {[{&lt;&lt;"frosting"&gt;&gt;, &lt;&lt;"white"&gt;&gt;}, {&lt;&lt;"tastes"&gt;&gt;, &lt;&lt;"good"&gt;&gt;}]},
   {[{&lt;&lt;"frosting"&gt;&gt;, &lt;&lt;"red"&gt;&gt;},   {&lt;&lt;"tastes"&gt;&gt;, &lt;&lt;"good"&gt;&gt;}]}
  ]</pre><p>
 </p>
</div></div>
<div class="function">
<h3 id="get/1-1">get(Keys::ej_key_path(), Obj::json_object() | json_plist(), Default::json_term()) -&gt; json_term()</h3>


<div class="description">

<p>same as get/2, but returns <code>Default</code> if the specified value was not found.</p>
</div></div>
<div class="function">
<h3 id="set/1">set(Keys::ej_key_path(), Obj::json_object(), Value::json_term()) -&gt; json_term()</h3>


<div class="description">

<p>Set a value in <code>Obj</code></p>
 
  <p>Replaces the value at the path specified by <code>Keys</code> with <code>Value</code> and
  returns the new structure.  If <code>Value</code> is the atom <code>EJ_DELETE</code>,
  then the path specified by <code>Keys</code> is removed (but see <code>delete/2</code>).
 </p>
</div></div>
<div class="function">
<h3 id="set_p/1">set_p(Keys::ej_key_path(), Obj::json_object(), Value::json_term()) -&gt; json_term()</h3>


<div class="description">

<p>Set a value in <code>Obj</code> and create missing intermediate       
nodes if need be.</p>
 
  <p>This resembles the behavior of <code>mkdir -p</code>. If the intermediate  
elements in the structure are missing, then they are created.  This  
is useful when creating complex EJSON structures from scratch.</p>
 
  <p>The arguments are the same as for <code>set</code>.</p>
 
  <p>Example:
  </p><pre class="sh_erlang">  ej:set_p({"users", {select, {"name", "sebastian"}}, "location"},
           {[]},
           &lt;&lt;"Germany"&gt;&gt;).
 
  {[{&lt;&lt;"users"&gt;&gt;,
     [{[{&lt;&lt;"location"&gt;&gt;, &lt;&lt;"Germany"&gt;&gt;},
        {&lt;&lt;"name"&gt;&gt;, &lt;&lt;"sebastian"&gt;&gt;}]}]}]}</pre><p>
 </p>
</div></div>
<div class="function">
<h3 id="delete/1">delete(Keys::ej_key_path(), Obj::json_object()) -&gt; json_object()</h3>


<div class="description">

<p>Remove the item specified by <code>Keys</code>.</p>
</div></div>
<div class="function">
<h3 id="valid/1">valid(Spec::ej_json_spec(), Obj::json_object()) -&gt; ok | #ej_invalid{type=undefined | ej_spec_type(), key=undefined | binary(), found=json_term() | undefined, found_type=ej_json_type_name() | any_value | undefined, expected_type=ej_json_type_name() | any_value | undefined, msg=term() | undefined}</h3>


<div class="description">

<p>Validate JSON terms. Validity is determined by the
  <code>ej_json_spec()` provided which has the shape of EJSON terms but
  with keys and values describing what is expected. `Obj</code> is the
  EJSON term to be validated. This function will return <code>ok</code> if all
  validation rules succeed and a <code>#ej_invalid{}</code> record when the
  first failure is encountered (validation specs are processed in
  order, depth first).  NOTE: this function is experimental and the
  API and definition of specs is subject to change.</p>
</div></div>
<div class="function">
<h3 id="dedup/1">dedup(Val) -&gt; term()
</h3>


<div class="description">

<p>Recursively remove all but the first occurance of duplicated
  keys in EJSON objects. According to
  <url href="http://www.ietf.org/rfc/rfc4627.txt">http://www.ietf.org/rfc/rfc4627.txt</url> JSON objects SHOULD have  
unique keys, but it is not a hard requirement. Some parsers fail  
when encountering duplicate keys.</p>
 
  <p>The spec for <code>dedup</code> should be <code>-spec dedup(json_term()) -&gt;
  json_term().</code>, but dialyzer with <code>-Wunderspecs</code> warns on this I
  think because it exceeds the depth that dialyzer can look.</p>
</div></div></div>

<authors>

<aname>Seth Falcon</aname>
<email>seth@userprimary.net</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
