<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>java_proxy (javaerlang) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>java_proxy</h1>
<h2 class="modsummary">This module implements a facility for creating Java object
  with an implementation in Erlang, using the Javassist byte code manipulation library.</h2>
<div class="description">
<p>This module implements a facility for creating Java object
  with an implementation in Erlang, using the <url href="http://www.csg.ci.i.u-tokyo.ac.jp/~chiba/javassist/">Javassist</url> byte code manipulation library.</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type"><h3 id="type-reply">reply() = {reply, <a href="java.html#type-value" class="seealso">java:value()</a>, any()}</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="class/1">class(NodeId::node_id() (see module java), Name::atom(), SuperClassName::atom(), MethodFuns::[{[{atom(), type() (see module java)}], (...) -&gt; reply()}]) -&gt; obj_ref() (see module java)</h3>


<div class="description">

<p>Creates a new proxy class with the given name and superclass.
  A method of that class is handled by including in the list in the last
  argument a tuple <code>{Methodname,Types,Fun}</code>
  where ''Methodname'' is the atom corresponding to a method in the class,
  <code>Types</code> is a list corresponding to the types of the arguments to the method,
  and <code>Fun</code> is a function of arity <code>length(Types)+2</code> which provides the
  implementation of the method. Any method not listed is handled by the superclass.
  The function implementing the method receives a first argument a
  binary tuple where the first element is the Java object on which the method was
  invoked, and the second element is the Java representation of the method invoked.
  The second argument is the state of the (Erlang) object, which is kept between
  successive invocations of methods of the object.
  The rest of the arguments correspond to the arguments of the method.
  The function should return a tuple <code>{reply,Result,NewState}</code>
  where <code>Result</code> is the result of the method call, and <code>NewState</code>
  is the new (Erlang) object state.
  An example:<br />
  </p><pre class="sh_erlang">  _ActionListenerClass =
     java_proxy:class
     (N,
      'myActionListener',
      'javax.swing.AbstractAction',
      [{{actionPerformed,['java.awt.event.ActionEvent']},fun actionPerformed/3}]).
 
 actionPerformed(_Context,NumCalls,Event) -&gt;
   io:format("An action was performed!~n",[]),
   ..
   {reply,void,NumCalls+1}.</pre><p>
  creates a new Java class that handles invocations of <code>actionPerformed</code>
  (typically in a Java Swing application).</p>
</div></div>
<div class="function">
<h3 id="new/1">new(NodeId::node_id() (see module java), Name::atom(), Init::any()) -&gt; obj_ref() (see module java)</h3>


<div class="description">

<p>Creates a new instance of a proxy class.
  The third argument corresponds to the initial state of the (Erlang) object created.
  An example:<br />
  </p><pre class="sh_erlang">  java_proxy:new(N,'myActionListener',0).</pre>
</div></div></div>

<authors>

<aname>Lars-Ake Fredlund (lfredlund@fi.upm.es)</aname>
<email>Lars-Ake Fredlund (lfredlund@fi.upm.es)</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
