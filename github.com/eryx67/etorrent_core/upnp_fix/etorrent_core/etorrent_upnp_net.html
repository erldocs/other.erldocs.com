<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>etorrent_upnp_net (etorrent_core) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>etorrent_upnp_net</h1>
<h2 class="modsummary">Implements UPnP networking steps, namely, step 1 discovery,       
step 2 description, step 3 control and step 4 eventing.</h2>
<div class="description">
<p>Implements UPnP networking steps, namely, step 1 discovery,       
step 2 description, step 3 control and step 4 eventing.</p>
 
       <p>Note that there's no discovery operation exported by this
       module, because discovery is initiated automatically when
       starting.
 </p></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="start_link/0">start_link() -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="description/2">description(Cat, Prop) -&gt; term()
</h3>


<div class="description">

<p>Retrieves given UPnP device's detailed description.</p>
 
       <p>This is step 2 in UPnP networking. According to UPnP Device
       Architecture 1.0 spec section 2.8, a UPnP control point sends
       an HTTP GET request to retrieve device description:
       </p><pre class="sh_erlang">       GET path to description HTTP/1.1
       HOST: host for description:port for description
       ACCEPT-LANGUAGE: language preferred by control point</pre>
 
       <p>Note that a single UPnP physical device may include multiple       
logical devices. Quotes UPnP Device Architecture 1.0 spec:       
"Multiple logical devices can be modeled as       
a single root device with embedded devices (and services)       
or as multiple root devices (perhaps with no embedded devices).       
In the former case, there is one UPnP device description for       
the root device, and that device description contains a description       
for all embedded devices. In the latter case, there are multiple       
UPnP device descriptions, one for each root device."</p>
 
       <p>After this step, more information about available UPnP services,       
namely, their description Url, control Url, and event subscription       
Url will be learned.</p>
 
       <p>It is also worth metion that in this step, <code>etorrent_upnp_net</code>
       learns which local address certain UPnP device uses to communicate
       with it. This is important later on when etorrent UPnP subsystem
       subcribes to UPnP eventing.</p>
</div></div>
<div class="function">
<h3 id="subscribe/1">subscribe(Service::upnp_service() (see module etorrent_types)) -&gt; {ok, string()} | {error, _Reason}</h3>


<div class="description">

<p>Subscribe to given UPnP service.</p>
 
       <p>4.1.1
       </p><pre class="sh_erlang">       SUBSCRIBE publisher path HTTP/1.1
       HOST: publisher host:publisher port
       CALLBACK: &lt;delivery URL&gt;
       NT: upnp:event
       TIMEOUT: Second-requested subscription duration</pre>
</div></div>
<div class="function">
<h3 id="unsubscribe/1">unsubscribe(Service::upnp_service() (see module etorrent_types)) -&gt; ok</h3>


<div class="description">

<p>Unsubscribe from given UPnP service.</p>
 
       <p>4.1.3
       </p><pre class="sh_erlang">       UNSUBSCRIBE publisher path HTTP/1.1
       HOST: publisher host:publisher port
       SID: uuid:subscription UUID</pre>
</div></div>
<div class="function">
<h3 id="add_port_mapping/1">add_port_mapping(Service::upnp_service() (see module etorrent_types), Proto::tcp | udp, Port::integer()) -&gt; ok | {failed, integer(), string()} | {error, _Reason}</h3>


<div class="description">

<p>Add a port mapping to given UPnP service.</p>
</div></div>
<div class="function">
<h3 id="init/1">init(X1) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="handle_call/3">handle_call(Request, From, S) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="handle_cast/2">handle_cast(Msg, State) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="handle_info/2">handle_info(Info, State) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="terminate/2">terminate(Reason, S) -&gt; term()
</h3>


<div class="description">
 </div></div>
<div class="function">
<h3 id="code_change/3">code_change(OldVer, S, Extra) -&gt; term()
</h3>


<div class="description">
 </div></div></div>

<authors>

<aname>Edward Wang</aname>
<email>yujiangw@gmail.com</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
