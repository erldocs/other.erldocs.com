<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>refac_checks (refactorerl) -  (Erlang Documentation)</title>
    <link href="/erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-54292016-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>refac_checks</h1>
<h2 class="modsummary">This is a package with various useful library functions for the
       refactorings.</h2>
<div class="description">
<p>This is a package with various useful library functions for the
       refactorings. It stores all the precondition checks which are common
       between the refactorings.</p></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="error_handler/1">error_handler(Error::{term(), term()}) -&gt; none()</h3>


<div class="description">

<p>  
Handles error in refactorings. Currently it throws an exception, with  
the given parameters.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  Error : A two element tuple containing the type of the error,
                 and a message to be able to make a better error message.
  </pre>
</div></div>
<div class="function">
<h3 id="check_if_binding_is_unambiguous/1">check_if_binding_is_unambiguous(MId::integer(), VarName::string(), Scope::integer()) -&gt; ok</h3>


<div class="description">

<p>  
Checks if a variable name is bound unambiguously. If it is not, it  
causes an ambiguous_defining_error error.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  MId : Id of the module.
  VarName : Variable name to be checked.
  Scope : The scope to do the search in.
  </pre>
</div></div>
<div class="function">
<h3 id="check_if_body_doesnt_have_sideffects/1">check_if_body_doesnt_have_sideffects(MId::integer(), BodyId::integer()) -&gt; ok</h3>


<div class="description">

<p>  
Checks if a body subtree does not have sideeffects. If it has it  
causes a sideeffect_error error.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  MId : Id of the module.
  BodyId : Id of a body subtree's root.
  </pre>
</div></div>
<div class="function">
<h3 id="check_sideeffect/1">check_sideeffect(MId::integer(), Tree::integer()) -&gt; bool()</h3>


<div class="description">

<p>  
Checks if a node has sideeffects. If it has it returns true, otherwise  
false.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  MId : Id of the module.
  Tree : Id of a node.
  </pre>
</div></div>
<div class="function">
<h3 id="check_if_occurrence_needed/1">check_if_occurrence_needed(MId::integer(), VarId::integer()) -&gt; bool()</h3>


<div class="description">

<p>  
Checks if a varible occurrence is needed.  
(It is not needed if by removing the occurrence the result,  
and the behaviour of the code does not change.) If it is it returns true,  
otherwise false.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  MId : Id of the module.
  VarId : Id of a variable node.
  </pre>
</div></div>
<div class="function">
<h3 id="check_if_binding_occurrence_needed/1">check_if_binding_occurrence_needed(MId::integer(), BId::integer(), BodyId::integer()) -&gt; bool()</h3>


<div class="description">

<p>
  Checks if a the varible's binding occurrence is needed.
  (It is not needed if by removing the occurrence the result,
  and the behaviour of the code does not change.) If it is it returns true,
  otherwise false.
  The observed occurrence looks like this <code>BId = BodyId</code>.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  MId : Id of the module.
  BId : Id of a variable node's binding occurrence.
  BodyId : Id of an expression's root id.
  </pre>
</div></div>
<div class="function">
<h3 id="contains_match_expr/1">contains_match_expr(MId::integer(), BId::integer()) -&gt; bool()</h3>


<div class="description">

<p>  
Checks if the expression of the node contains match_expression.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  MId : Id of the module.
  BId : Id of an expression's root id.
  </pre>
</div></div>
<div class="function">
<h3 id="check_are_match_body_variables_shadowed/1">check_are_match_body_variables_shadowed(MId::integer(), BId::integer(), Scopes::[integer()], VarIdBIdNames::[{integer(), integer(), string()}]) -&gt; false | ok</h3>


<div class="description">

<p>  
Checks if a variable can be substitued at every occurrence with its  
body (the expression which is matched to the variable).</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  MId : Id of the module.
  BId : Id of a variable node's binding occurrence.
  Scopes : Scope ids where we search for the variable occurences.
  VarIdBIdNames :
             The ids, binding occurrence ids, and names of the variables.
  </pre>
</div></div>
<div class="function">
<h3 id="check_inner_scopes_too/1">check_inner_scopes_too(MId::integer(), BId::integer(), Scopes::[integer()]) -&gt; bool()</h3>


<div class="description">

<p>  
Checks if a variable is shadowed in an inner scope.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  MId : Id of the module.
  BId : Id of a variable node's binding occurrence.
  Scopes : Inner scopes of the scope where the variable is.
  </pre>
</div></div>
<div class="function">
<h3 id="check_orderList/1">check_orderList(Order::string(), Arity::integer()) -&gt; ok</h3>


<div class="description">

<p>  
It checks if the produced list is a valid permutation of the original order.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  OrderList : The new order of the function parameters.
  Arity : The arity of the reordered function. </pre>
</div></div>
<div class="function">
<h3 id="check_the_name_already_exists/1">check_the_name_already_exists(NewName::string(), Arity::integer(), FunctionData::[{string(), integer()}]) -&gt; ok</h3>


<div class="description">

<p>  
Checks if introducing a new function would clash with the  
existing ones.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  NewName : The.name of the new function.
  Arity : The.arity of the new function.
  FunctionData : The.existing function's data in a module.
                        (name, arity)
  </pre>
</div></div>
<div class="function">
<h3 id="check_the_name_is_imported/1">check_the_name_is_imported(NewName::string(), Arity::integer(), Importfunctions::[{string(), integer()}]) -&gt; ok</h3>


<div class="description">

<p>  
Checks if introducing a new function would clash with the  
imported ones.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  NewName : The.name of the new function.
  Arity : The.arity of the new function.
  ImportFunctions : The.imported function's data in a module.
                        (name, arity)
  </pre>
</div></div>
<div class="function">
<h3 id="check_isFunctionName/1">check_isFunctionName(NewName::string()) -&gt; ok</h3>


<div class="description">

<p>  
Checks if the new function name is acceptable as a function name.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  NewName : The.name of the new function.
  </pre>
</div></div>
<div class="function">
<h3 id="check_is_autoimported/1">check_is_autoimported(NewName::string()) -&gt; ok</h3>


<div class="description">

<p>  
Checks if the new function name is acceptable as a function name.  
Checks if it is not a reserved word, or an autoimported function's name,  
or a user forbidden name.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  NewName : The.name of the new function.
  </pre>
</div></div>
<div class="function">
<h3 id="check_isVariableName/1">check_isVariableName(NewName::string()) -&gt; ok</h3>


<div class="description">

<p>  
Checks if the new Variable name is acceptable as a function name.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  NewName : The.name of the new variable.
  </pre>
</div></div>
<div class="function">
<h3 id="check_expression/1">check_expression(MId::integer(), NewName::string(), BId::integer(), ScopeId::integer(), Type::integer()) -&gt; ok</h3>


<div class="description">

<p>  
Checks if the new variable name is legal in the expression.  
It does not cause name clash or name capture.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  MId : Id of a module.
  NewName : The.name of the new variable.
  BId : The.binding occurrence of the modified variable.
  ScopeId : The scope of the expression.
  Type : The.type of the expression.
  </pre>
</div></div>
<div class="function">
<h3 id="check_true_pos/1">check_true_pos(CLineCol::{integer(), integer()}, Line::integer(), Col::integer()) -&gt; ok</h3>


<div class="description">

<p>  
Checks if corrected position is legal. It is in the same line where  
the pointed is.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  CLineCol : The corrected postition.
  Line : The pointed line in the code.
  Col : The pointed column in the code.
  </pre>
</div></div>
<div class="function">
<h3 id="check_pos_error/1">check_pos_error(ErrorPos::{integer(), integer()}, IdandType::[{integer(), integer()}]) -&gt; ok</h3>


<div class="description">

<p>  
Checks if on the corrected position there is a legal node.  
For differerent refactorings different nodes are acceptable</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  ErrorPos : The corrected postition.
  IdandType : The acceptable nodes on the pointed position.
  </pre>
</div></div>
<div class="function">
<h3 id="check_is_function_clause/1">check_is_function_clause(IsFunctionClause::[{integer()}]) -&gt; ok</h3>


<div class="description">

<p>  
Checks if the clause on the corrected position is a function's clause.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  IsFunctionClause : The function's id in a list.
  </pre>
</div></div>
<div class="function">
<h3 id="check_is_element/1">check_is_element(IsElement::bool(), ErrorPos::{integer(), integer()}) -&gt; ok</h3>


<div class="description">

<p>  
Checks if the selected element on the corrected position is part of a  
parameter.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  IsElement : A boolean value containing the result of the check.
  ErrorPos : The corrected postition.
  </pre>
</div></div>
<div class="function">
<h3 id="check_parameter_type/1">check_parameter_type(Type::integer(), ErrorPos::{integer(), integer()}) -&gt; ok</h3>


<div class="description">

<p>  
Checks if the selected element on the corrected position is a member  
of a parameters.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  Type : The type of the selected element.
  ErrorPos : The corrected postition.
  </pre>
</div></div>
<div class="function">
<h3 id="check_is_parameter/1">check_is_parameter(PosType::[{integer(), integer()}], ErrorPos::{integer(), integer()}) -&gt; ok</h3>


<div class="description">

<p>  
Checks if the selected element on the corrected position is a member  
of the function.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  PosType : The position and type of the selected element.
  ErrorPos : The corrected postition.
  </pre>
</div></div>
<div class="function">
<h3 id="check_number_error/1">check_number_error(Text::string()) -&gt; ok</h3>


<div class="description">

<p>  
Checks if the given number is bigger then 0.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  Text : The number given as a parameter of the refactoring.
  </pre>
</div></div>
<div class="function">
<h3 id="check_for_length_overrun/1">check_for_length_overrun(EndPos::integer(), MaxPos::integer(), Length::integer()) -&gt; ok</h3>


<div class="description">

<p>  
Checks if the given number indicates tupleing non existing parameters.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  EndPos : The last position which should be tupled.
  MaxPos : The existing last position.
  Length : The number given as a parameter of the refactoring.
  </pre>
</div></div>
<div class="function">
<h3 id="check_name_clash/1">check_name_clash(MId::integer(), FunId::integer(), FunName::string(), OldArity::integer(), NewArity::integer()) -&gt; ok</h3>


<div class="description">

<p>  
Checks if the change in the arity of the function would cause  
name clash with an existing function.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  MId : Id of the module.
  FunId : Id of the function.
  FunName : The name of the function.
  OldArity : The old arity of the function.
  NewArity : The new arity of the function.
  </pre>
</div></div>
<div class="function">
<h3 id="check_outer_name_clash/1">check_outer_name_clash(MId::integer(), MIds::integer(), FunId::integer(), FunName::string(), OldArity::integer(), NewArity::integer()) -&gt; ok</h3>


<div class="description">

<p>  
Checks if the change in the arity of the function would cause  
name clash with an existing function in modules where the function  
is used.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  MId : Id of the module.
  MIds : Id of modules where the function is used.
  FunId : Id of the function.
  FunName : The name of the function.
  OldArity : The old arity of the function.
  NewArity : The new arity of the function.
  </pre>
</div></div>
<div class="function">
<h3 id="check_inner_name_clash/1">check_inner_name_clash(MId::integer(), FunName::string(), NewArity::integer()) -&gt; ok</h3>


<div class="description">

<p>  
Checks if the change in the arity of the function would cause  
name clash with an existing function in the module where the function  
is defined.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  MId : Id of the module.
  FunName : The name of the function.
  NewArity : The new arity of the function.
  </pre>
</div></div>
<div class="function">
<h3 id="check_if_name_exists/1">check_if_name_exists(MId::integer(), Name::string(), RootClause::integer()) -&gt; ok</h3>


<div class="description">

<p>  
Check if the name is already bound in the clause.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  MId : Id of the module.
  Name : Name to be checked for.
  RootClause : Id of the clause containing the expressions.
  </pre>
</div></div>
<div class="function">
<h3 id="check_sideeffects/1">check_sideeffects(ExprId::integer(), Sideeffects::[{integer(), integer(), integer()}]) -&gt; ok</h3>


<div class="description">

<p>  
Check if the expression has sideeffects.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  ExprId : Id of the expression.
  Sideeffects : Parent, id and error description of sideeffects.
  </pre>
</div></div>
<div class="function">
<h3 id="check_found_expression/1">check_found_expression(Found::atom()) -&gt; ok</h3>


<div class="description">

<p>  
Check if an expression was found.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  Found : Description of what was found (not_found etc.).
  </pre>
</div></div>
<div class="function">
<h3 id="check_if_bindings_are_unambiguous/1">check_if_bindings_are_unambiguous(MId::integer(), BoundIds::[integer()], Scope::integer) -&gt; ok</h3>


<div class="description">

<p>  
Checks if variables are bound unambiguously. If they are not, it  
causes an ambiguous_defining_error error.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  MId : Id of the module.
  BoundIds : Variables to be checked.
  Scope : The scope to do the search in.
  </pre>
</div></div>
<div class="function">
<h3 id="check_send/1">check_send(MId::integer(), ExprId::integer()) -&gt; ok</h3>


<div class="description">

<p>  
Checks if the expression contains a !. If it does, it  
causes an in_send error.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  MId : Id of the module.
  ExprId : Id of the expression.
  </pre>
</div></div>
<div class="function">
<h3 id="check_non_binding_in_match_pattern/1">check_non_binding_in_match_pattern(MId::integer(), Root::integer(), VarName::integer()) -&gt; ok</h3>


<div class="description">

<p>  
Checks if the variable name occurs in a match pattern  
as a non-binding occurrence. If it does, it  
causes a non_binding_pattern_occurrence error.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  MId : Id of the module.
  ExprId : Id of the expression.
  </pre>
</div></div>
<div class="function">
<h3 id="check_is_legal_function_name/1">check_is_legal_function_name(NewName::string(), Arity::integer(), FunctionData::[{string(), integer()}], ImportFunction::[{string(), string(), integer()}]) -&gt; ok</h3>


<div class="description">

<p>  
Checks that the function name is a legal function name,  
is not autoimported, is not exists and is not imported.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  NewName : The exported function name.
  Arity : The exported function arity.
  FunctionData : The used functions name and arity.
  ImportFunction : The imported functcion datas.
  </pre>
</div></div>
<div class="function">
<h3 id="check_not_in_head_pattern_guard_macro/1">check_not_in_head_pattern_guard_macro(MId::integer(), Ids::{integer(), integer()} | integer(), Path::[integer()]) -&gt; ok</h3>


<div class="description">

<p>  
Checks the expression id are not a part of  a guard sequence  
or a pattern or a macro or a list_comprehension node.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  MId : Id of the module.
  Path : The path to the root of the selected sequence of expression.
  Ids : Ids of the first and the last expression or NotBounVarLis
               id of the expression.
  </pre>
</div></div>
<div class="function">
<h3 id="check_is_legal_body/1">check_is_legal_body(Found::atom(), FromLine::integer(), FromCol::integer(), ToLine::integer(), ToCol::integer(), MId::integer(), Ids::{integer(), integer()} | integer(), Path::[integer()]) -&gt; ok</h3>


<div class="description">

<p>  
Checks the starting and ending positions delimit a sequence of expression.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  Found : Description of what was found (not_found etc.).
  FromLine : The pointed first line number in the editor.
  FromCol : The pointed first column number in the editor.
  ToLine : The pointed last line number in the editor.
  ToCol : The pointed last column number in the editor.
  MId : The id of the module.
  Ids : Ids of the first and the last expressions or
               id of the expression.
  Path : The path to the root of the selected sequence of expression.
  </pre>
</div></div>
<div class="function">
<h3 id="check_all_var_bound_ok/1">check_all_var_bound_ok(List::[integer()]) -&gt; ok</h3>


<div class="description">

<p>  
Checks that all variables with binding occurence in the selected sequence  
of expression not appear outside of this seqence.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  List : The list of the outsideused insidebounded variables.
  </pre>
</div></div>
<div class="function">
<h3 id="check_if_tuple/1">check_if_tuple(MId::integer(), Found::atom(), ExprId::integer(), FromLine::integer(), FromCol::integer(), ToLine::integer(), ToCol::integer()) -&gt; ok</h3>


<div class="description">

<p>  
Checks if the expression is a tuple. If it is not, it  
raises an invalid_expr error.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  MId : Id of the module.
  Found : The result of the search for the expression.
  ExprId : Id of the expression.
  FromLine : Begining of the selection(Line).
  FromCol : Begining of the selection(Column).
  ToLine : The end of the selection(Line).
  ToCol : The end of the selection(Column).
  </pre>
</div></div>
<div class="function">
<h3 id="check_param_number_equal_to_tuple_length/1">check_param_number_equal_to_tuple_length(RecordParams::[string()], MId::integer(), ExprId::integer()) -&gt; ok</h3>


<div class="description">

<p>  
Checks if the number of the given record field names is equal  
to the number of elements in the tuple.  
If it is not, it raises a length_mismatch error.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  RecordParams : The given record field names.
  MId : Id of the module.
  ExprId : Id of the expression.
  </pre>
</div></div>
<div class="function">
<h3 id="check_if_not_embedded_tuple/1">check_if_not_embedded_tuple(MId::integer(), PathFromRootClause::[integer()]) -&gt; ok</h3>


<div class="description">

<p>  
Checks if the tuple is embedded in an other tuple, list or  
list comprihension. If it is, it raises a not_supported error.</p>
 
  <p>Parameter description:</p><pre class="sh_erlang">
  MId : Id of the module.
  PathFromRootClause :
              The path from the root clause to the tuple.
  </pre>
</div></div></div>

<authors>

<aname>Robert Kitlei</aname>
<email>kitlei@elte.hu</email>
<aname>Tamas Nagy</aname>
<email>lestat@elte.hu</email>
<aname>Aniko Vig</aname>
<email>viganiko@inf.elte.hu</email>
<aname>Melinda Toth</aname>
<email>toth_m@inf.elte.hu</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="/erldocs.js"></script>
  </body>
</html>
